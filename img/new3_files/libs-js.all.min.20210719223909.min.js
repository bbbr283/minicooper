/*
 RequireJS 2.3.2 Copyright jQuery Foundation and other contributors.
 Released under MIT license, https://github.com/requirejs/requirejs/blob/master/LICENSE
 2010-2011 Benjamin Arthur Lupton <contact@balupton.com>
 @license New BSD License <http://creativecommons.org/licenses/BSD/>
 Public Domain
 @author Benjamin Arthur Lupton <contact@balupton.com>
 @author James Padolsey <https://gist.github.com/527683>
 Public Domain
 @author Benjamin Arthur Lupton <contact@balupton.com>
 jQuery v1.11.1 | (c) 2005, 2014 jQuery Foundation, Inc. | jquery.org/license  jQuery & Zepto Lazy - v1.7.4
 http://jquery.eisbehr.de/lazy/

 Copyright 2012 - 2016, Daniel 'Eisbehr' Kern

 Dual licensed under the MIT and GPL-2.0 licenses:
 http://www.opensource.org/licenses/mit-license.php
 http://www.gnu.org/licenses/gpl-2.0.html

 $("img.lazy").lazy();
 CosyEncoder: tool to generate encoded cosy URLs from cosy parameter object / serialized parameter string
 Warning: The CosyEncoder is confidential and must only be distributed in obfuscated form.
 See https://javascriptobfuscator.herokuapp.com/ for more information on obfuscation
 CosyDecoder: tool to decode cosy URLs into serialized parameter strings / parameter objects
 Warning: The CosyDecoder is confidential and must not be distributed in its current form.
 matchMedia() polyfill - Test a CSS media type/query in JS. Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas, David Knight. Dual MIT/BSD license  matchMedia() polyfill addListener/removeListener extension. Author & copyright (c) 2012: Scott Jehl. Dual MIT/BSD license  noUiSlider - 7.0.10 - 2014-12-27 14:50:47  imagesLoaded PACKAGED v3.1.8
 JavaScript is all like "You images are done yet or what?"
 MIT License
 EventEmitter v4.2.6 - git.io/ee
 Oliver Caldwell
 MIT license
 @preserve
 eventie v1.0.4
 event binding helper
   eventie.bind( elem, 'click', myFn )
   eventie.unbind( elem, 'click', myFn )
 imagesLoaded v3.1.8
 JavaScript is all like "You images are done yet or what?"
 MIT License
 Pikaday

 Copyright Â© 2014 David Bushell | BSD & MIT license | https://github.com/dbushell/Pikaday
 shariff - v1.7.4 - 26.02.2015
 https://github.com/heiseonline/shariff
 Copyright (c) 2015 Ines Pauer, Philipp Busse, Sebastian Hilbig, Erich Kramer, Deniz Sesli
 Licensed under the MIT <http://www.opensource.org/licenses/mit-license.php> license
 @overview es6-promise - a tiny implementation of Promises/A+.
 @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 @license   Licensed under MIT license
            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 @version   3.2.2+39aa2571
 Full Tilt v0.5.3 / http://github.com/richtr/Full-Tilt  contact-data-services.js | https://github.com/experiandataquality/RealTimeAddress | Apache-2.0
   Experian Data Quality | https://github.com/experiandataquality */
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(b){var e=0;return function(){return e<b.length?{done:!1,value:b[e++]}:{done:!0}}};$jscomp.arrayIterator=function(b){return{next:$jscomp.arrayIteratorImpl(b)}};$jscomp.makeIterator=function(b){var e="undefined"!=typeof Symbol&&Symbol.iterator&&b[Symbol.iterator];return e?e.call(b):$jscomp.arrayIterator(b)};var requirejs,require,define;
(function(b,e){function k(a,b){return b||""}function g(a){return"[object Function]"===K.call(a)}function c(a){return"[object Array]"===K.call(a)}function a(a,b){if(a){var c;for(c=0;c<a.length&&(!a[c]||!b(a[c],c,a));c+=1);}}function d(a,b){if(a){var c;for(c=a.length-1;-1<c&&(!a[c]||!b(a[c],c,a));--c);}}function f(a,b){return I.call(a,b)}function h(a,b){return f(a,b)&&a[b]}function n(a,b){for(var c in a)if(f(a,c)&&b(a[c],c))break}function m(a,b,d,h){b&&n(b,function(b,e){if(d||!f(a,e))!h||"object"!==
typeof b||!b||c(b)||g(b)||b instanceof RegExp?a[e]=b:(a[e]||(a[e]={}),m(a[e],b,d,h))});return a}function q(a,b){return function(){return b.apply(a,arguments)}}function l(a){throw a;}function t(c){if(!c)return c;var d=b;a(c.split("."),function(a){d=d[a]});return d}function r(a,b,c,d){b=Error(b+"\nhttp://requirejs.org/docs/errors.html#"+a);b.requireType=a;b.requireModules=d;c&&(b.originalError=c);return b}function v(){if(y&&"interactive"===y.readyState)return y;d(document.getElementsByTagName("script"),
function(a){if("interactive"===a.readyState)return y=a});return y}var w,x,u,y,B,z,C,A=/\/\*[\s\S]*?\*\/|([^:"'=]|^)\/\/.*$/mg,D=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,H=/\.js$/,F=/^\.\//;var G=Object.prototype;var K=G.toString,I=G.hasOwnProperty,S=!("undefined"===typeof window||"undefined"===typeof navigator||!window.document),J=!S&&"undefined"!==typeof importScripts,L=S&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,R="undefined"!==typeof opera&&"[object Opera]"===
opera.toString(),O={},U={},N=[],T=!1;if("undefined"===typeof define){if("undefined"!==typeof requirejs){if(g(requirejs))return;U=requirejs;requirejs=void 0}"undefined"===typeof require||g(require)||(U=require,require=void 0);var Q=requirejs=function(a,b,d,f){var e="_";if(!c(a)&&"string"!==typeof a){var g=a;c(b)?(a=b,b=d,d=f):a=[]}g&&g.context&&(e=g.context);(f=h(O,e))||(f=O[e]=Q.s.newContext(e));g&&f.configure(g);return f.require(a,b,d)};Q.config=function(a){return Q(a)};Q.nextTick="undefined"!==
typeof e?function(a){e(a,4)}:function(a){a()};require||(require=Q);Q.version="2.3.2";Q.jsExtRegExp=/^\/|:|\?|\.js$/;Q.isBrowser=S;G=Q.s={contexts:O,newContext:function(k){function x(a,b,c){var d;b=b&&b.split("/");var f=Z.map,e=f&&f["*"];if(a){a=a.split("/");var g=a.length-1;Z.nodeIdCompat&&H.test(a[g])&&(a[g]=a[g].replace(H,""));"."===a[0].charAt(0)&&b&&(g=b.slice(0,b.length-1),a=g.concat(a));g=a;for(d=0;d<g.length;d++){var l=g[d];"."===l?(g.splice(d,1),--d):".."===l&&0!==d&&(1!==d||".."!==g[2])&&
".."!==g[d-1]&&0<d&&(g.splice(d-1,2),d-=2)}a=a.join("/")}if(c&&f&&(b||e)){g=a.split("/");d=g.length;a:for(;0<d;--d){var m=g.slice(0,d).join("/");if(b)for(l=b.length;0<l;--l)if(c=h(f,b.slice(0,l).join("/")))if(c=h(c,m)){var n=c;var k=d;break a}if(!x&&e&&h(e,m)){var x=h(e,m);var u=d}}!n&&x&&(n=x,k=u);n&&(g.splice(0,k,n),a=g.join("/"))}return(n=h(Z.pkgs,a))?n:a}function u(b){S&&a(document.getElementsByTagName("script"),function(a){if(a.getAttribute("data-requiremodule")===b&&a.getAttribute("data-requirecontext")===
aa.contextName)return a.parentNode.removeChild(a),!0})}function v(a){var b=h(Z.paths,a);if(b&&c(b)&&1<b.length)return b.shift(),aa.require.undef(a),aa.makeRequire(null,{skipMap:!0})([a]),!0}function w(a){var b=a?a.indexOf("!"):-1;if(-1<b){var c=a.substring(0,b);a=a.substring(b+1,a.length)}return[c,a]}function B(a,b,c,d){var f=null,e=b?b.name:null,g=a,l=!0,m="";a||(l=!1,a="_@r"+(ra+=1));a=w(a);f=a[0];a=a[1];if(f){f=x(f,e,d);var n=h(ja,f)}if(a)if(f)m=n&&n.normalize?n.normalize(a,function(a){return x(a,
e,d)}):-1===a.indexOf("!")?x(a,e,d):a;else{m=x(a,e,d);a=w(m);f=a[0];m=a[1];c=!0;var k=aa.nameToUrl(m)}c=!f||n||c?"":"_unnormalized"+(X+=1);return{prefix:f,name:m,parentMap:b,unnormalized:!!c,url:k,originalName:g,isDefine:l,id:(f?f+"!"+m:m)+c}}function z(a){var b=a.id,c=h(E,b);c||(c=E[b]=new aa.Module(a));return c}function A(a,b,c){var d=a.id,e=h(E,d);if(!f(ja,d)||e&&!e.defineEmitComplete)if(e=z(a),e.error&&"error"===b)c(e.error);else e.on(b,c);else"defined"===b&&c(ja[d])}function C(b,c){var d=b.requireModules,
f=!1;if(c)c(b);else if(a(d,function(a){if(a=h(E,a))a.error=b,a.events.error&&(f=!0,a.emit("error",b))}),!f)Q.onError(b)}function G(){N.length&&(a(N,function(a){var b=a[0];"string"===typeof b&&(aa.defQueueMap[b]=!0);ma.push(a)}),N=[])}function D(a){delete E[a];delete wa[a]}function K(b,c,d){var f=b.map.id;b.error?b.emit("error",b.error):(c[f]=!0,a(b.depMaps,function(a,f){a=a.id;var e=h(E,a);!e||b.depMatched[f]||d[a]||(h(c,a)?(b.defineDep(f,ja[a]),b.check()):K(e,c,d))}),d[f]=!0)}function p(){var b,
c,d=(b=1E3*Z.waitSeconds)&&aa.startTime+b<(new Date).getTime(),f=[],h=[],g=!1,l=!0;if(!W){W=!0;n(wa,function(a){var b=a.map,e=b.id;if(a.enabled&&(b.isDefine||h.push(a),!a.error))if(!a.inited&&d)v(e)?g=c=!0:(f.push(e),u(e));else if(!a.inited&&a.fetched&&b.isDefine&&(g=!0,!b.prefix))return l=!1});if(d&&f.length)return b=r("timeout","Load timeout for modules: "+f,null,f),b.contextName=aa.contextName,C(b);l&&a(h,function(a){K(a,{},{})});d&&!c||!g||!S&&!J||da||(da=e(function(){da=0;p()},50));W=!1}}function I(a){f(ja,
a[0])||z(B(a[0],null,!0)).init(a[1],a[2])}function O(a){a=a.currentTarget||a.srcElement;var b=aa.onScriptLoad;a.detachEvent&&!R?a.detachEvent("onreadystatechange",b):a.removeEventListener("load",b,!1);b=aa.onScriptError;a.detachEvent&&!R||a.removeEventListener("error",b,!1);return{node:a,id:a&&a.getAttribute("data-requiremodule")}}function U(){for(G();ma.length;){var a=ma.shift();if(null===a[0])return C(r("mismatch","Mismatched anonymous define() module: "+a[a.length-1]));I(a)}aa.defQueueMap={}}var W,
da,Z={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},E={},wa={},P={},ma=[],ja={},ka={},xa={},ra=1,X=1;var Aa={require:function(a){return a.require?a.require:a.require=aa.makeRequire(a.map)},exports:function(a){a.usingExports=!0;if(a.map.isDefine)return a.exports?ja[a.map.id]=a.exports:a.exports=ja[a.map.id]={}},module:function(a){return a.module?a.module:a.module={id:a.map.id,uri:a.map.url,config:function(){return h(Z.config,a.map.id)||{}},exports:a.exports||(a.exports=
{})}}};var Ea=function(a){this.events=h(P,a.id)||{};this.map=a;this.shim=h(Z.shim,a.id);this.depExports=[];this.depMaps=[];this.depMatched=[];this.pluginMaps={};this.depCount=0};Ea.prototype={init:function(a,b,c,d){d=d||{};if(!this.inited){this.factory=b;if(c)this.on("error",c);else this.events.error&&(c=q(this,function(a){this.emit("error",a)}));this.depMaps=a&&a.slice(0);this.errback=c;this.inited=!0;this.ignore=d.ignore;d.enabled||this.enabled?this.enable():this.check()}},defineDep:function(a,
b){this.depMatched[a]||(this.depMatched[a]=!0,--this.depCount,this.depExports[a]=b)},fetch:function(){if(!this.fetched){this.fetched=!0;aa.startTime=(new Date).getTime();var a=this.map;if(this.shim)aa.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],q(this,function(){return a.prefix?this.callPlugin():this.load()}));else return a.prefix?this.callPlugin():this.load()}},load:function(){var a=this.map.url;ka[a]||(ka[a]=!0,aa.load(this.map.id,a))},check:function(){if(this.enabled&&!this.enabling){var b=
this.map.id;var c=this.depExports;var d=this.exports,h=this.factory;if(!this.inited)f(aa.defQueueMap,b)||this.fetch();else if(this.error)this.emit("error",this.error);else if(!this.defining){this.defining=!0;if(1>this.depCount&&!this.defined){if(g(h)){if(this.events.error&&this.map.isDefine||Q.onError!==l)try{d=aa.execCb(b,h,c,d)}catch(Ma){var e=Ma}else d=aa.execCb(b,h,c,d);this.map.isDefine&&void 0===d&&((c=this.module)?d=c.exports:this.usingExports&&(d=this.exports));if(e)return e.requireMap=this.map,
e.requireModules=this.map.isDefine?[this.map.id]:null,e.requireType=this.map.isDefine?"define":"require",C(this.error=e)}else d=h;this.exports=d;if(this.map.isDefine&&!this.ignore&&(ja[b]=d,Q.onResourceLoad)){var m=[];a(this.depMaps,function(a){m.push(a.normalizedMap||a)});Q.onResourceLoad(aa,this.map,m)}D(b);this.defined=!0}this.defining=!1;this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}},callPlugin:function(){var a=this.map,
b=a.id,c=B(a.prefix);this.depMaps.push(c);A(c,"defined",q(this,function(c){var d=h(xa,this.map.id),e=this.map.name,g=this.map.parentMap?this.map.parentMap.name:null,l=aa.makeRequire(a.parentMap,{enableBuildCallback:!0});if(this.map.unnormalized){c.normalize&&(e=c.normalize(e,function(a){return x(a,g,!0)})||"");var m=B(a.prefix+"!"+e,this.map.parentMap);A(m,"defined",q(this,function(a){this.map.normalizedMap=m;this.init([],function(){return a},null,{enabled:!0,ignore:!0})}));if(c=h(E,m.id)){this.depMaps.push(m);
if(this.events.error)c.on("error",q(this,function(a){this.emit("error",a)}));c.enable()}}else if(d)this.map.url=aa.nameToUrl(d),this.load();else{var k=q(this,function(a){this.init([],function(){return a},null,{enabled:!0})});k.error=q(this,function(a){this.inited=!0;this.error=a;a.requireModules=[b];n(E,function(a){0===a.map.id.indexOf(b+"_unnormalized")&&D(a.map.id)});C(a)});k.fromText=q(this,function(c,d){var h=a.name,e=B(h),g=T;d&&(c=d);g&&(T=!1);z(e);f(Z.config,b)&&(Z.config[h]=Z.config[b]);try{Q.exec(c)}catch(Na){return C(r("fromtexteval",
"fromText eval for "+b+" failed: "+Na,Na,[b]))}g&&(T=!0);this.depMaps.push(e);aa.completeLoad(h);l([h],k)});c.load(a.name,l,k,Z)}}));aa.enable(c,this);this.pluginMaps[c.id]=c},enable:function(){wa[this.map.id]=this;this.enabling=this.enabled=!0;a(this.depMaps,q(this,function(a,b){var c;if("string"===typeof a){a=B(a,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap);this.depMaps[b]=a;if(c=h(Aa,a.id)){this.depExports[b]=c(this);return}this.depCount+=1;A(a,"defined",q(this,function(a){this.undefed||
(this.defineDep(b,a),this.check())}));this.errback?A(a,"error",q(this,this.errback)):this.events.error&&A(a,"error",q(this,function(a){this.emit("error",a)}))}c=a.id;var d=E[c];f(Aa,c)||!d||d.enabled||aa.enable(a,this)}));n(this.pluginMaps,q(this,function(a){var b=h(E,a.id);b&&!b.enabled&&aa.enable(a,this)}));this.enabling=!1;this.check()},on:function(a,b){var c=this.events[a];c||(c=this.events[a]=[]);c.push(b)},emit:function(b,c){a(this.events[b],function(a){a(c)});"error"===b&&delete this.events[b]}};
var aa={config:Z,contextName:k,registry:E,defined:ja,urlFetched:ka,defQueue:ma,defQueueMap:{},Module:Ea,makeModuleMap:B,nextTick:Q.nextTick,onError:C,configure:function(b){b.baseUrl&&"/"!==b.baseUrl.charAt(b.baseUrl.length-1)&&(b.baseUrl+="/");if("string"===typeof b.urlArgs){var d=b.urlArgs;b.urlArgs=function(a,b){return(-1===b.indexOf("?")?"?":"\x26")+d}}var f=Z.shim,h={paths:!0,bundles:!0,config:!0,map:!0};n(b,function(a,b){h[b]?(Z[b]||(Z[b]={}),m(Z[b],a,!0,!0)):Z[b]=a});b.bundles&&n(b.bundles,
function(b,c){a(b,function(a){a!==c&&(xa[a]=c)})});b.shim&&(n(b.shim,function(a,b){c(a)&&(a={deps:a});!a.exports&&!a.init||a.exportsFn||(a.exportsFn=aa.makeShimExports(a));f[b]=a}),Z.shim=f);b.packages&&a(b.packages,function(a){a="string"===typeof a?{name:a}:a;var b=a.name;a.location&&(Z.paths[b]=a.location);Z.pkgs[b]=a.name+"/"+(a.main||"main").replace(F,"").replace(H,"")});n(E,function(a,b){a.inited||a.map.unnormalized||(a.map=B(b,null,!0))});(b.deps||b.callback)&&aa.require(b.deps||[],b.callback)},
makeShimExports:function(a){return function(){var c;a.init&&(c=a.init.apply(b,arguments));return c||a.exports&&t(a.exports)}},makeRequire:function(a,b){function c(d,h,e){var l;b.enableBuildCallback&&h&&g(h)&&(h.__requireJsBuild=!0);if("string"===typeof d){if(g(h))return C(r("requireargs","Invalid require call"),e);if(a&&f(Aa,d))return Aa[d](E[a.id]);if(Q.get)return Q.get(aa,d,a,c);var m=B(d,a,!1,!0);m=m.id;return f(ja,m)?ja[m]:C(r("notloaded",'Module name "'+m+'" has not been loaded yet for context: '+
k+(a?"":". Use require([])")))}U();aa.nextTick(function(){U();l=z(B(null,a));l.skipMap=b.skipMap;l.init(d,h,e,{enabled:!0});p()});return c}b=b||{};m(c,{isBrowser:S,toUrl:function(b){var c=b.lastIndexOf("."),d=b.split("/")[0];if(-1!==c&&("."!==d&&".."!==d||1<c)){var f=b.substring(c,b.length);b=b.substring(0,c)}return aa.nameToUrl(x(b,a&&a.id,!0),f,!0)},defined:function(b){return f(ja,B(b,a,!1,!0).id)},specified:function(b){b=B(b,a,!1,!0).id;return f(ja,b)||f(E,b)}});a||(c.undef=function(b){G();var c=
B(b,a,!0),f=h(E,b);f.undefed=!0;u(b);delete ja[b];delete ka[c.url];delete P[b];d(ma,function(a,c){a[0]===b&&ma.splice(c,1)});delete aa.defQueueMap[b];f&&(f.events.defined&&(P[b]=f.events),D(b))});return c},enable:function(a){h(E,a.id)&&z(a).enable()},completeLoad:function(a){var b=h(Z.shim,a)||{},c=b.exports;for(G();ma.length;){var d=ma.shift();if(null===d[0]){d[0]=a;if(e)break;var e=!0}else d[0]===a&&(e=!0);I(d)}aa.defQueueMap={};d=h(E,a);if(!e&&!f(ja,a)&&d&&!d.inited)if(!Z.enforceDefine||c&&t(c))I([a,
b.deps||[],b.exportsFn]);else return v(a)?void 0:C(r("nodefine","No define call for "+a,null,[a]));p()},nameToUrl:function(a,b,d){var f,e;(f=h(Z.pkgs,a))&&(a=f);if(f=h(xa,a))return aa.nameToUrl(f,b,d);if(Q.jsExtRegExp.test(a))f=a+(b||"");else{f=Z.paths;var g=a.split("/");for(e=g.length;0<e;--e){var l=g.slice(0,e).join("/");if(l=h(f,l)){c(l)&&(l=l[0]);g.splice(0,e,l);break}}f=g.join("/");f+=b||(/^data:|^blob:|\?/.test(f)||d?"":".js");f=("/"===f.charAt(0)||f.match(/^[\w\+\.\-]+:/)?"":Z.baseUrl)+f}return Z.urlArgs&&
!/^blob:/.test(f)?f+Z.urlArgs(a,f):f},load:function(a,b){Q.load(aa,a,b)},execCb:function(a,b,c,d){return b.apply(d,c)},onScriptLoad:function(a){if("load"===a.type||L.test((a.currentTarget||a.srcElement).readyState))y=null,a=O(a),aa.completeLoad(a.id)},onScriptError:function(b){var c=O(b);if(!v(c.id)){var d=[];n(E,function(b,f){0!==f.indexOf("_@r")&&a(b.depMaps,function(a){if(a.id===c.id)return d.push(f),!0})});return C(r("scripterror",'Script error for "'+c.id+(d.length?'", needed by: '+d.join(", "):
'"'),b,[c.id]))}}};aa.require=aa.makeRequire();return aa}};Q({});a(["toUrl","undef","defined","specified"],function(a){Q[a]=function(){var b=O._;return b.require[a].apply(b,arguments)}});if(S){var da=G.head=document.getElementsByTagName("head")[0];if(w=document.getElementsByTagName("base")[0])da=G.head=w.parentNode}Q.onError=l;Q.createNode=function(a,b,c){b=a.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");b.type=a.scriptType||"text/javascript";
b.charset="utf-8";b.async=!0;return b};Q.load=function(a,b,c){var d=a&&a.config||{};if(S){var f=Q.createNode(d,b,c);f.setAttribute("data-requirecontext",a.contextName);f.setAttribute("data-requiremodule",b);!f.attachEvent||f.attachEvent.toString&&0>f.attachEvent.toString().indexOf("[native code")||R?(f.addEventListener("load",a.onScriptLoad,!1),f.addEventListener("error",a.onScriptError,!1)):(T=!0,f.attachEvent("onreadystatechange",a.onScriptLoad));f.src=c;if(d.onNodeCreated)d.onNodeCreated(f,d,b,
c);B=f;w?da.insertBefore(f,w):da.appendChild(f);B=null;return f}if(J)try{e(function(){},0),importScripts(c),a.completeLoad(b)}catch(sa){a.onError(r("importscripts","importScripts failed for "+b+" at "+c,sa,[b]))}};S&&!U.skipDataMain&&d(document.getElementsByTagName("script"),function(a){da||(da=a.parentNode);if(x=a.getAttribute("data-main"))return z=x,U.baseUrl||-1!==z.indexOf("!")||(u=z.split("/"),z=u.pop(),C=u.length?u.join("/")+"/":"./",U.baseUrl=C),z=z.replace(H,""),Q.jsExtRegExp.test(z)&&(z=
x),U.deps=U.deps?U.deps.concat(z):[z],!0});define=function(a,b,d){var f;"string"!==typeof a&&(d=b,b=a,a=null);c(b)||(d=b,b=null);!b&&g(d)&&(b=[],d.length&&(d.toString().replace(A,k).replace(D,function(a,c){b.push(c)}),b=(1===d.length?["require"]:["require","exports","module"]).concat(b)));if(T&&(f=B||v())){a||(a=f.getAttribute("data-requiremodule"));var h=O[f.getAttribute("data-requirecontext")]}h?(h.defQueue.push([a,b,d]),h.defQueueMap[a]=!0):N.push([a,b,d])};define.amd={jQuery:!0};Q.exec=function(a){return eval(a)};
Q(U)}})(this,"undefined"===typeof setTimeout?void 0:setTimeout);
(function(){var b=[],e=[],k=window.define,g=function(){var a=null;0<b.length&&(a=b.pop());return a},c=function(a){for(var b=!1,c=0;c<e.length;c++)if(a===e[c]){console.log("WARNING: Module ID '"+a+"' is already defined.");b=!0;break}b||e.push(a)};window.defineNextId=function(a){b.push(a)};window.define=function(a,b,f){"[object Array]"===Object.prototype.toString.call(a)?(f=b,b=a,a=g(),null!=a?(c(a),k(a,b,f)):console.log("WARNING: No define ID is given.")):"[object Function]"===Object.prototype.toString.call(a)?
(f=a,a=g(),null!=a?(c(a),k(a,f)):console.log("WARNING: No define ID is given.")):(c(a),k(a,b,f))};window.define.nextId=window.defineNextId;window.define.amd=k.amd;window.define.definedModuleIds=e})();define.nextId("require-css");
define(function(){if("undefined"==typeof window)return{load:function(a,b,c){c()}};var b=document.getElementsByTagName("head")[0],e=window.navigator.userAgent.match(/Trident\/([^ ;]*)|AppleWebKit\/([^ ;]*)|Opera\/([^ ;]*)|rv:([^ ;]*)(.*?)Gecko\/([^ ;]*)|MSIE\s([^ ;]*)|AndroidWebKit\/([^ ;]*)/)||0,k=!1,g=!0;e[1]||e[7]?k=6>parseInt(e[1])||9>=parseInt(e[7]):e[2]||e[8]?g=!1:e[4]&&(k=18>parseInt(e[4]));e={pluginBuilder:"./css-builder"};var c,a,d=function(){c=document.createElement("style");b.appendChild(c);
a=c.styleSheet||c.sheet},f=0,h=[],n,m=function(b){a.addImport(b);c.onload=function(){n();var a=h.shift();a?(n=a[1],m(a[0])):n=null};f++;31==f&&(d(),f=0)},q=function(b,f){a&&a.addImport||d();if(a&&a.addImport)n?h.push([b,f]):(m(b),n=f);else{c.textContent='@import "'+b+'";';var e=setInterval(function(){try{c.sheet.cssRules,clearInterval(e),f()}catch(w){}},10)}},l=function(a,c){var d=document.createElement("link");d.type="text/css";d.rel="stylesheet";if(g)d.onload=function(){d.onload=function(){};setTimeout(c,
7)};else var f=setInterval(function(){for(var a=0;a<document.styleSheets.length;a++)if(document.styleSheets[a].href==d.href)return clearInterval(f),c()},10);d.href=a;b.appendChild(d)};e.normalize=function(a,b){".css"==a.substr(a.length-4,4)&&(a=a.substr(0,a.length-4));return b(a)};e.load=function(a,b,c,d){(k?q:l)(b.toUrl(a+".css"),c)};return e});
!function(b,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=b.document?e(b,!0):function(b){if(!b.document)throw Error("jQuery requires a window with a document");return e(b)}:e(b)}("undefined"!=typeof window?window:this,function(b,e){function k(a){var b=a.length,c=p.type(a);return"function"===c||p.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&0<b&&b-1 in a}function g(a,b,c){if(p.isFunction(b))return p.grep(a,function(a,d){return!!b.call(a,d,
a)!==c});if(b.nodeType)return p.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(wa.test(b))return p.filter(b,a,c);b=p.filter(b,a)}return p.grep(a,function(a){return 0<=p.inArray(a,b)!==c})}function c(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}function a(a){var b=X[a]={};return p.each(a.match(ra)||[],function(a,c){b[c]=!0}),b}function d(){P.addEventListener?(P.removeEventListener("DOMContentLoaded",f,!1),b.removeEventListener("load",f,!1)):(P.detachEvent("onreadystatechange",
f),b.detachEvent("onload",f))}function f(){(P.addEventListener||"load"===event.type||"complete"===P.readyState)&&(d(),p.ready())}function h(a,b,c){if(void 0===c&&1===a.nodeType){var d="data-"+b.replace(La,"-$1").toLowerCase();if(c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:aa.test(c)?p.parseJSON(c):c}catch(Rb){}p.data(a,b,c)}else c=void 0}return c}function n(a){for(var b in a)if(("data"!==b||!p.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;
return!0}function m(a,b,c,d){if(p.acceptData(a)){var f,h,e=p.expando,g=a.nodeType,l=g?p.cache:a,m=g?a[e]:a[e]&&e;if(m&&l[m]&&(d||l[m].data)||void 0!==c||"string"!=typeof b)return m||(m=g?a[e]=V.pop()||p.guid++:e),l[m]||(l[m]=g?{}:{toJSON:p.noop}),("object"==typeof b||"function"==typeof b)&&(d?l[m]=p.extend(l[m],b):l[m].data=p.extend(l[m].data,b)),h=l[m],d||(h.data||(h.data={}),h=h.data),void 0!==c&&(h[p.camelCase(b)]=c),"string"==typeof b?(f=h[b],null==f&&(f=h[p.camelCase(b)])):f=h,f}}function q(a,
b,c){if(p.acceptData(a)){var d,f,h=a.nodeType,e=h?p.cache:a,g=h?a[p.expando]:p.expando;if(e[g]){if(b&&(d=c?e[g]:e[g].data)){p.isArray(b)?b=b.concat(p.map(b,p.camelCase)):b in d?b=[b]:(b=p.camelCase(b),b=b in d?[b]:b.split(" "));for(f=b.length;f--;)delete d[b[f]];if(c?!n(d):!p.isEmptyObject(d))return}(c||(delete e[g].data,n(e[g])))&&(h?p.cleanData([a],!0):M.deleteExpando||e!=e.window?delete e[g]:e[g]=null)}}}function l(){return!0}function t(){return!1}function r(){try{return P.activeElement}catch(Ja){}}
function v(a){var b=ib.split("|");a=a.createDocumentFragment();if(a.createElement)for(;b.length;)a.createElement(b.pop());return a}function w(a,b){var c,d,f=0,h="undefined"!==typeof a.getElementsByTagName?a.getElementsByTagName(b||"*"):"undefined"!==typeof a.querySelectorAll?a.querySelectorAll(b||"*"):void 0;if(!h)for(h=[],c=a.childNodes||a;null!=(d=c[f]);f++)!b||p.nodeName(d,b)?h.push(d):p.merge(h,w(d,b));return void 0===b||b&&p.nodeName(a,b)?p.merge([a],h):h}function x(a){Xa.test(a.type)&&(a.defaultChecked=
a.checked)}function u(a,b){return p.nodeName(a,"table")&&p.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function y(a){return a.type=(null!==p.find.attr(a,"type"))+"/"+a.type,a}function B(a){var b=kb.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function z(a,b){for(var c,d=0;null!=(c=a[d]);d++)p._data(c,"globalEval",!b||p._data(b[d],"globalEval"))}function C(a,b){if(1===b.nodeType&&p.hasData(a)){var c,
d;var f=p._data(a);a=p._data(b,f);var h=f.events;if(h)for(c in delete a.handle,a.events={},h)for(f=0,d=h[c].length;d>f;f++)p.event.add(b,c,h[c][f]);a.data&&(a.data=p.extend({},a.data))}}function A(a,c){var d;a=p(c.createElement(a)).appendTo(c.body);c=b.getDefaultComputedStyle&&(d=b.getDefaultComputedStyle(a[0]))?d.display:p.css(a[0],"display");return a.detach(),c}function D(a){var b=P,c=$a[a];return c||(c=A(a,b),"none"!==c&&c||(Ba=(Ba||p("\x3ciframe frameborder\x3d'0' width\x3d'0' height\x3d'0'/\x3e")).appendTo(b.documentElement),
b=(Ba[0].contentWindow||Ba[0].contentDocument).document,b.write(),b.close(),c=A(a,b),Ba.detach()),$a[a]=c),c}function H(a,b){return{get:function(){var c=a();if(null!=c)return c?void delete this.get:(this.get=b).apply(this,arguments)}}}function F(a,b){if(b in a)return b;for(var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,f=Fb.length;f--;)if(b=Fb[f]+c,b in a)return b;return d}function G(a,b){for(var c,d,f,h=[],e=0,g=a.length;g>e;e++)d=a[e],d.style&&(h[e]=p._data(d,"olddisplay"),c=d.style.display,b?(h[e]||
"none"!==c||(d.style.display=""),""===d.style.display&&va(d)&&(h[e]=p._data(d,"olddisplay",D(d.nodeName)))):(f=va(d),(c&&"none"!==c||!f)&&p._data(d,"olddisplay",f?c:p.css(d,"display"))));for(e=0;g>e;e++)d=a[e],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?h[e]||"":"none"));return a}function K(a,b,c){return(a=vb.exec(b))?Math.max(0,a[1]-(c||0))+(a[2]||"px"):b}function I(a,b,c,d,f){b=c===(d?"border":"content")?4:"width"===b?1:0;for(var h=0;4>b;b+=2)"margin"===c&&(h+=
p.css(a,c+ha[b],!0,f)),d?("content"===c&&(h-=p.css(a,"padding"+ha[b],!0,f)),"margin"!==c&&(h-=p.css(a,"border"+ha[b]+"Width",!0,f))):(h+=p.css(a,"padding"+ha[b],!0,f),"padding"!==c&&(h+=p.css(a,"border"+ha[b]+"Width",!0,f)));return h}function S(a,b,c){var d=!0,f="width"===b?a.offsetWidth:a.offsetHeight,h=Ga(a),e=M.boxSizing&&"border-box"===p.css(a,"boxSizing",!1,h);if(0>=f||null==f){if(f=Ha(a,b,h),(0>f||null==f)&&(f=a.style[b]),Ca.test(f))return f;d=e&&(M.boxSizingReliable()||f===a.style[b]);f=parseFloat(f)||
0}return f+I(a,b,c||(e?"border":"content"),d,h)+"px"}function J(a,b,c,d,f){return new J.prototype.init(a,b,c,d,f)}function L(){return setTimeout(function(){Ta=void 0}),Ta=p.now()}function R(a,b){var c={height:a},d=0;for(b=b?1:0;4>d;d+=2-b){var f=ha[d];c["margin"+f]=c["padding"+f]=a}return b&&(c.opacity=c.width=a),c}function O(a,b,c){for(var d,f=(ab[b]||[]).concat(ab["*"]),h=0,e=f.length;e>h;h++)if(d=f[h].call(c,b,a))return d}function U(a,b){var c,d,f,h,e;for(c in a)if(d=p.camelCase(c),f=b[d],h=a[c],
p.isArray(h)&&(f=h[1],h=a[c]=h[0]),c!==d&&(a[d]=h,delete a[c]),e=p.cssHooks[d],e&&"expand"in e)for(c in h=e.expand(h),delete a[d],h)c in a||(a[c]=h[c],b[c]=f);else b[d]=f}function N(a,b,c){var d,f=0,h=lb.length,e=p.Deferred().always(function(){delete g.elem}),g=function(){if(d)return!1;var b=Ta||L();b=Math.max(0,l.startTime+l.duration-b);for(var c=1-(b/l.duration||0),f=0,h=l.tweens.length;h>f;f++)l.tweens[f].run(c);return e.notifyWith(a,[l,c,b]),1>c&&h?b:(e.resolveWith(a,[l]),!1)},l=e.promise({elem:a,
props:p.extend({},b),opts:p.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:Ta||L(),duration:c.duration,tweens:[],createTween:function(b,c){b=p.Tween(a,l.opts,b,c,l.opts.specialEasing[b]||l.opts.easing);return l.tweens.push(b),b},stop:function(b){var c=0,f=b?l.tweens.length:0;if(d)return this;for(d=!0;f>c;c++)l.tweens[c].run(1);return b?e.resolveWith(a,[l,b]):e.rejectWith(a,[l,b]),this}});c=l.props;for(U(c,l.opts.specialEasing);h>f;f++)if(b=lb[f].call(l,a,c,l.opts))return b;
return p.map(c,O,l),p.isFunction(l.opts.start)&&l.opts.start.call(a,l),p.fx.timer(p.extend(g,{elem:a,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function T(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d=0,f=b.toLowerCase().match(ra)||[];if(p.isFunction(c))for(;b=f[d++];)"+"===b.charAt(0)?(b=b.slice(1)||"*",(a[b]=a[b]||[]).unshift(c)):(a[b]=a[b]||[]).push(c)}}function Q(a,b,c,d){function f(g){var l;
return h[g]=!0,p.each(a[g]||[],function(a,g){a=g(b,c,d);return"string"!=typeof a||e||h[a]?e?!(l=a):void 0:(b.dataTypes.unshift(a),f(a),!1)}),l}var h={},e=a===wb;return f(b.dataTypes[0])||!h["*"]&&f("*")}function da(a,b){var c,d,f=p.ajaxSettings.flatOptions||{};for(d in b)void 0!==b[d]&&((f[d]?a:c||(c={}))[d]=b[d]);return c&&p.extend(!0,a,c),a}function W(a,b,c,d){var f;if(p.isArray(b))p.each(b,function(b,f){c||Tb.test(a)?d(a,f):W(a+"["+("object"==typeof f?b:"")+"]",f,c,d)});else if(c||"object"!==p.type(b))d(a,
b);else for(f in b)W(a+"["+f+"]",b[f],c,d)}function ca(){try{return new b.XMLHttpRequest}catch(Ja){}}function Y(a){return p.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var V=[],la=V.slice,sa=V.concat,ta=V.push,pa=V.indexOf,qa={},ya=qa.toString,na=qa.hasOwnProperty,M={},p=function(a,b){return new p.fn.init(a,b)},za=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ia=/^-ms-/,ua=/-([\da-z])/gi,ba=function(a,b){return b.toUpperCase()};p.fn=p.prototype={jquery:"1.11.1",constructor:p,selector:"",
length:0,toArray:function(){return la.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:la.call(this)},pushStack:function(a){a=p.merge(this.constructor(),a);return a.prevObject=this,a.context=this.context,a},each:function(a,b){return p.each(this,a,b)},map:function(a){return this.pushStack(p.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(la.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},
eq:function(a){var b=this.length;a=+a+(0>a?b:0);return this.pushStack(0<=a&&b>a?[this[a]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:ta,sort:V.sort,splice:V.splice};p.extend=p.fn.extend=function(){var a,b,c,d,f=arguments[0]||{},h=1,e=arguments.length,g=!1;"boolean"==typeof f&&(g=f,f=arguments[h]||{},h++);"object"==typeof f||p.isFunction(f)||(f={});for(h===e&&(f=this,h--);e>h;h++)if(null!=(c=arguments[h]))for(b in c){var l=f[b];var m=c[b];f!==m&&(g&&m&&(p.isPlainObject(m)||
(a=p.isArray(m)))?(a?(a=!1,d=l&&p.isArray(l)?l:[]):d=l&&p.isPlainObject(l)?l:{},f[b]=p.extend(g,d,m)):void 0!==m&&(f[b]=m))}return f};p.extend({expando:"jQuery"+("1.11.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw Error(a);},noop:function(){},isFunction:function(a){return"function"===p.type(a)},isArray:Array.isArray||function(a){return"array"===p.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!p.isArray(a)&&0<=a-parseFloat(a)},isEmptyObject:function(a){for(var b in a)return!1;
return!0},isPlainObject:function(a){var b;if(!a||"object"!==p.type(a)||a.nodeType||p.isWindow(a))return!1;try{if(a.constructor&&!na.call(a,"constructor")&&!na.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(Qb){return!1}if(M.ownLast)for(b in a)return na.call(a,b);for(b in a);return void 0===b||na.call(a,b)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?qa[ya.call(a)]||"object":typeof a},globalEval:function(a){a&&p.trim(a)&&(b.execScript||function(a){b.eval.call(b,
a)})(a)},camelCase:function(a){return a.replace(ia,"ms-").replace(ua,ba)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,f=0,h=a.length,e=k(a);if(c)if(e)for(;h>f&&(d=b.apply(a[f],c),!1!==d);f++);else for(f in a){if(d=b.apply(a[f],c),!1===d)break}else if(e)for(;h>f&&(d=b.call(a[f],f,a[f]),!1!==d);f++);else for(f in a)if(d=b.call(a[f],f,a[f]),!1===d)break;return a},trim:function(a){return null==a?"":(a+"").replace(za,"")},makeArray:function(a,
b){b=b||[];return null!=a&&(k(Object(a))?p.merge(b,"string"==typeof a?[a]:a):ta.call(b,a)),b},inArray:function(a,b,c){if(b){if(pa)return pa.call(b,a,c);var d=b.length;for(c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,b){for(var c=+b.length,d=0,f=a.length;c>d;)a[f++]=b[d++];if(c!==c)for(;void 0!==b[d];)a[f++]=b[d++];return a.length=f,a},grep:function(a,b,c){for(var d=[],f=0,h=a.length,e=!c;h>f;f++)c=!b(a[f],f),c!==e&&d.push(a[f]);return d},map:function(a,
b,c){var d=0,f=a.length,h=[];if(k(a))for(;f>d;d++){var e=b(a[d],d,c);null!=e&&h.push(e)}else for(d in a)e=b(a[d],d,c),null!=e&&h.push(e);return sa.apply([],h)},guid:1,proxy:function(a,b){var c,d,f;return"string"==typeof b&&(f=a[b],b=a,a=f),p.isFunction(a)?(c=la.call(arguments,2),d=function(){return a.apply(b||this,c.concat(la.call(arguments)))},d.guid=a.guid=a.guid||p.guid++,d):void 0},now:function(){return+new Date},support:M});p.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),
function(a,b){qa["[object "+b+"]"]=b.toLowerCase()});var oa=function(a){function b(a,b,c,d){var f,h,e,g,l;if((b?b.ownerDocument||b:F)!==G&&ba(b),b=b||G,c=c||[],!a||"string"!=typeof a)return c;if(1!==(g=b.nodeType)&&9!==g)return[];if(p&&!d){if(f=na.exec(a))if(e=f[1])if(9===g){if(h=b.getElementById(e),!h||!h.parentNode)return c;if(h.id===e)return c.push(h),c}else{if(b.ownerDocument&&(h=b.ownerDocument.getElementById(e))&&K(b,h)&&h.id===e)return c.push(h),c}else{if(f[2])return V.apply(c,b.getElementsByTagName(a)),
c;if((e=f[3])&&ha.getElementsByClassName&&b.getElementsByClassName)return V.apply(c,b.getElementsByClassName(e)),c}if(ha.qsa&&(!ea||!ea.test(a))){if(h=f=I,e=b,l=9===g&&a,1===g&&"object"!==b.nodeName.toLowerCase()){g=X(a);(f=b.getAttribute("id"))?h=f.replace(Fa,"\\$\x26"):b.setAttribute("id",h);h="[id\x3d'"+h+"'] ";for(e=g.length;e--;)g[e]=h+x(g[e]);e=Y.test(a)&&n(b.parentNode)||b;l=g.join(",")}if(l)try{return V.apply(c,e.querySelectorAll(l)),c}catch(tc){}finally{f||b.removeAttribute("id")}}}return Ja(a.replace(W,
"$1"),b,c,d)}function c(){function a(c,d){return b.push(c+" ")>fa.cacheLength&&delete a[b.shift()],a[c+" "]=d}var b=[];return a}function d(a){return a[I]=!0,a}function f(a){var b=G.createElement("div");try{return!!a(b)}catch(rc){return!1}finally{b.parentNode&&b.parentNode.removeChild(b)}}function h(a,b){var c=a.split("|");for(a=a.length;a--;)fa.attrHandle[c[a]]=b}function e(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||-2147483648)-(~a.sourceIndex||-2147483648);if(d)return d;
if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function g(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}function l(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function m(a){return d(function(b){return b=+b,d(function(c,d){for(var f,h=a([],c.length,b),e=h.length;e--;)c[f=h[e]]&&(c[f]=!(d[f]=c[f]))})})}function n(a){return a&&"undefined"!==typeof a.getElementsByTagName&&a}function k(){}function x(a){for(var b=
0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function u(a,b,c){var d=b.dir,f=c&&"parentNode"===d,h=T++;return b.first?function(b,c,h){for(;b=b[d];)if(1===b.nodeType||f)return a(b,c,h)}:function(b,c,e){var g,l,m=[J,h];if(e)for(;b=b[d];){if((1===b.nodeType||f)&&a(b,c,e))return!0}else for(;b=b[d];)if(1===b.nodeType||f){if(l=b[I]||(b[I]={}),(g=l[d])&&g[0]===J&&g[1]===h)return m[2]=g[2];if(l[d]=m,m[2]=a(b,c,e))return!0}}}function v(a){return 1<a.length?function(b,c,d){for(var f=a.length;f--;)if(!a[f](b,
c,d))return!1;return!0}:a[0]}function q(a,b,c,d,f){for(var h,e=[],g=0,l=a.length,m=null!=b;l>g;g++)(h=a[g])&&(!c||c(h,d,f))&&(e.push(h),m&&b.push(g));return e}function w(a,c,f,h,e,g){return h&&!h[I]&&(h=w(h)),e&&!e[I]&&(e=w(e,g)),d(function(d,g,l,m){var n,k=[],x=[],u=g.length,v;if(!(v=d)){v=c||"*";for(var w=l.nodeType?[l]:l,t=[],B=0,z=w.length;z>B;B++)b(v,w[B],t);v=t}v=!a||!d&&c?v:q(v,k,a,l,m);w=f?e||(d?a:u||h)?[]:g:v;if(f&&f(v,w,l,m),h){var y=q(w,x);h(y,[],l,m);for(l=y.length;l--;)(n=y[l])&&(w[x[l]]=
!(v[x[l]]=n))}if(d){if(e||a){if(e){y=[];for(l=w.length;l--;)(n=w[l])&&y.push(v[l]=n);e(null,w=[],y,m)}for(l=w.length;l--;)(n=w[l])&&-1<(y=e?R.call(d,n):k[l])&&(d[y]=!(g[y]=n))}}else w=q(w===g?w.splice(u,w.length):w),e?e(null,g,w,m):V.apply(g,w)})}function t(a){var b,c,d=a.length,f=fa.relative[a[0].type];var h=f||fa.relative[" "];for(var e=f?1:0,g=u(function(a){return a===b},h,!0),l=u(function(a){return-1<R.call(b,a)},h,!0),m=[function(a,c,d){return!f&&(d||c!==r)||((b=c).nodeType?g(a,c,d):l(a,c,d))}];d>
e;e++)if(h=fa.relative[a[e].type])m=[u(v(m),h)];else{if(h=fa.filter[a[e].type].apply(null,a[e].matches),h[I]){for(c=++e;d>c&&!fa.relative[a[c].type];c++);return w(1<e&&v(m),1<e&&x(a.slice(0,e-1).concat({value:" "===a[e-2].type?"*":""})).replace(W,"$1"),h,c>e&&t(a.slice(e,c)),d>c&&t(a=a.slice(c)),d>c&&x(a))}m.push(h)}return v(m)}function B(a,c){var f=0<c.length,h=0<a.length,e=function(d,e,g,l,m){var n,k,x,u=0,v="0",w=d&&[],t=[],B=r,z=d||h&&fa.find.TAG("*",m),y=J+=null==B?1:Math.random()||.1,Ja=z.length;
for(m&&(r=e!==G&&e);v!==Ja&&null!=(n=z[v]);v++){if(h&&n){for(k=0;x=a[k++];)if(x(n,e,g)){l.push(n);break}m&&(J=y)}f&&((n=!x&&n)&&u--,d&&w.push(n))}if(u+=v,f&&v!==u){for(k=0;x=c[k++];)x(w,t,e,g);if(d){if(0<u)for(;v--;)w[v]||t[v]||(t[v]=la.call(l));t=q(t)}V.apply(l,t);m&&!d&&0<t.length&&1<u+c.length&&b.uniqueSort(l)}return m&&(J=y,r=B),w};return f?d(e):e}var z,y,Ja,r,A,C,G,D,p,ea,H,N,K,I="sizzle"+-new Date,F=a.document,J=0,T=0,S=c(),O=c(),U=c(),fb=function(a,b){return a===b&&(C=!0),0},ta={}.hasOwnProperty,
pa=[],la=pa.pop,L=pa.push,V=pa.push,Q=pa.slice,R=pa.indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},sa="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w#"),E="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?\x3d)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+sa+"))|)[\\x20\\t\\r\\n\\f]*\\]",Ua=":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+
E+")*)|.*)\\)|)",W=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,da=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,vb=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,qa=/=[\x20\t\r\n\f]*([^\]'"]*?)[\x20\t\r\n\f]*\]/g,Z=new RegExp(Ua),M=new RegExp("^"+sa+"$"),ya={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:new RegExp("^("+"(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:new RegExp("^"+E),PSEUDO:new RegExp("^"+Ua),CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,
bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},P=/^(?:input|select|textarea|button)$/i,ca=/^h\d$/i,Pa=/^[^{]+\{\s*\[native \w/,na=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Y=/[+~]/,Fa=/'|\\/g,oa=/\\([\da-f]{1,6}[\x20\t\r\n\f]?|([\x20\t\r\n\f])|.)/ig,va=function(a,b,c){a="0x"+b-65536;
return a!==a||c?b:0>a?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,1023&a|56320)};try{V.apply(pa=Q.call(F.childNodes),F.childNodes),pa[F.childNodes.length].nodeType}catch(qc){V={apply:pa.length?function(a,b){L.apply(a,Q.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}var ha=b.support={};var wa=b.isXML=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:!1};var ba=b.setDocument=function(a){var b,c=a?a.ownerDocument||a:F;a=
c.defaultView;return c!==G&&9===c.nodeType&&c.documentElement?(G=c,D=c.documentElement,p=!wa(c),a&&a!==a.top&&(a.addEventListener?a.addEventListener("unload",function(){ba()},!1):a.attachEvent&&a.attachEvent("onunload",function(){ba()})),ha.attributes=f(function(a){return a.className="i",!a.getAttribute("className")}),ha.getElementsByTagName=f(function(a){return a.appendChild(c.createComment("")),!a.getElementsByTagName("*").length}),ha.getElementsByClassName=Pa.test(c.getElementsByClassName)&&f(function(a){return a.innerHTML=
"\x3cdiv class\x3d'a'\x3e\x3c/div\x3e\x3cdiv class\x3d'a i'\x3e\x3c/div\x3e",a.firstChild.className="i",2===a.getElementsByClassName("i").length}),ha.getById=f(function(a){return D.appendChild(a).id=I,!c.getElementsByName||!c.getElementsByName(I).length}),ha.getById?(fa.find.ID=function(a,b){if("undefined"!==typeof b.getElementById&&p)return(a=b.getElementById(a))&&a.parentNode?[a]:[]},fa.filter.ID=function(a){var b=a.replace(oa,va);return function(a){return a.getAttribute("id")===b}}):(delete fa.find.ID,
fa.filter.ID=function(a){var b=a.replace(oa,va);return function(a){return(a="undefined"!==typeof a.getAttributeNode&&a.getAttributeNode("id"))&&a.value===b}}),fa.find.TAG=ha.getElementsByTagName?function(a,b){return"undefined"!==typeof b.getElementsByTagName?b.getElementsByTagName(a):void 0}:function(a,b){var c=[],d=0;b=b.getElementsByTagName(a);if("*"===a){for(;a=b[d++];)1===a.nodeType&&c.push(a);return c}return b},fa.find.CLASS=ha.getElementsByClassName&&function(a,b){return"undefined"!==typeof b.getElementsByClassName&&
p?b.getElementsByClassName(a):void 0},H=[],ea=[],(ha.qsa=Pa.test(c.querySelectorAll))&&(f(function(a){a.innerHTML="\x3cselect msallowclip\x3d''\x3e\x3coption selected\x3d''\x3e\x3c/option\x3e\x3c/select\x3e";a.querySelectorAll("[msallowclip^\x3d'']").length&&ea.push("[*^$]\x3d[\\x20\\t\\r\\n\\f]*(?:''|\"\")");a.querySelectorAll("[selected]").length||ea.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");
a.querySelectorAll(":checked").length||ea.push(":checked")}),f(function(a){var b=c.createElement("input");b.setAttribute("type","hidden");a.appendChild(b).setAttribute("name","D");a.querySelectorAll("[name\x3dd]").length&&ea.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?\x3d");a.querySelectorAll(":enabled").length||ea.push(":enabled",":disabled");a.querySelectorAll("*,:x");ea.push(",.*:")})),(ha.matchesSelector=Pa.test(N=D.matches||D.webkitMatchesSelector||D.mozMatchesSelector||D.oMatchesSelector||D.msMatchesSelector))&&
f(function(a){ha.disconnectedMatch=N.call(a,"div");N.call(a,"[s!\x3d'']:x");H.push("!\x3d",Ua)}),ea=ea.length&&new RegExp(ea.join("|")),H=H.length&&new RegExp(H.join("|")),b=Pa.test(D.compareDocumentPosition),K=b||Pa.test(D.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a;b=b&&b.parentNode;return a===b||!(!b||1!==b.nodeType||!(c.contains?c.contains(b):a.compareDocumentPosition&&16&a.compareDocumentPosition(b)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},fb=
b?function(a,b){if(a===b)return C=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!ha.sortDetached&&b.compareDocumentPosition(a)===d?a===c||a.ownerDocument===F&&K(F,a)?-1:b===c||b.ownerDocument===F&&K(F,b)?1:A?R.call(A,a)-R.call(A,b):0:4&d?-1:1)}:function(a,b){if(a===b)return C=!0,0;var d=0,f=a.parentNode,h=b.parentNode,g=[a],l=[b];if(!f||!h)return a===c?-1:b===c?1:f?-1:h?1:A?R.call(A,a)-
R.call(A,b):0;if(f===h)return e(a,b);for(;a=a.parentNode;)g.unshift(a);for(a=b;a=a.parentNode;)l.unshift(a);for(;g[d]===l[d];)d++;return d?e(g[d],l[d]):g[d]===F?-1:l[d]===F?1:0},c):G};b.matches=function(a,c){return b(a,null,null,c)};b.matchesSelector=function(a,c){if((a.ownerDocument||a)!==G&&ba(a),c=c.replace(qa,"\x3d'$1']"),!(!ha.matchesSelector||!p||H&&H.test(c)||ea&&ea.test(c)))try{var d=N.call(a,c);if(d||ha.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(sc){}return 0<
b(c,G,null,[a]).length};b.contains=function(a,b){return(a.ownerDocument||a)!==G&&ba(a),K(a,b)};b.attr=function(a,b){(a.ownerDocument||a)!==G&&ba(a);var c=fa.attrHandle[b.toLowerCase()];c=c&&ta.call(fa.attrHandle,b.toLowerCase())?c(a,b,!p):void 0;return void 0!==c?c:ha.attributes||!p?a.getAttribute(b):(c=a.getAttributeNode(b))&&c.specified?c.value:null};b.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};b.uniqueSort=function(a){var b,c=[],d=0,f=0;if(C=!ha.detectDuplicates,
A=!ha.sortStable&&a.slice(0),a.sort(fb),C){for(;b=a[f++];)b===a[f]&&(d=c.push(f));for(;d--;)a.splice(c[d],1)}return A=null,a};var ma=b.getText=function(a){var b,c="",d=0;if(b=a.nodeType)if(1===b||9===b||11===b){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=ma(a)}else{if(3===b||4===b)return a.nodeValue}else for(;b=a[d++];)c+=ma(b);return c};var fa=b.selectors={cacheLength:50,createPseudo:d,match:ya,attrHandle:{},find:{},relative:{"\x3e":{dir:"parentNode",
first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(oa,va),a[3]=(a[3]||a[4]||a[5]||"").replace(oa,va),"~\x3d"===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];
return ya.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&Z.test(c)&&(b=X(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(oa,va).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=S[a+" "];return b||(b=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"),S(a,function(a){return b.test("string"==typeof a.className&&
a.className||"undefined"!==typeof a.getAttribute&&a.getAttribute("class")||"")}))},ATTR:function(a,c,d){return function(f){f=b.attr(f,a);return null==f?"!\x3d"===c:c?(f+="","\x3d"===c?f===d:"!\x3d"===c?f!==d:"^\x3d"===c?d&&0===f.indexOf(d):"*\x3d"===c?d&&-1<f.indexOf(d):"$\x3d"===c?d&&f.slice(-d.length)===d:"~\x3d"===c?-1<(" "+f+" ").indexOf(d):"|\x3d"===c?f===d||f.slice(0,d.length+1)===d+"-":!1):!0}},CHILD:function(a,b,c,d,f){var h="nth"!==a.slice(0,3),e="last"!==a.slice(-4),g="of-type"===b;return 1===
d&&0===f?function(a){return!!a.parentNode}:function(b,c,l){var m;c=h!==e?"nextSibling":"previousSibling";var n=b.parentNode,k=g&&b.nodeName.toLowerCase();l=!l&&!g;if(n){if(h){for(;c;){for(m=b;m=m[c];)if(g?m.nodeName.toLowerCase()===k:1===m.nodeType)return!1;var x=c="only"===a&&!x&&"nextSibling"}return!0}if(x=[e?n.firstChild:n.lastChild],e&&l){l=n[I]||(n[I]={});var u=l[a]||[];var v=u[0]===J&&u[1];var w=u[0]===J&&u[2];for(m=v&&n.childNodes[v];m=++v&&m&&m[c]||(w=v=0)||x.pop();)if(1===m.nodeType&&++w&&
m===b){l[a]=[J,v,w];break}}else if(l&&(u=(b[I]||(b[I]={}))[a])&&u[0]===J)w=u[1];else for(;(m=++v&&m&&m[c]||(w=v=0)||x.pop())&&((g?m.nodeName.toLowerCase()!==k:1!==m.nodeType)||!++w||(l&&((m[I]||(m[I]={}))[a]=[J,w]),m!==b)););return w-=f,w===d||0===w%d&&0<=w/d}}},PSEUDO:function(a,c){var f,h=fa.pseudos[a]||fa.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);return h[I]?h(c):1<h.length?(f=[a,a,"",c],fa.setFilters.hasOwnProperty(a.toLowerCase())?d(function(a,b){for(var d,f=h(a,c),e=f.length;e--;)d=
R.call(a,f[e]),a[d]=!(b[d]=f[e])}):function(a){return h(a,0,f)}):h}},pseudos:{not:d(function(a){var b=[],c=[],f=y(a.replace(W,"$1"));return f[I]?d(function(a,b,c,d){var h;c=f(a,null,d,[]);for(d=a.length;d--;)(h=c[d])&&(a[d]=!(b[d]=h))}):function(a,d,h){return b[0]=a,f(b,null,h,c),!c.pop()}}),has:d(function(a){return function(c){return 0<b(a,c).length}}),contains:d(function(a){return function(b){return-1<(b.textContent||b.innerText||ma(b)).indexOf(a)}}),lang:d(function(a){return M.test(a||"")||b.error("unsupported lang: "+
a),a=a.replace(oa,va).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===D},focus:function(a){return a===G.activeElement&&(!G.hasFocus||G.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===
a.disabled},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(6>a.nodeType)return!1;return!0},parent:function(a){return!fa.pseudos.empty(a)},header:function(a){return ca.test(a.nodeName)},input:function(a){return P.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===
b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:m(function(){return[0]}),last:m(function(a,b){return[b-1]}),eq:m(function(a,b,c){return[0>c?c+b:c]}),even:m(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:m(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:m(function(a,b,c){for(b=0>c?c+b:c;0<=--b;)a.push(b);return a}),gt:m(function(a,b,c){for(c=
0>c?c+b:c;++c<b;)a.push(c);return a})}};fa.pseudos.nth=fa.pseudos.eq;for(z in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})fa.pseudos[z]=g(z);for(z in{submit:!0,reset:!0})fa.pseudos[z]=l(z);k.prototype=fa.filters=fa.pseudos;fa.setFilters=new k;var X=b.tokenize=function(a,c){var d,f,h,e,g;if(e=O[a+" "])return c?0:e.slice(0);e=a;var l=[];for(g=fa.preFilter;e;){m&&!(d=da.exec(e))||(d&&(e=e.slice(d[0].length)||e),l.push(f=[]));var m=!1;(d=vb.exec(e))&&(m=d.shift(),f.push({value:m,type:d[0].replace(W,
" ")}),e=e.slice(m.length));for(h in fa.filter)!(d=ya[h].exec(e))||g[h]&&!(d=g[h](d))||(m=d.shift(),f.push({value:m,type:h,matches:d}),e=e.slice(m.length));if(!m)break}return c?e.length:e?b.error(a):O(a,l).slice(0)};return y=b.compile=function(a,b){var c,d=[],f=[],h=U[a+" "];if(!h){b||(b=X(a));for(c=b.length;c--;)h=t(b[c]),h[I]?d.push(h):f.push(h);h=U(a,B(f,d));h.selector=a}return h},Ja=b.select=function(a,b,c,d){var f,h,e,g,l,m="function"==typeof a&&a,k=!d&&X(a=m.selector||a);if(c=c||[],1===k.length){if(h=
k[0]=k[0].slice(0),2<h.length&&"ID"===(e=h[0]).type&&ha.getById&&9===b.nodeType&&p&&fa.relative[h[1].type]){if(b=(fa.find.ID(e.matches[0].replace(oa,va),b)||[])[0],!b)return c;m&&(b=b.parentNode);a=a.slice(h.shift().value.length)}for(f=ya.needsContext.test(a)?0:h.length;f--&&(e=h[f],!fa.relative[g=e.type]);)if((l=fa.find[g])&&(d=l(e.matches[0].replace(oa,va),Y.test(h[0].type)&&n(b.parentNode)||b))){if(h.splice(f,1),a=d.length&&x(h),!a)return V.apply(c,d),c;break}}return(m||y(a,k))(d,b,!p,c,Y.test(a)&&
n(b.parentNode)||b),c},ha.sortStable=I.split("").sort(fb).join("")===I,ha.detectDuplicates=!!C,ba(),ha.sortDetached=f(function(a){return 1&a.compareDocumentPosition(G.createElement("div"))}),f(function(a){return a.innerHTML="\x3ca href\x3d'#'\x3e\x3c/a\x3e","#"===a.firstChild.getAttribute("href")})||h("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),ha.attributes&&f(function(a){return a.innerHTML="\x3cinput/\x3e",a.firstChild.setAttribute("value",
""),""===a.firstChild.getAttribute("value")})||h("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),f(function(a){return null==a.getAttribute("disabled")})||h("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(a,b,c){var d;return c?void 0:!0===a[b]?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),b}(b);p.find=oa;p.expr=oa.selectors;p.expr[":"]=p.expr.pseudos;
p.unique=oa.uniqueSort;p.text=oa.getText;p.isXMLDoc=oa.isXML;p.contains=oa.contains;var Z=p.expr.match.needsContext,E=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,wa=/^.[^:#\[\.,]*$/;p.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?p.find.matchesSelector(d,a)?[d]:[]:p.find.matches(a,p.grep(b,function(a){return 1===a.nodeType}))};p.fn.extend({find:function(a){var b,c=[],d=this,f=d.length;if("string"!=typeof a)return this.pushStack(p(a).filter(function(){for(b=0;f>b;b++)if(p.contains(d[b],
this))return!0}));for(b=0;f>b;b++)p.find(a,d[b],c);return c=this.pushStack(1<f?p.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},filter:function(a){return this.pushStack(g(this,a||[],!1))},not:function(a){return this.pushStack(g(this,a||[],!0))},is:function(a){return!!g(this,"string"==typeof a&&Z.test(a)?p(a):a||[],!1).length}});var P=b.document,ma=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(p.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(c="\x3c"===a.charAt(0)&&
"\x3e"===a.charAt(a.length-1)&&3<=a.length?[null,a,null]:ma.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||ja).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof p?b[0]:b,p.merge(this,p.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:P,!0)),E.test(c[1])&&p.isPlainObject(b))for(c in b)p.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}if(d=P.getElementById(c[2]),d&&d.parentNode){if(d.id!==c[2])return ja.find(a);this.length=1;this[0]=d}return this.context=P,this.selector=a,this}return a.nodeType?
(this.context=this[0]=a,this.length=1,this):p.isFunction(a)?"undefined"!=typeof ja.ready?ja.ready(a):a(p):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),p.makeArray(a,this))}).prototype=p.fn;var ja=p(P);var ka=/^(?:parents|prev(?:Until|All))/,xa={children:!0,contents:!0,next:!0,prev:!0};p.extend({dir:function(a,b,c){var d=[];for(a=a[b];a&&9!==a.nodeType&&(void 0===c||1!==a.nodeType||!p(a).is(c));)1===a.nodeType&&d.push(a),a=a[b];return d},sibling:function(a,b){for(var c=[];a;a=
a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}});p.fn.extend({has:function(a){var b,c=p(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++)if(p.contains(this,c[b]))return!0})},closest:function(a,b){for(var c,d=0,f=this.length,h=[],e=Z.test(a)||"string"!=typeof a?p(a,b||this.context):0;f>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(11>c.nodeType&&(e?-1<e.index(c):1===c.nodeType&&p.find.matchesSelector(c,a))){h.push(c);break}return this.pushStack(1<h.length?p.unique(h):h)},
index:function(a){return a?"string"==typeof a?p.inArray(this[0],p(a)):p.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(p.unique(p.merge(this.get(),p(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});p.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return p.dir(a,"parentNode")},parentsUntil:function(a,b,c){return p.dir(a,
"parentNode",c)},next:function(a){return c(a,"nextSibling")},prev:function(a){return c(a,"previousSibling")},nextAll:function(a){return p.dir(a,"nextSibling")},prevAll:function(a){return p.dir(a,"previousSibling")},nextUntil:function(a,b,c){return p.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return p.dir(a,"previousSibling",c)},siblings:function(a){return p.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return p.sibling(a.firstChild)},contents:function(a){return p.nodeName(a,
"iframe")?a.contentDocument||a.contentWindow.document:p.merge([],a.childNodes)}},function(a,b){p.fn[a]=function(c,d){var f=p.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(f=p.filter(d,f)),1<this.length&&(xa[a]||(f=p.unique(f)),ka.test(a)&&(f=f.reverse())),this.pushStack(f)}});var ra=/\S+/g,X={};p.Callbacks=function(b){b="string"==typeof b?X[b]||a(b):p.extend({},b);var c,d,f,h,e,g,l=[],m=!b.once&&[],n=function(a){d=b.memory&&a;f=!0;e=g||0;g=0;h=l.length;for(c=!0;l&&h>e;e++)if(!1===
l[e].apply(a[0],a[1])&&b.stopOnFalse){d=!1;break}c=!1;l&&(m?m.length&&n(m.shift()):d?l=[]:k.disable())},k={add:function(){if(l){var a=l.length;!function Ub(a){p.each(a,function(a,c){a=p.type(c);"function"===a?b.unique&&k.has(c)||l.push(c):c&&c.length&&"string"!==a&&Ub(c)})}(arguments);c?h=l.length:d&&(g=a,n(d))}return this},remove:function(){return l&&p.each(arguments,function(a,b){for(var d;-1<(d=p.inArray(b,l,d));)l.splice(d,1),c&&(h>=d&&h--,e>=d&&e--)}),this},has:function(a){return a?-1<p.inArray(a,
l):!(!l||!l.length)},empty:function(){return l=[],h=0,this},disable:function(){return l=m=d=void 0,this},disabled:function(){return!l},lock:function(){return m=void 0,d||k.disable(),this},locked:function(){return!m},fireWith:function(a,b){return!l||f&&!m||(b=b||[],b=[a,b.slice?b.slice():b],c?m.push(b):n(b)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!f}};return k};p.extend({Deferred:function(a){var b=[["resolve","done",p.Callbacks("once memory"),"resolved"],
["reject","fail",p.Callbacks("once memory"),"rejected"],["notify","progress",p.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return f.done(arguments).fail(arguments),this},then:function(){var a=arguments;return p.Deferred(function(c){p.each(b,function(b,h){var e=p.isFunction(a[b])&&a[b];f[h[1]](function(){var a=e&&e.apply(this,arguments);a&&p.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[h[0]+"With"](this===d?c.promise():
this,e?[a]:arguments)})});a=null}).promise()},promise:function(a){return null!=a?p.extend(a,d):d}},f={};return d.pipe=d.then,p.each(b,function(a,h){var e=h[2],g=h[3];d[h[1]]=e.add;g&&e.add(function(){c=g},b[1^a][2].disable,b[2][2].lock);f[h[0]]=function(){return f[h[0]+"With"](this===f?d:this,arguments),this};f[h[0]+"With"]=e.fireWith}),d.promise(f),a&&a.call(f,f),f},when:function(a){var b=0,c=la.call(arguments),d=c.length,f=1!==d||a&&p.isFunction(a.promise)?d:0,h=1===f?a:p.Deferred(),e=function(a,
b,c){return function(d){b[a]=this;c[a]=1<arguments.length?la.call(arguments):d;c===l?h.notifyWith(b,c):--f||h.resolveWith(b,c)}},g;if(1<d){var l=Array(d);var m=Array(d);for(g=Array(d);d>b;b++)c[b]&&p.isFunction(c[b].promise)?c[b].promise().done(e(b,g,c)).fail(h.reject).progress(e(b,m,l)):--f}return f||h.resolveWith(g,c),h.promise()}});var Aa;p.fn.ready=function(a){return p.ready.promise().done(a),this};p.extend({isReady:!1,readyWait:1,holdReady:function(a){a?p.readyWait++:p.ready(!0)},ready:function(a){if(!0===
a?!--p.readyWait:!p.isReady){if(!P.body)return setTimeout(p.ready);p.isReady=!0;!0!==a&&0<--p.readyWait||(Aa.resolveWith(P,[p]),p.fn.triggerHandler&&(p(P).triggerHandler("ready"),p(P).off("ready")))}}});p.ready.promise=function(a){if(!Aa)if(Aa=p.Deferred(),"complete"===P.readyState)setTimeout(p.ready);else if(P.addEventListener)P.addEventListener("DOMContentLoaded",f,!1),b.addEventListener("load",f,!1);else{P.attachEvent("onreadystatechange",f);b.attachEvent("onload",f);var c=!1;try{c=null==b.frameElement&&
P.documentElement}catch(Qb){}c&&c.doScroll&&!function ub(){if(!p.isReady){try{c.doScroll("left")}catch(Rb){return setTimeout(ub,50)}d();p.ready()}}()}return Aa.promise(a)};for(var Ea in p(M))break;M.ownLast="0"!==Ea;M.inlineBlockNeedsLayout=!1;p(function(){var a,b,c,d;(c=P.getElementsByTagName("body")[0])&&c.style&&(b=P.createElement("div"),d=P.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),"undefined"!==typeof b.style.zoom&&
(b.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",M.inlineBlockNeedsLayout=a=3===b.offsetWidth,a&&(c.style.zoom=1)),c.removeChild(d))});(function(){var a=P.createElement("div");if(null==M.deleteExpando){M.deleteExpando=!0;try{delete a.test}catch(Eb){M.deleteExpando=!1}}})();p.acceptData=function(a){var b=p.noData[(a.nodeName+" ").toLowerCase()],c=+a.nodeType||1;return 1!==c&&9!==c?!1:!b||!0!==b&&a.getAttribute("classid")===b};var aa=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,La=
/([A-Z])/g;p.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return a=a.nodeType?p.cache[a[p.expando]]:a[p.expando],!!a&&!n(a)},data:function(a,b,c){return m(a,b,c)},removeData:function(a,b){return q(a,b)},_data:function(a,b,c){return m(a,b,c,!0)},_removeData:function(a,b){return q(a,b,!0)}});p.fn.extend({data:function(a,b){var c,d,f,e=this[0],g=e&&e.attributes;if(void 0===a){if(this.length&&(f=p.data(e),1===e.nodeType&&
!p._data(e,"parsedAttrs"))){for(c=g.length;c--;)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=p.camelCase(d.slice(5)),h(e,d,f[d])));p._data(e,"parsedAttrs",!0)}return f}return"object"==typeof a?this.each(function(){p.data(this,a)}):1<arguments.length?this.each(function(){p.data(this,a,b)}):e?h(e,a,p.data(e,a)):void 0},removeData:function(a){return this.each(function(){p.removeData(this,a)})}});p.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=p._data(a,b),c&&(!d||p.isArray(c)?
d=p._data(a,b,p.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=p.queue(a,b),d=c.length,f=c.shift(),h=p._queueHooks(a,b),e=function(){p.dequeue(a,b)};"inprogress"===f&&(f=c.shift(),d--);f&&("fx"===b&&c.unshift("inprogress"),delete h.stop,f.call(a,e,h));!d&&h&&h.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return p._data(a,c)||p._data(a,c,{empty:p.Callbacks("once memory").add(function(){p._removeData(a,b+"queue");p._removeData(a,c)})})}});p.fn.extend({queue:function(a,
b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?p.queue(this[0],a):void 0===b?this:this.each(function(){var c=p.queue(this,a,b);p._queueHooks(this,a);"fx"===a&&"inprogress"!==c[0]&&p.dequeue(this,a)})},dequeue:function(a){return this.each(function(){p.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,f=p.Deferred(),h=this,e=this.length,g=function(){--d||f.resolveWith(h,[h])};"string"!=typeof a&&(b=a,a=void 0);for(a=a||
"fx";e--;)(c=p._data(h[e],a+"queueHooks"))&&c.empty&&(d++,c.empty.add(g));return g(),f.promise(b)}});var Fa=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ha=["Top","Right","Bottom","Left"],va=function(a,b){return a=b||a,"none"===p.css(a,"display")||!p.contains(a.ownerDocument,a)},Ia=p.access=function(a,b,c,d,f,h,e){var g=0,l=a.length,m=null==c;if("object"===p.type(c))for(g in f=!0,c)p.access(a,b,g,c[g],!0,h,e);else if(void 0!==d&&(f=!0,p.isFunction(d)||(e=!0),m&&(e?(b.call(a,d),b=null):(m=b,b=function(a,
b,c){return m.call(p(a),c)})),b))for(;l>g;g++)b(a[g],c,e?d:d.call(a[g],g,b(a[g],c)));return f?a:m?b.call(a):l?b(a[0],c):h},Xa=/^(?:checkbox|radio)$/i;!function(){var a=P.createElement("input"),b=P.createElement("div"),c=P.createDocumentFragment();if(b.innerHTML="  \x3clink/\x3e\x3ctable\x3e\x3c/table\x3e\x3ca href\x3d'/a'\x3ea\x3c/a\x3e\x3cinput type\x3d'checkbox'/\x3e",M.leadingWhitespace=3===b.firstChild.nodeType,M.tbody=!b.getElementsByTagName("tbody").length,M.htmlSerialize=!!b.getElementsByTagName("link").length,
M.html5Clone="\x3c:nav\x3e\x3c/:nav\x3e"!==P.createElement("nav").cloneNode(!0).outerHTML,a.type="checkbox",a.checked=!0,c.appendChild(a),M.appendChecked=a.checked,b.innerHTML="\x3ctextarea\x3ex\x3c/textarea\x3e",M.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue,c.appendChild(b),b.innerHTML="\x3cinput type\x3d'radio' checked\x3d'checked' name\x3d't'/\x3e",M.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,M.noCloneEvent=!0,b.attachEvent&&(b.attachEvent("onclick",function(){M.noCloneEvent=
!1}),b.cloneNode(!0).click()),null==M.deleteExpando){M.deleteExpando=!0;try{delete b.test}catch(ub){M.deleteExpando=!1}}}();(function(){var a,c=P.createElement("div");for(a in{submit:!0,change:!0,focusin:!0}){var d="on"+a;(M[a+"Bubbles"]=d in b)||(c.setAttribute(d,"t"),M[a+"Bubbles"]=!1===c.attributes[d].expando)}})();var Ma=/^(?:input|select|textarea)$/i,tb=/^key/,Ya=/^(?:mouse|pointer|contextmenu)|click/,gb=/^(?:focusinfocus|focusoutblur)$/,hb=/^([^.]*)(?:\.(.+)|)$/;p.event={global:{},add:function(a,
b,c,d,f){var h,e,g,l,m,n,k,x;if(e=p._data(a)){c.handler&&(g=c,c=g.handler,f=g.selector);c.guid||(c.guid=p.guid++);(h=e.events)||(h=e.events={});(m=e.handle)||(m=e.handle=function(a){return"undefined"===typeof p||a&&p.event.triggered===a.type?void 0:p.event.dispatch.apply(m.elem,arguments)},m.elem=a);b=(b||"").match(ra)||[""];for(e=b.length;e--;){var u=hb.exec(b[e])||[];var v=x=u[1];u=(u[2]||"").split(".").sort();v&&(l=p.event.special[v]||{},v=(f?l.delegateType:l.bindType)||v,l=p.event.special[v]||
{},n=p.extend({type:v,origType:x,data:d,handler:c,guid:c.guid,selector:f,needsContext:f&&p.expr.match.needsContext.test(f),namespace:u.join(".")},g),(k=h[v])||(k=h[v]=[],k.delegateCount=0,l.setup&&!1!==l.setup.call(a,d,u,m)||(a.addEventListener?a.addEventListener(v,m,!1):a.attachEvent&&a.attachEvent("on"+v,m))),l.add&&(l.add.call(a,n),n.handler.guid||(n.handler.guid=c.guid)),f?k.splice(k.delegateCount++,0,n):k.push(n),p.event.global[v]=!0)}a=null}},remove:function(a,b,c,d,f){var h,e,g,l,m,n,k,u,x=
p.hasData(a)&&p._data(a);if(x&&(m=x.events)){b=(b||"").match(ra)||[""];for(l=b.length;l--;)if(e=hb.exec(b[l])||[],n=u=e[1],k=(e[2]||"").split(".").sort(),n){var v=p.event.special[n]||{};n=(d?v.delegateType:v.bindType)||n;var w=m[n]||[];e=e[2]&&new RegExp("(^|\\.)"+k.join("\\.(?:.*\\.|)")+"(\\.|$)");for(g=h=w.length;h--;){var q=w[h];!f&&u!==q.origType||c&&c.guid!==q.guid||e&&!e.test(q.namespace)||d&&d!==q.selector&&("**"!==d||!q.selector)||(w.splice(h,1),q.selector&&w.delegateCount--,v.remove&&v.remove.call(a,
q))}g&&!w.length&&(v.teardown&&!1!==v.teardown.call(a,k,x.handle)||p.removeEvent(a,n,x.handle),delete m[n])}else for(n in m)p.event.remove(a,n+b[l],c,d,!0);p.isEmptyObject(m)&&(delete x.handle,p._removeData(a,"events"))}},trigger:function(a,c,d,f){var h,e,g,l,m=[d||P],n=na.call(a,"type")?a.type:a;var k=na.call(a,"namespace")?a.namespace.split("."):[];if(g=h=d=d||P,3!==d.nodeType&&8!==d.nodeType&&!gb.test(n+p.event.triggered)&&(0<=n.indexOf(".")&&(k=n.split("."),n=k.shift(),k.sort()),e=0>n.indexOf(":")&&
"on"+n,a=a[p.expando]?a:new p.Event(n,"object"==typeof a&&a),a.isTrigger=f?2:3,a.namespace=k.join("."),a.namespace_re=a.namespace?new RegExp("(^|\\.)"+k.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,a.result=void 0,a.target||(a.target=d),c=null==c?[a]:p.makeArray(c,[a]),l=p.event.special[n]||{},f||!l.trigger||!1!==l.trigger.apply(d,c))){if(!f&&!l.noBubble&&!p.isWindow(d)){var x=l.delegateType||n;for(gb.test(x+n)||(g=g.parentNode);g;g=g.parentNode)m.push(g),h=g;h===(d.ownerDocument||P)&&m.push(h.defaultView||
h.parentWindow||b)}for(k=0;(g=m[k++])&&!a.isPropagationStopped();)a.type=1<k?x:l.bindType||n,(h=(p._data(g,"events")||{})[a.type]&&p._data(g,"handle"))&&h.apply(g,c),(h=e&&g[e])&&h.apply&&p.acceptData(g)&&(a.result=h.apply(g,c),!1===a.result&&a.preventDefault());if(a.type=n,!(f||a.isDefaultPrevented()||l._default&&!1!==l._default.apply(m.pop(),c))&&p.acceptData(d)&&e&&d[n]&&!p.isWindow(d)){(h=d[e])&&(d[e]=null);p.event.triggered=n;try{d[n]()}catch(Sb){}p.event.triggered=void 0;h&&(d[e]=h)}return a.result}},
dispatch:function(a){a=p.event.fix(a);var b,c,d,f,h=la.call(arguments);var e=(p._data(this,"events")||{})[a.type]||[];var g=p.event.special[a.type]||{};if(h[0]=a,a.delegateTarget=this,!g.preDispatch||!1!==g.preDispatch.call(this,a)){var l=p.event.handlers.call(this,a,e);for(e=0;(d=l[e++])&&!a.isPropagationStopped();)for(a.currentTarget=d.elem,f=0;(c=d.handlers[f++])&&!a.isImmediatePropagationStopped();)a.namespace_re&&!a.namespace_re.test(c.namespace)||(a.handleObj=c,a.data=c.data,b=((p.event.special[c.origType]||
{}).handle||c.handler).apply(d.elem,h),void 0===b||!1!==(a.result=b)||(a.preventDefault(),a.stopPropagation()));return g.postDispatch&&g.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d=[],f=b.delegateCount,h=a.target;if(f&&h.nodeType&&(!a.button||"click"!==a.type))for(;h!=this;h=h.parentNode||this)if(1===h.nodeType&&(!0!==h.disabled||"click"!==a.type)){var e=[];for(c=0;f>c;c++){var g=b[c];var l=g.selector+" ";void 0===e[l]&&(e[l]=g.needsContext?0<=p(l,this).index(h):p.find(l,this,
null,[h]).length);e[l]&&e.push(g)}e.length&&d.push({elem:h,handlers:e})}return f<b.length&&d.push({elem:this,handlers:b.slice(f)}),d},fix:function(a){if(a[p.expando])return a;var b=a.type;var c=a,d=this.fixHooks[b];d||(this.fixHooks[b]=d=Ya.test(b)?this.mouseHooks:tb.test(b)?this.keyHooks:{});var f=d.props?this.props.concat(d.props):this.props;a=new p.Event(c);for(b=f.length;b--;){var h=f[b];a[h]=c[h]}return a.target||(a.target=c.srcElement||P),3===a.target.nodeType&&(a.target=a.target.parentNode),
a.metaKey=!!a.metaKey,d.filter?d.filter(a,c):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,
f,h=b.button,e=b.fromElement;return null==a.pageX&&null!=b.clientX&&(d=a.target.ownerDocument||P,f=d.documentElement,c=d.body,a.pageX=b.clientX+(f&&f.scrollLeft||c&&c.scrollLeft||0)-(f&&f.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(f&&f.scrollTop||c&&c.scrollTop||0)-(f&&f.clientTop||c&&c.clientTop||0)),!a.relatedTarget&&e&&(a.relatedTarget=e===a.target?b.toElement:e),a.which||void 0===h||(a.which=1&h?1:2&h?3:4&h?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==r()&&
this.focus)try{return this.focus(),!1}catch(Ja){}},delegateType:"focusin"},blur:{trigger:function(){return this===r()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return p.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return p.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){a=p.extend(new p.Event,
c,{type:a,isSimulated:!0,originalEvent:{}});d?p.event.trigger(a,null,b):p.event.dispatch.call(b,a);a.isDefaultPrevented()&&c.preventDefault()}};p.removeEvent=P.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){b="on"+b;a.detachEvent&&("undefined"===typeof a[b]&&(a[b]=null),a.detachEvent(b,c))};p.Event=function(a,b){return this instanceof p.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===
a.defaultPrevented&&!1===a.returnValue?l:t):this.type=a,b&&p.extend(this,b),this.timeStamp=a&&a.timeStamp||p.now(),void(this[p.expando]=!0)):new p.Event(a,b)};p.Event.prototype={isDefaultPrevented:t,isPropagationStopped:t,isImmediatePropagationStopped:t,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=l;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=l;a&&(a.stopPropagation&&a.stopPropagation(),
a.cancelBubble=!0)},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=l;a&&a.stopImmediatePropagation&&a.stopImmediatePropagation();this.stopPropagation()}};p.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){p.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=a.relatedTarget,f=a.handleObj;return(!d||d!==this&&!p.contains(this,d))&&(a.type=f.origType,c=f.handler.apply(this,
arguments),a.type=b),c}}});M.submitBubbles||(p.event.special.submit={setup:function(){return p.nodeName(this,"form")?!1:void p.event.add(this,"click._submit keypress._submit",function(a){a=a.target;(a=p.nodeName(a,"input")||p.nodeName(a,"button")?a.form:void 0)&&!p._data(a,"submitBubbles")&&(p.event.add(a,"submit._submit",function(a){a._submit_bubble=!0}),p._data(a,"submitBubbles",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&p.event.simulate("submit",
this.parentNode,a,!0))},teardown:function(){return p.nodeName(this,"form")?!1:void p.event.remove(this,"._submit")}});M.changeBubbles||(p.event.special.change={setup:function(){return Ma.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(p.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),p.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1);p.event.simulate("change",
this,a,!0)})),!1):void p.event.add(this,"beforeactivate._change",function(a){a=a.target;Ma.test(a.nodeName)&&!p._data(a,"changeBubbles")&&(p.event.add(a,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||p.event.simulate("change",this.parentNode,a,!0)}),p._data(a,"changeBubbles",!0))})},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return p.event.remove(this,
"._change"),!Ma.test(this.nodeName)}});M.focusinBubbles||p.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){p.event.simulate(b,a.target,p.event.fix(a),!0)};p.event.special[b]={setup:function(){var d=this.ownerDocument||this,f=p._data(d,b);f||d.addEventListener(a,c,!0);p._data(d,b,(f||0)+1)},teardown:function(){var d=this.ownerDocument||this,f=p._data(d,b)-1;f?p._data(d,b,f):(d.removeEventListener(a,c,!0),p._removeData(d,b))}}});p.fn.extend({on:function(a,b,c,d,f){var h,e;if("object"==
typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(h in a)this.on(h,b,c,a[h],f);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),!1===d)d=t;else if(!d)return this;return 1===f&&(e=d,d=function(a){return p().off(a),e.apply(this,arguments)},d.guid=e.guid||(e.guid=p.guid++)),this.each(function(){p.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,f;if(a&&a.preventDefault&&a.handleObj)return d=
a.handleObj,p(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(f in a)this.off(f,b,a[f]);return this}return(!1===b||"function"==typeof b)&&(c=b,b=void 0),!1===c&&(c=t),this.each(function(){p.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){p.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?p.event.trigger(a,b,c,!0):void 0}});var ib="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",
jb=/ jQuery\d+="(?:null|\d+)"/g,Za=new RegExp("\x3c(?:"+ib+")[\\s/\x3e]","i"),Sa=/^\s+/,Na=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,mb=/<([\w:]+)/,nb=/<tbody/i,xb=/<|&#?\w+;/,bb=/<(?:script|style|link)/i,cb=/checked\s*(?:[^=]|=\s*.checked.)/i,ob=/^$|\/(?:java|ecma)script/i,kb=/^true\/(.*)/,yb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Da={option:[1,"\x3cselect multiple\x3d'multiple'\x3e","\x3c/select\x3e"],legend:[1,"\x3cfieldset\x3e","\x3c/fieldset\x3e"],area:[1,
"\x3cmap\x3e","\x3c/map\x3e"],param:[1,"\x3cobject\x3e","\x3c/object\x3e"],thead:[1,"\x3ctable\x3e","\x3c/table\x3e"],tr:[2,"\x3ctable\x3e\x3ctbody\x3e","\x3c/tbody\x3e\x3c/table\x3e"],col:[2,"\x3ctable\x3e\x3ctbody\x3e\x3c/tbody\x3e\x3ccolgroup\x3e","\x3c/colgroup\x3e\x3c/table\x3e"],td:[3,"\x3ctable\x3e\x3ctbody\x3e\x3ctr\x3e","\x3c/tr\x3e\x3c/tbody\x3e\x3c/table\x3e"],_default:M.htmlSerialize?[0,"",""]:[1,"X\x3cdiv\x3e","\x3c/div\x3e"]},Oa=v(P).appendChild(P.createElement("div"));Da.optgroup=Da.option;
Da.tbody=Da.tfoot=Da.colgroup=Da.caption=Da.thead;Da.th=Da.td;p.extend({clone:function(a,b,c){var d,f,h,e=p.contains(a.ownerDocument,a);if(M.html5Clone||p.isXMLDoc(a)||!Za.test("\x3c"+a.nodeName+"\x3e")?f=a.cloneNode(!0):(Oa.innerHTML=a.outerHTML,Oa.removeChild(f=Oa.firstChild)),!(M.noCloneEvent&&M.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||p.isXMLDoc(a))){var g=w(f);var l=w(a);for(h=0;null!=(d=l[h]);++h)if(g[h]){var m=void 0,n,k=d,x=g[h];if(1===x.nodeType){if(n=x.nodeName.toLowerCase(),!M.noCloneEvent&&
x[p.expando]){d=p._data(x);for(m in d.events)p.removeEvent(x,m,d.handle);x.removeAttribute(p.expando)}"script"===n&&x.text!==k.text?(y(x).text=k.text,B(x)):"object"===n?(x.parentNode&&(x.outerHTML=k.outerHTML),M.html5Clone&&k.innerHTML&&!p.trim(x.innerHTML)&&(x.innerHTML=k.innerHTML)):"input"===n&&Xa.test(k.type)?(x.defaultChecked=x.checked=k.checked,x.value!==k.value&&(x.value=k.value)):"option"===n?x.defaultSelected=x.selected=k.defaultSelected:("input"===n||"textarea"===n)&&(x.defaultValue=k.defaultValue)}}}if(b)if(c)for(l=
l||w(a),g=g||w(f),h=0;null!=(d=l[h]);h++)C(d,g[h]);else C(a,f);return g=w(f,"script"),0<g.length&&z(g,!e&&w(a,"script")),f},buildFragment:function(a,b,c,d){for(var f,h,e,g,l,m,n,k=a.length,u=v(b),q=[],t=0;k>t;t++)if(h=a[t],h||0===h)if("object"===p.type(h))p.merge(q,h.nodeType?[h]:h);else if(xb.test(h)){g=g||u.appendChild(b.createElement("div"));l=(mb.exec(h)||["",""])[1].toLowerCase();n=Da[l]||Da._default;g.innerHTML=n[1]+h.replace(Na,"\x3c$1\x3e\x3c/$2\x3e")+n[2];for(f=n[0];f--;)g=g.lastChild;if(!M.leadingWhitespace&&
Sa.test(h)&&q.push(b.createTextNode(Sa.exec(h)[0])),!M.tbody)for(f=(h="table"!==l||nb.test(h)?"\x3ctable\x3e"!==n[1]||nb.test(h)?0:g:g.firstChild)&&h.childNodes.length;f--;)p.nodeName(m=h.childNodes[f],"tbody")&&!m.childNodes.length&&h.removeChild(m);p.merge(q,g.childNodes);for(g.textContent="";g.firstChild;)g.removeChild(g.firstChild);g=u.lastChild}else q.push(b.createTextNode(h));g&&u.removeChild(g);M.appendChecked||p.grep(w(q,"input"),x);for(t=0;h=q[t++];)if((!d||-1===p.inArray(h,d))&&(e=p.contains(h.ownerDocument,
h),g=w(u.appendChild(h),"script"),e&&z(g),c))for(f=0;h=g[f++];)ob.test(h.type||"")&&c.push(h);return u},cleanData:function(a,b){for(var c,d,f,h,e=0,g=p.expando,l=p.cache,m=M.deleteExpando,n=p.event.special;null!=(c=a[e]);e++)if((b||p.acceptData(c))&&(f=c[g],h=f&&l[f])){if(h.events)for(d in h.events)n[d]?p.event.remove(c,d):p.removeEvent(c,d,h.handle);l[f]&&(delete l[f],m?delete c[g]:"undefined"!==typeof c.removeAttribute?c.removeAttribute(g):c[g]=null,V.push(f))}}});p.fn.extend({text:function(a){return Ia(this,
function(a){return void 0===a?p.text(this):this.empty().append((this[0]&&this[0].ownerDocument||P).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||u(this,a).appendChild(a)})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=u(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,
function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c=a?p.filter(a,this):this,d=0;null!=(a=c[d]);d++)b||1!==a.nodeType||p.cleanData(w(a)),a.parentNode&&(b&&p.contains(a.ownerDocument,a)&&z(w(a,"script")),a.parentNode.removeChild(a));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){for(1===a.nodeType&&p.cleanData(w(a,
!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&p.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return p.clone(this,a,b)})},html:function(a){return Ia(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a)return 1===b.nodeType?b.innerHTML.replace(jb,""):void 0;if(!("string"!=typeof a||bb.test(a)||!M.htmlSerialize&&Za.test(a)||!M.leadingWhitespace&&Sa.test(a)||Da[(mb.exec(a)||["",""])[1].toLowerCase()])){a=
a.replace(Na,"\x3c$1\x3e\x3c/$2\x3e");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(p.cleanData(w(b,!1)),b.innerHTML=a);b=0}catch(nc){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode;p.cleanData(w(this));a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=sa.apply([],a);var c,d,f,h=0,e=this.length,
g=this,l=e-1,m=a[0],n=p.isFunction(m);if(n||1<e&&"string"==typeof m&&!M.checkClone&&cb.test(m))return this.each(function(c){var d=g.eq(c);n&&(a[0]=m.call(this,c,d.html()));d.domManip(a,b)});if(e&&(f=p.buildFragment(a,this[0].ownerDocument,!1,this),c=f.firstChild,1===f.childNodes.length&&(f=c),c)){var k=p.map(w(f,"script"),y);for(d=k.length;e>h;h++)c=f,h!==l&&(c=p.clone(c,!0,!0),d&&p.merge(k,w(c,"script"))),b.call(this[h],c,h);if(d)for(f=k[k.length-1].ownerDocument,p.map(k,B),h=0;d>h;h++)c=k[h],ob.test(c.type||
"")&&!p._data(c,"globalEval")&&p.contains(f,c)&&(c.src?p._evalUrl&&p._evalUrl(c.src):p.globalEval((c.text||c.textContent||c.innerHTML||"").replace(yb,"")));f=c=null}return this}});p.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){p.fn[a]=function(a){for(var c=0,d=[],f=p(a),h=f.length-1;h>=c;c++)a=c===h?this:this.clone(!0),p(f[c])[b](a),ta.apply(d,a.get());return this.pushStack(d)}});var Ba,$a={};!function(){var a;M.shrinkWrapBlocks=
function(){if(null!=a)return a;a=!1;var b,c,d;return c=P.getElementsByTagName("body")[0],c&&c.style?(b=P.createElement("div"),d=P.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),"undefined"!==typeof b.style.zoom&&(b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",b.appendChild(P.createElement("div")).style.width=
"5px",a=3!==b.offsetWidth),c.removeChild(d),a):void 0}}();var db=/^margin/,Ca=new RegExp("^("+Fa+")(?!px)[a-z%]+$","i"),Ga,Ha,eb=/^(top|right|bottom|left)$/;b.getComputedStyle?(Ga=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)},Ha=function(a,b,c){var d,f,h,e,g=a.style;return c=c||Ga(a),e=c?c.getPropertyValue(b)||c[b]:void 0,c&&(""!==e||p.contains(a.ownerDocument,a)||(e=p.style(a,b)),Ca.test(e)&&db.test(b)&&(d=g.width,f=g.minWidth,h=g.maxWidth,g.minWidth=g.maxWidth=g.width=
e,e=c.width,g.width=d,g.minWidth=f,g.maxWidth=h)),void 0===e?e:e+""}):P.documentElement.currentStyle&&(Ga=function(a){return a.currentStyle},Ha=function(a,b,c){var d,f,h,e,g=a.style;return c=c||Ga(a),e=c?c[b]:void 0,null==e&&g&&g[b]&&(e=g[b]),Ca.test(e)&&!eb.test(b)&&(d=g.left,f=a.runtimeStyle,h=f&&f.left,h&&(f.left=a.currentStyle.left),g.left="fontSize"===b?"1em":e,e=g.pixelLeft+"px",g.left=d,h&&(f.left=h)),void 0===e?e:e+""||"auto"});!function(){var a,c,d,f,h,e,g;if(a=P.createElement("div"),a.innerHTML=
"  \x3clink/\x3e\x3ctable\x3e\x3c/table\x3e\x3ca href\x3d'/a'\x3ea\x3c/a\x3e\x3cinput type\x3d'checkbox'/\x3e",d=a.getElementsByTagName("a")[0],c=d&&d.style){var l=function(){var a,c,d,l;(c=P.getElementsByTagName("body")[0])&&c.style&&(a=P.createElement("div"),d=P.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(a),a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",
f=h=!1,g=!0,b.getComputedStyle&&(f="1%"!==(b.getComputedStyle(a,null)||{}).top,h="4px"===(b.getComputedStyle(a,null)||{width:"4px"}).width,l=a.appendChild(P.createElement("div")),l.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",l.style.marginRight=l.style.width="0",a.style.width="1px",g=!parseFloat((b.getComputedStyle(l,null)||{}).marginRight)),a.innerHTML="\x3ctable\x3e\x3ctr\x3e\x3ctd\x3e\x3c/td\x3e\x3ctd\x3et\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e",
l=a.getElementsByTagName("td"),l[0].style.cssText="margin:0;border:0;padding:0;display:none",e=0===l[0].offsetHeight,e&&(l[0].style.display="",l[1].style.display="none",e=0===l[0].offsetHeight),c.removeChild(d))};c.cssText="float:left;opacity:.5";M.opacity="0.5"===c.opacity;M.cssFloat=!!c.cssFloat;a.style.backgroundClip="content-box";a.cloneNode(!0).style.backgroundClip="";M.clearCloneStyle="content-box"===a.style.backgroundClip;M.boxSizing=""===c.boxSizing||""===c.MozBoxSizing||""===c.WebkitBoxSizing;
p.extend(M,{reliableHiddenOffsets:function(){return null==e&&l(),e},boxSizingReliable:function(){return null==h&&l(),h},pixelPosition:function(){return null==f&&l(),f},reliableMarginRight:function(){return null==g&&l(),g}})}}();p.swap=function(a,b,c,d){var f,h={};for(f in b)h[f]=a.style[f],a.style[f]=b[f];c=c.apply(a,d||[]);for(f in b)a.style[f]=h[f];return c};var ea=/alpha\([^)]*\)/i,fb=/opacity\s*=\s*([^)]*)/,Ua=/^(none|table(?!-c[ea]).+)/,vb=new RegExp("^("+Fa+")(.*)$","i"),Pa=new RegExp("^([+-])\x3d("+
Fa+")","i"),Wb={position:"absolute",visibility:"hidden",display:"block"},fa={letterSpacing:"0",fontWeight:"400"},Fb=["Webkit","O","Moz","ms"];p.extend({cssHooks:{opacity:{get:function(a,b){if(b)return a=Ha(a,"opacity"),""===a?"1":a}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":M.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&
a.style){var f,h,e,g=p.camelCase(b),l=a.style;if(b=p.cssProps[g]||(p.cssProps[g]=F(l,g)),e=p.cssHooks[b]||p.cssHooks[g],void 0===c)return e&&"get"in e&&void 0!==(f=e.get(a,!1,d))?f:l[b];if(h=typeof c,"string"===h&&(f=Pa.exec(c))&&(c=(f[1]+1)*f[2]+parseFloat(p.css(a,b)),h="number"),null!=c&&c===c&&("number"!==h||p.cssNumber[g]||(c+="px"),M.clearCloneStyle||""!==c||0!==b.indexOf("background")||(l[b]="inherit"),!(e&&"set"in e&&void 0===(c=e.set(a,c,d)))))try{l[b]=c}catch(pc){}}},css:function(a,b,c,d){var f,
h,e,g=p.camelCase(b);return b=p.cssProps[g]||(p.cssProps[g]=F(a.style,g)),e=p.cssHooks[b]||p.cssHooks[g],e&&"get"in e&&(h=e.get(a,!0,c)),void 0===h&&(h=Ha(a,b,d)),"normal"===h&&b in fa&&(h=fa[b]),""===c||c?(f=parseFloat(h),!0===c||p.isNumeric(f)?f||0:h):h}});p.each(["height","width"],function(a,b){p.cssHooks[b]={get:function(a,c,d){return c?Ua.test(p.css(a,"display"))&&0===a.offsetWidth?p.swap(a,Wb,function(){return S(a,b,d)}):S(a,b,d):void 0},set:function(a,c,d){var f=d&&Ga(a);return K(a,c,d?I(a,
b,d,M.boxSizing&&"border-box"===p.css(a,"boxSizing",!1,f),f):0)}}});M.opacity||(p.cssHooks.opacity={get:function(a,b){return fb.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style;a=a.currentStyle;var d=p.isNumeric(b)?"alpha(opacity\x3d"+100*b+")":"",f=a&&a.filter||c.filter||"";c.zoom=1;(1<=b||""===b)&&""===p.trim(f.replace(ea,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||a&&!a.filter)||(c.filter=
ea.test(f)?f.replace(ea,d):f+" "+d)}});p.cssHooks.marginRight=H(M.reliableMarginRight,function(a,b){return b?p.swap(a,{display:"inline-block"},Ha,[a,"marginRight"]):void 0});p.each({margin:"",padding:"",border:"Width"},function(a,b){p.cssHooks[a+b]={expand:function(c){var d=0,f={};for(c="string"==typeof c?c.split(" "):[c];4>d;d++)f[a+ha[d]+b]=c[d]||c[d-2]||c[0];return f}};db.test(a)||(p.cssHooks[a+b].set=K)});p.fn.extend({css:function(a,b){return Ia(this,function(a,b,c){var d,f={},h=0;if(p.isArray(b)){c=
Ga(a);for(d=b.length;d>h;h++)f[b[h]]=p.css(a,b[h],!1,c);return f}return void 0!==c?p.style(a,b,c):p.css(a,b)},a,b,1<arguments.length)},show:function(){return G(this,!0)},hide:function(){return G(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){va(this)?p(this).show():p(this).hide()})}});p.Tween=J;J.prototype={constructor:J,init:function(a,b,c,d,f,h){this.elem=a;this.prop=c;this.easing=f||"swing";this.options=b;this.start=this.now=this.cur();this.end=
d;this.unit=h||(p.cssNumber[c]?"":"px")},cur:function(){var a=J.propHooks[this.prop];return a&&a.get?a.get(this):J.propHooks._default.get(this)},run:function(a){var b,c=J.propHooks[this.prop];return this.pos=b=this.options.duration?p.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):J.propHooks._default.set(this),this}};J.prototype.init.prototype=
J.prototype;J.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=p.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){p.fx.step[a.prop]?p.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[p.cssProps[a.prop]]||p.cssHooks[a.prop])?p.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}};J.propHooks.scrollTop=J.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};
p.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}};p.fx=J.prototype.init;p.fx.step={};var Ta,pb,Xb=/^(?:toggle|show|hide)$/,Hb=new RegExp("^(?:([+-])\x3d|)("+Fa+")([a-z%]*)$","i"),Yb=/queueHooks$/,lb=[function(a,b,c){var d,f,h,e,g,l,m,n=this,k={},x=a.style,u=a.nodeType&&va(a),v=p._data(a,"fxshow");c.queue||(e=p._queueHooks(a,"fx"),null==e.unqueued&&(e.unqueued=0,g=e.empty.fire,e.empty.fire=function(){e.unqueued||g()}),e.unqueued++,n.always(function(){n.always(function(){e.unqueued--;
p.queue(a,"fx").length||e.empty.fire()})}));1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[x.overflow,x.overflowX,x.overflowY],l=p.css(a,"display"),m="none"===l?p._data(a,"olddisplay")||D(a.nodeName):l,"inline"===m&&"none"===p.css(a,"float")&&(M.inlineBlockNeedsLayout&&"inline"!==D(a.nodeName)?x.zoom=1:x.display="inline-block"));c.overflow&&(x.overflow="hidden",M.shrinkWrapBlocks()||n.always(function(){x.overflow=c.overflow[0];x.overflowX=c.overflow[1];x.overflowY=c.overflow[2]}));for(d in b)if(f=
b[d],Xb.exec(f)){if(delete b[d],h=h||"toggle"===f,f===(u?"hide":"show")){if("show"!==f||!v||void 0===v[d])continue;u=!0}k[d]=v&&v[d]||p.style(a,d)}else l=void 0;if(p.isEmptyObject(k))"inline"===("none"===l?D(a.nodeName):l)&&(x.display=l);else for(d in v?"hidden"in v&&(u=v.hidden):v=p._data(a,"fxshow",{}),h&&(v.hidden=!u),u?p(a).show():n.done(function(){p(a).hide()}),n.done(function(){var b;p._removeData(a,"fxshow");for(b in k)p.style(a,b,k[b])}),k)b=O(u?v[d]:0,d,n),d in v||(v[d]=b.start,u&&(b.end=
b.start,b.start="width"===d||"height"===d?1:0))}],ab={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),f=(b=Hb.exec(b))&&b[3]||(p.cssNumber[a]?"":"px"),h=(p.cssNumber[a]||"px"!==f&&+d)&&Hb.exec(p.css(c.elem,a)),e=1,g=20;if(h&&h[3]!==f){f=f||h[3];b=b||[];h=+d||1;do e=e||".5",h/=e,p.style(c.elem,a,h+f);while(e!==(e=c.cur()/d)&&1!==e&&--g)}return b&&(h=c.start=+h||+d||0,c.unit=f,c.end=b[1]?h+(b[1]+1)*b[2]:+b[2]),c}]};p.Animation=p.extend(N,{tweener:function(a,b){p.isFunction(a)?(b=a,a=["*"]):
a=a.split(" ");for(var c,d=0,f=a.length;f>d;d++)c=a[d],ab[c]=ab[c]||[],ab[c].unshift(b)},prefilter:function(a,b){b?lb.unshift(a):lb.push(a)}});p.speed=function(a,b,c){var d=a&&"object"==typeof a?p.extend({},a):{complete:c||!c&&b||p.isFunction(a)&&a,duration:a,easing:c&&b||b&&!p.isFunction(b)&&b};return d.duration=p.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in p.fx.speeds?p.fx.speeds[d.duration]:p.fx.speeds._default,(null==d.queue||!0===d.queue)&&(d.queue="fx"),d.old=d.complete,d.complete=
function(){p.isFunction(d.old)&&d.old.call(this);d.queue&&p.dequeue(this,d.queue)},d};p.fn.extend({fadeTo:function(a,b,c,d){return this.filter(va).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var f=p.isEmptyObject(a),h=p.speed(b,c,d);b=function(){var b=N(this,p.extend({},a),h);(f||p._data(this,"finish"))&&b.stop(!0)};return b.finish=b,f||!1===h.queue?this.each(b):this.queue(h.queue,b)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop;b(c)};return"string"!=
typeof a&&(c=b,b=a,a=void 0),b&&!1!==a&&this.queue(a||"fx",[]),this.each(function(){var b=!0,f=null!=a&&a+"queueHooks",h=p.timers,e=p._data(this);if(f)e[f]&&e[f].stop&&d(e[f]);else for(f in e)e[f]&&e[f].stop&&Yb.test(f)&&d(e[f]);for(f=h.length;f--;)h[f].elem!==this||null!=a&&h[f].queue!==a||(h[f].anim.stop(c),b=!1,h.splice(f,1));!b&&c||p.dequeue(this,a)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var b=p._data(this),c=b[a+"queue"];var d=b[a+"queueHooks"];var f=p.timers,h=
c?c.length:0;b.finish=!0;p.queue(this,a,[]);d&&d.stop&&d.stop.call(this,!0);for(d=f.length;d--;)f[d].elem===this&&f[d].queue===a&&(f[d].anim.stop(!0),f.splice(d,1));for(d=0;h>d;d++)c[d]&&c[d].finish&&c[d].finish.call(this);delete b.finish})}});p.each(["toggle","show","hide"],function(a,b){var c=p.fn[b];p.fn[b]=function(a,d,f){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(R(b,!0),a,d,f)}});p.each({slideDown:R("show"),slideUp:R("hide"),slideToggle:R("toggle"),fadeIn:{opacity:"show"},
fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){p.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}});p.timers=[];p.fx.tick=function(){var a=p.timers,b=0;for(Ta=p.now();b<a.length;b++){var c=a[b];c()||a[b]!==c||a.splice(b--,1)}a.length||p.fx.stop();Ta=void 0};p.fx.timer=function(a){p.timers.push(a);a()?p.fx.start():p.timers.pop()};p.fx.interval=13;p.fx.start=function(){pb||(pb=setInterval(p.fx.tick,p.fx.interval))};p.fx.stop=function(){clearInterval(pb);pb=null};p.fx.speeds=
{slow:600,fast:200,_default:400};p.fn.delay=function(a,b){return a=p.fx?p.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})};(function(){var a=P.createElement("div");a.setAttribute("className","t");a.innerHTML="  \x3clink/\x3e\x3ctable\x3e\x3c/table\x3e\x3ca href\x3d'/a'\x3ea\x3c/a\x3e\x3cinput type\x3d'checkbox'/\x3e";var b=a.getElementsByTagName("a")[0];var c=P.createElement("select");var d=c.appendChild(P.createElement("option"));
var f=a.getElementsByTagName("input")[0];b.style.cssText="top:1px";M.getSetAttribute="t"!==a.className;M.style=/top/.test(b.getAttribute("style"));M.hrefNormalized="/a"===b.getAttribute("href");M.checkOn=!!f.value;M.optSelected=d.selected;M.enctype=!!P.createElement("form").enctype;c.disabled=!0;M.optDisabled=!d.disabled;f=P.createElement("input");f.setAttribute("value","");M.input=""===f.getAttribute("value");f.value="t";f.setAttribute("type","radio");M.radioValue="t"===f.value})();var Zb=/\r/g;
p.fn.extend({val:function(a){var b,c,d,f=this[0];if(arguments.length)return d=p.isFunction(a),this.each(function(c){var f;1===this.nodeType&&(f=d?a.call(this,c,p(this).val()):a,null==f?f="":"number"==typeof f?f+="":p.isArray(f)&&(f=p.map(f,function(a){return null==a?"":a+""})),b=p.valHooks[this.type]||p.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,f,"value")||(this.value=f))});if(f)return b=p.valHooks[f.type]||p.valHooks[f.nodeName.toLowerCase()],b&&"get"in b&&void 0!==
(c=b.get(f,"value"))?c:(c=f.value,"string"==typeof c?c.replace(Zb,""):null==c?"":c)}});p.extend({valHooks:{option:{get:function(a){var b=p.find.attr(a,"value");return null!=b?b:p.trim(p.text(a))}},select:{get:function(a){for(var b,c=a.options,d=a.selectedIndex,f="select-one"===a.type||0>d,h=f?null:[],e=f?d+1:c.length,g=0>d?e:f?d:0;e>g;g++)if(b=c[g],!(!b.selected&&g!==d||(M.optDisabled?b.disabled:null!==b.getAttribute("disabled"))||b.parentNode.disabled&&p.nodeName(b.parentNode,"optgroup"))){if(a=
p(b).val(),f)return a;h.push(a)}return h},set:function(a,b){var c,d,f=a.options;b=p.makeArray(b);for(var h=f.length;h--;)if(d=f[h],0<=p.inArray(p.valHooks.option.get(d),b))try{d.selected=c=!0}catch(oc){d.scrollHeight}else d.selected=!1;return c||(a.selectedIndex=-1),f}}}});p.each(["radio","checkbox"],function(){p.valHooks[this]={set:function(a,b){return p.isArray(b)?a.checked=0<=p.inArray(p(a).val(),b):void 0}};M.checkOn||(p.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":
a.value})});var Va,Ka=p.expr.attrHandle,zb=/^(?:checked|selected)$/i,Qa=M.getSetAttribute,qb=M.input;p.fn.extend({attr:function(a,b){return Ia(this,p.attr,a,b,1<arguments.length)},removeAttr:function(a){return this.each(function(){p.removeAttr(this,a)})}});p.extend({attr:function(a,b,c){var d,f,h=a.nodeType;if(a&&3!==h&&8!==h&&2!==h)return"undefined"===typeof a.getAttribute?p.prop(a,b,c):(1===h&&p.isXMLDoc(a)||(b=b.toLowerCase(),d=p.attrHooks[b]||(p.expr.match.bool.test(b)?$b:Va)),void 0===c?d&&"get"in
d&&null!==(f=d.get(a,b))?f:(f=p.find.attr(a,b),null==f?void 0:f):null!==c?d&&"set"in d&&void 0!==(f=d.set(a,c,b))?f:(a.setAttribute(b,c+""),c):void p.removeAttr(a,b))},removeAttr:function(a,b){var c=0,d=b&&b.match(ra);if(d&&1===a.nodeType)for(;b=d[c++];){var f=p.propFix[b]||b;p.expr.match.bool.test(b)?qb&&Qa||!zb.test(b)?a[f]=!1:a[p.camelCase("default-"+b)]=a[f]=!1:p.attr(a,b,"");a.removeAttribute(Qa?b:f)}},attrHooks:{type:{set:function(a,b){if(!M.radioValue&&"radio"===b&&p.nodeName(a,"input")){var c=
a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}});var $b={set:function(a,b,c){return!1===b?p.removeAttr(a,c):qb&&Qa||!zb.test(c)?a.setAttribute(!Qa&&p.propFix[c]||c,c):a[p.camelCase("default-"+c)]=a[c]=!0,c}};p.each(p.expr.match.bool.source.match(/\w+/g),function(a,b){var c=Ka[b]||p.find.attr;Ka[b]=qb&&Qa||!zb.test(b)?function(a,b,d){var f,h;return d||(h=Ka[b],Ka[b]=f,f=null!=c(a,b,d)?b.toLowerCase():null,Ka[b]=h),f}:function(a,b,c){return c?void 0:a[p.camelCase("default-"+b)]?b.toLowerCase():
null}});qb&&Qa||(p.attrHooks.value={set:function(a,b,c){return p.nodeName(a,"input")?void(a.defaultValue=b):Va&&Va.set(a,b,c)}});Qa||(Va={set:function(a,b,c){var d=a.getAttributeNode(c);return d||a.setAttributeNode(d=a.ownerDocument.createAttribute(c)),d.value=b+="","value"===c||b===a.getAttribute(c)?b:void 0}},Ka.id=Ka.name=Ka.coords=function(a,b,c){var d;return c?void 0:(d=a.getAttributeNode(b))&&""!==d.value?d.value:null},p.valHooks.button={get:function(a,b){return(a=a.getAttributeNode(b))&&a.specified?
a.value:void 0},set:Va.set},p.attrHooks.contenteditable={set:function(a,b,c){Va.set(a,""===b?!1:b,c)}},p.each(["width","height"],function(a,b){p.attrHooks[b]={set:function(a,c){return""===c?(a.setAttribute(b,"auto"),c):void 0}}}));M.style||(p.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,b){return a.style.cssText=b+""}});var ac=/^(?:input|select|textarea|button|object)$/i,bc=/^(?:a|area)$/i;p.fn.extend({prop:function(a,b){return Ia(this,p.prop,a,b,1<arguments.length)},
removeProp:function(a){return a=p.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(Eb){}})}});p.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,f,h,e=a.nodeType;if(a&&3!==e&&8!==e&&2!==e)return h=1!==e||!p.isXMLDoc(a),h&&(b=p.propFix[b]||b,f=p.propHooks[b]),void 0!==c?f&&"set"in f&&void 0!==(d=f.set(a,c,b))?d:a[b]=c:f&&"get"in f&&null!==(d=f.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=p.find.attr(a,"tabindex");return b?parseInt(b,
10):ac.test(a.nodeName)||bc.test(a.nodeName)&&a.href?0:-1}}}});M.hrefNormalized||p.each(["href","src"],function(a,b){p.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}});M.optSelected||(p.propHooks.selected={get:function(a){a=a.parentNode;return a&&(a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex),null}});p.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){p.propFix[this.toLowerCase()]=this});M.enctype||
(p.propFix.enctype="encoding");var Ab=/[\t\r\n\f]/g;p.fn.extend({addClass:function(a){var b,c,d,f,h=0,e=this.length;var g="string"==typeof a&&a;if(p.isFunction(a))return this.each(function(b){p(this).addClass(a.call(this,b,this.className))});if(g)for(g=(a||"").match(ra)||[];e>h;h++)if(b=this[h],c=1===b.nodeType&&(b.className?(" "+b.className+" ").replace(Ab," "):" ")){for(f=0;d=g[f++];)0>c.indexOf(" "+d+" ")&&(c+=d+" ");c=p.trim(c);b.className!==c&&(b.className=c)}return this},removeClass:function(a){var b,
c,d,f,h=0,e=this.length;var g=0===arguments.length||"string"==typeof a&&a;if(p.isFunction(a))return this.each(function(b){p(this).removeClass(a.call(this,b,this.className))});if(g)for(g=(a||"").match(ra)||[];e>h;h++)if(b=this[h],c=1===b.nodeType&&(b.className?(" "+b.className+" ").replace(Ab," "):"")){for(f=0;d=g[f++];)for(;0<=c.indexOf(" "+d+" ");)c=c.replace(" "+d+" "," ");c=a?p.trim(c):"";b.className!==c&&(b.className=c)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&
"string"===c?b?this.addClass(a):this.removeClass(a):this.each(p.isFunction(a)?function(c){p(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c)for(var b,d=0,f=p(this),h=a.match(ra)||[];b=h[d++];)f.hasClass(b)?f.removeClass(b):f.addClass(b);else("undefined"===c||"boolean"===c)&&(this.className&&p._data(this,"__className__",this.className),this.className=this.className||!1===a?"":p._data(this,"__className__")||"")})},hasClass:function(a){a=" "+a+" ";for(var b=0,c=this.length;c>
b;b++)if(1===this[b].nodeType&&0<=(" "+this[b].className+" ").replace(Ab," ").indexOf(a))return!0;return!1}});p.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){p.fn[b]=function(a,c){return 0<arguments.length?this.on(b,null,a,c):this.trigger(b)}});p.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||
a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var Bb=p.now(),Cb=/\?/,cc=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;p.parseJSON=function(a){if(b.JSON&&b.JSON.parse)return b.JSON.parse(a+"");var c,d=null,f=p.trim(a+
"");return f&&!p.trim(f.replace(cc,function(a,b,f,h){return c&&b&&(d=0),0===d?a:(c=f||b,d+=!h-!f,"")}))?Function("return "+f)():p.error("Invalid JSON: "+a)};p.parseXML=function(a){var c,d;if(!a||"string"!=typeof a)return null;try{b.DOMParser?(d=new DOMParser,c=d.parseFromString(a,"text/xml")):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(a))}catch(ub){c=void 0}return c&&c.documentElement&&!c.getElementsByTagName("parsererror").length||p.error("Invalid XML: "+a),c};var dc=/#.*$/,
Ib=/([?&])_=[^&]*/,ec=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,fc=/^(?:GET|HEAD)$/,gc=/^\/\//,Jb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Kb={},wb={},Lb="*/".concat("*");try{var Ra=location.href}catch(Ja){Ra=P.createElement("a"),Ra.href="",Ra=Ra.href}var Wa=Jb.exec(Ra.toLowerCase())||[];p.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ra,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Wa[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset\x3dUTF-8",
accepts:{"*":Lb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":p.parseJSON,"text xml":p.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?da(da(a,p.ajaxSettings),b):da(p.ajaxSettings,a)},ajaxPrefilter:T(Kb),ajaxTransport:T(wb),ajax:function(a,
b){function c(a,b,c,d){var f,m,q,t=b;if(2!==B){B=2;e&&clearTimeout(e);l=void 0;h=d||"";y.readyState=0<a?4:0;d=200<=a&&300>a||304===a;if(c){var z=n;for(var A=y,C,G,D,ea,H=z.contents,I=z.dataTypes;"*"===I[0];)I.shift(),void 0===G&&(G=z.mimeType||A.getResponseHeader("Content-Type"));if(G)for(ea in H)if(H[ea]&&H[ea].test(G)){I.unshift(ea);break}if(I[0]in c)D=I[0];else{for(ea in c){if(!I[0]||z.converters[ea+" "+I[0]]){D=ea;break}C||(C=ea)}D=D||C}z=D?(D!==I[0]&&I.unshift(D),c[D]):void 0}a:{c=n;C=z;G=y;
D=d;var N,K,F;z={};A=c.dataTypes.slice();if(A[1])for(N in c.converters)z[N.toLowerCase()]=c.converters[N];for(ea=A.shift();ea;)if(c.responseFields[ea]&&(G[c.responseFields[ea]]=C),!F&&D&&c.dataFilter&&(C=c.dataFilter(C,c.dataType)),F=ea,ea=A.shift())if("*"===ea)ea=F;else if("*"!==F&&F!==ea){if(N=z[F+" "+ea]||z["* "+ea],!N)for(J in z)if(K=J.split(" "),K[1]===ea&&(N=z[F+" "+K[0]]||z["* "+K[0]])){!0===N?N=z[J]:!0!==z[J]&&(ea=K[0],A.unshift(K[1]));break}if(!0!==N)if(N&&c["throws"])C=N(C);else try{C=N(C)}catch(Vb){var J=
{state:"parsererror",error:N?Vb:"No conversion from "+F+" to "+ea};break a}}J={state:"success",data:C}}z=J;d?(n.ifModified&&(q=y.getResponseHeader("Last-Modified"),q&&(p.lastModified[r]=q),q=y.getResponseHeader("etag"),q&&(p.etag[r]=q)),204===a||"HEAD"===n.type?t="nocontent":304===a?t="notmodified":(t=z.state,f=z.data,m=z.error,d=!m)):(m=t,(a||!t)&&(t="error",0>a&&(a=0)));y.status=a;y.statusText=(b||t)+"";d?u.resolveWith(k,[f,t,y]):u.rejectWith(k,[y,t,m]);y.statusCode(w);w=void 0;g&&x.trigger(d?"ajaxSuccess":
"ajaxError",[y,n,d?f:m]);v.fireWith(k,[y,t]);g&&(x.trigger("ajaxComplete",[y,n]),--p.active||p.event.trigger("ajaxStop"))}}"object"==typeof a&&(b=a,a=void 0);b=b||{};var d,f,h,e,g,l,m,n=p.ajaxSetup({},b),k=n.context||n,x=n.context&&(k.nodeType||k.jquery)?p(k):p.event,u=p.Deferred(),v=p.Callbacks("once memory"),w=n.statusCode||{},q={},t={},B=0,z="canceled",y={readyState:0,getResponseHeader:function(a){var b;if(2===B){if(!m)for(m={};b=ec.exec(h);)m[b[1].toLowerCase()]=b[2];b=m[a.toLowerCase()]}return null==
b?null:b},getAllResponseHeaders:function(){return 2===B?h:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return B||(a=t[c]=t[c]||a,q[a]=b),this},overrideMimeType:function(a){return B||(n.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>B)for(b in a)w[b]=[w[b],a[b]];else y.always(a[y.status]);return this},abort:function(a){a=a||z;return l&&l.abort(a),c(0,a),this}};if(u.promise(y).complete=v.add,y.success=y.done,y.error=y.fail,n.url=((a||n.url||Ra)+"").replace(dc,"").replace(gc,
Wa[1]+"//"),n.type=b.method||b.type||n.method||n.type,n.dataTypes=p.trim(n.dataType||"*").toLowerCase().match(ra)||[""],null==n.crossDomain&&(d=Jb.exec(n.url.toLowerCase()),n.crossDomain=!(!d||d[1]===Wa[1]&&d[2]===Wa[2]&&(d[3]||("http:"===d[1]?"80":"443"))===(Wa[3]||("http:"===Wa[1]?"80":"443")))),n.data&&n.processData&&"string"!=typeof n.data&&(n.data=p.param(n.data,n.traditional)),Q(Kb,n,b,y),2===B)return y;(g=n.global)&&0===p.active++&&p.event.trigger("ajaxStart");n.type=n.type.toUpperCase();n.hasContent=
!fc.test(n.type);var r=n.url;n.hasContent||(n.data&&(r=n.url+=(Cb.test(r)?"\x26":"?")+n.data,delete n.data),!1===n.cache&&(n.url=Ib.test(r)?r.replace(Ib,"$1_\x3d"+Bb++):r+(Cb.test(r)?"\x26":"?")+"_\x3d"+Bb++));n.ifModified&&(p.lastModified[r]&&y.setRequestHeader("If-Modified-Since",p.lastModified[r]),p.etag[r]&&y.setRequestHeader("If-None-Match",p.etag[r]));(n.data&&n.hasContent&&!1!==n.contentType||b.contentType)&&y.setRequestHeader("Content-Type",n.contentType);y.setRequestHeader("Accept",n.dataTypes[0]&&
n.accepts[n.dataTypes[0]]?n.accepts[n.dataTypes[0]]+("*"!==n.dataTypes[0]?", "+Lb+"; q\x3d0.01":""):n.accepts["*"]);for(f in n.headers)y.setRequestHeader(f,n.headers[f]);if(n.beforeSend&&(!1===n.beforeSend.call(k,y,n)||2===B))return y.abort();z="abort";for(f in{success:1,error:1,complete:1})y[f](n[f]);if(l=Q(wb,n,b,y)){y.readyState=1;g&&x.trigger("ajaxSend",[y,n]);n.async&&0<n.timeout&&(e=setTimeout(function(){y.abort("timeout")},n.timeout));try{B=1,l.send(q,c)}catch(Gb){if(!(2>B))throw Gb;c(-1,Gb)}}else c(-1,
"No Transport");return y},getJSON:function(a,b,c){return p.get(a,b,c,"json")},getScript:function(a,b){return p.get(a,void 0,b,"script")}});p.each(["get","post"],function(a,b){p[b]=function(a,c,d,f){return p.isFunction(c)&&(f=f||d,d=c,c=void 0),p.ajax({url:a,type:b,dataType:f,data:c,success:d})}});p.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){p.fn[b]=function(a){return this.on(b,a)}});p._evalUrl=function(a){return p.ajax({url:a,type:"GET",dataType:"script",
async:!1,global:!1,"throws":!0})};p.fn.extend({wrapAll:function(a){if(p.isFunction(a))return this.each(function(b){p(this).wrapAll(a.call(this,b))});if(this[0]){var b=p(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]);b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return this.each(p.isFunction(a)?function(b){p(this).wrapInner(a.call(this,b))}:function(){var b=p(this),
c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=p.isFunction(a);return this.each(function(c){p(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){p.nodeName(this,"body")||p(this).replaceWith(this.childNodes)}).end()}});p.expr.filters.hidden=function(a){return 0>=a.offsetWidth&&0>=a.offsetHeight||!M.reliableHiddenOffsets()&&"none"===(a.style&&a.style.display||p.css(a,"display"))};p.expr.filters.visible=function(a){return!p.expr.filters.hidden(a)};
var hc=/%20/g,Tb=/\[\]$/,Mb=/\r?\n/g,ic=/^(?:submit|button|image|reset|file)$/i,jc=/^(?:input|select|textarea|keygen)/i;p.param=function(a,b){var c,d=[],f=function(a,b){b=p.isFunction(b)?b():null==b?"":b;d[d.length]=encodeURIComponent(a)+"\x3d"+encodeURIComponent(b)};if(void 0===b&&(b=p.ajaxSettings&&p.ajaxSettings.traditional),p.isArray(a)||a.jquery&&!p.isPlainObject(a))p.each(a,function(){f(this.name,this.value)});else for(c in a)W(c,a[c],b,f);return d.join("\x26").replace(hc,"+")};p.fn.extend({serialize:function(){return p.param(this.serializeArray())},
serializeArray:function(){return this.map(function(){var a=p.prop(this,"elements");return a?p.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!p(this).is(":disabled")&&jc.test(this.nodeName)&&!ic.test(a)&&(this.checked||!Xa.test(a))}).map(function(a,b){a=p(this).val();return null==a?null:p.isArray(a)?p.map(a,function(a){return{name:b.name,value:a.replace(Mb,"\r\n")}}):{name:b.name,value:a.replace(Mb,"\r\n")}}).get()}});p.ajaxSettings.xhr=void 0!==b.ActiveXObject?function(){var a;
if(!(a=!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&ca()))a:{try{a=new b.ActiveXObject("Microsoft.XMLHTTP");break a}catch(Eb){}a=void 0}return a}:ca;var kc=0,rb={},sb=p.ajaxSettings.xhr();b.ActiveXObject&&p(b).on("unload",function(){for(var a in rb)rb[a](void 0,!0)});M.cors=!!sb&&"withCredentials"in sb;(sb=M.ajax=!!sb)&&p.ajaxTransport(function(a){if(!a.crossDomain||M.cors){var b;return{send:function(c,d){var f,h=a.xhr(),e=++kc;if(h.open(a.type,a.url,a.async,a.username,
a.password),a.xhrFields)for(f in a.xhrFields)h[f]=a.xhrFields[f];a.mimeType&&h.overrideMimeType&&h.overrideMimeType(a.mimeType);a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(f in c)void 0!==c[f]&&h.setRequestHeader(f,c[f]+"");h.send(a.hasContent&&a.data||null);b=function(c,f){if(b&&(f||4===h.readyState))if(delete rb[e],b=void 0,h.onreadystatechange=p.noop,f)4!==h.readyState&&h.abort();else{var g={};var l=h.status;"string"==typeof h.responseText&&(g.text=h.responseText);
try{var m=h.statusText}catch(Sb){m=""}l||!a.isLocal||a.crossDomain?1223===l&&(l=204):l=g.text?200:404}g&&d(l,m,g,h.getAllResponseHeaders())};a.async?4===h.readyState?setTimeout(b):h.onreadystatechange=rb[e]=b:b()},abort:function(){b&&b(void 0,!0)}}}});p.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return p.globalEval(a),a}}});p.ajaxPrefilter("script",
function(a){void 0===a.cache&&(a.cache=!1);a.crossDomain&&(a.type="GET",a.global=!1)});p.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=P.head||p("head")[0]||P.documentElement;return{send:function(d,f){b=P.createElement("script");b.async=!0;a.scriptCharset&&(b.charset=a.scriptCharset);b.src=a.url;b.onload=b.onreadystatechange=function(a,c){(c||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||
f(200,"success"))};c.insertBefore(b,c.firstChild)},abort:function(){b&&b.onload(void 0,!0)}}}});var Nb=[],Db=/(=)\?(?=&|$)|\?\?/;p.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Nb.pop()||p.expando+"_"+Bb++;return this[a]=!0,a}});p.ajaxPrefilter("json jsonp",function(a,c,d){var f,h,e,g=!1!==a.jsonp&&(Db.test(a.url)?"url":"string"==typeof a.data&&!(a.contentType||"").indexOf("application/x-www-form-urlencoded")&&Db.test(a.data)&&"data");return g||"jsonp"===a.dataTypes[0]?(f=a.jsonpCallback=
p.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,g?a[g]=a[g].replace(Db,"$1"+f):!1!==a.jsonp&&(a.url+=(Cb.test(a.url)?"\x26":"?")+a.jsonp+"\x3d"+f),a.converters["script json"]=function(){return e||p.error(f+" was not called"),e[0]},a.dataTypes[0]="json",h=b[f],b[f]=function(){e=arguments},d.always(function(){b[f]=h;a[f]&&(a.jsonpCallback=c.jsonpCallback,Nb.push(f));e&&p.isFunction(h)&&h(e[0]);e=h=void 0}),"script"):void 0});p.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;
"boolean"==typeof b&&(c=b,b=!1);b=b||P;var d=E.exec(a);c=!c&&[];return d?[b.createElement(d[1])]:(d=p.buildFragment([a],b,c),c&&c.length&&p(c).remove(),p.merge([],d.childNodes))};var Ob=p.fn.load;p.fn.load=function(a,b,c){if("string"!=typeof a&&Ob)return Ob.apply(this,arguments);var d,f,h,e=this,g=a.indexOf(" ");return 0<=g&&(d=p.trim(a.slice(g,a.length)),a=a.slice(0,g)),p.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(h="POST"),0<e.length&&p.ajax({url:a,type:h,dataType:"html",data:b}).done(function(a){f=
arguments;e.html(d?p("\x3cdiv\x3e").append(p.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){e.each(c,f||[a.responseText,b,a])}),this};p.expr.filters.animated=function(a){return p.grep(p.timers,function(b){return a===b.elem}).length};var Pb=b.document.documentElement;p.offset={setOffset:function(a,b,c){var d,f,h,e=p.css(a,"position"),g=p(a),l={};"static"===e&&(a.style.position="relative");var m=g.offset();var n=p.css(a,"top");var k=p.css(a,"left");("absolute"===e||"fixed"===e)&&-1<p.inArray("auto",
[n,k])?(d=g.position(),h=d.top,f=d.left):(h=parseFloat(n)||0,f=parseFloat(k)||0);p.isFunction(b)&&(b=b.call(a,c,m));null!=b.top&&(l.top=b.top-m.top+h);null!=b.left&&(l.left=b.left-m.left+f);"using"in b?b.using.call(a,l):g.css(l)}};p.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){p.offset.setOffset(this,a,b)});var b,c,d={top:0,left:0},f=this[0],h=f&&f.ownerDocument;if(h)return b=h.documentElement,p.contains(b,f)?("undefined"!==typeof f.getBoundingClientRect&&
(d=f.getBoundingClientRect()),c=Y(h),{top:d.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||0),left:d.left+(c.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):d},position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return"fixed"===p.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),p.nodeName(a[0],"html")||(c=a.offset()),c.top+=p.css(a[0],"borderTopWidth",!0),c.left+=p.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-p.css(d,"marginTop",!0),left:b.left-
c.left-p.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||Pb;a&&!p.nodeName(a,"html")&&"static"===p.css(a,"position");)a=a.offsetParent;return a||Pb})}});p.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);p.fn[a]=function(d){return Ia(this,function(a,d,f){var h=Y(a);return void 0===f?h?b in h?h[b]:h.document.documentElement[d]:a[d]:void(h?h.scrollTo(c?p(h).scrollLeft():f,c?f:p(h).scrollTop()):a[d]=f)},
a,d,arguments.length,null)}});p.each(["top","left"],function(a,b){p.cssHooks[b]=H(M.pixelPosition,function(a,c){return c?(c=Ha(a,b),Ca.test(c)?p(a).position()[b]+"px":c):void 0})});p.each({Height:"height",Width:"width"},function(a,b){p.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){p.fn[d]=function(d,f){var h=arguments.length&&(c||"boolean"!=typeof d),e=c||(!0===d||!0===f?"margin":"border");return Ia(this,function(b,c,d){var f;return p.isWindow(b)?b.document.documentElement["client"+
a]:9===b.nodeType?(f=b.documentElement,Math.max(b.body["scroll"+a],f["scroll"+a],b.body["offset"+a],f["offset"+a],f["client"+a])):void 0===d?p.css(b,c,e):p.style(b,c,d,e)},b,h?d:void 0,h,null)}})});p.fn.size=function(){return this.length};p.fn.andSelf=p.fn.addBack;"function"==typeof define&&define.amd&&define("jquery",[],function(){return p});var lc=b.jQuery,mc=b.$;return p.noConflict=function(a){return b.$===p&&(b.$=mc),a&&b.jQuery===p&&(b.jQuery=lc),p},"undefined"===typeof e&&(b.jQuery=b.$=p),p});
var mini=mini||{};mini.digital=mini.digital||{};mini.digital.$=$;(function(b){var e={},k={};b.publish=function(g,c){e[g]&&b.each(e[g],function(){"function"===typeof this&&this.apply(b,c||[])});if(e[g]&&e[g].length>k[g]){for(var a=[],d=0;d<e[g].length;d++)e[g][d]&&a.push(e[g][d]);e[g]=a}};b.subscribe=function(b,c){e[b]||(e[b]=[],k[b]=0);e[b].push(c);k[b]+=1;return[b,c]};b.unsubscribe=function(g){var c=g[0];e[c]&&b.each(e[c],function(a){this===g[1]&&(delete e[c][a],--k[c])})}})(mini.digital.$);
(function(b,e){function k(a,h,g,m,k){function f(){D=1<b.devicePixelRatio;n(g);0<=h.delay&&setTimeout(function(){q(!0)},h.delay);if(0>h.delay||h.combined)m.e=u(h.throttle,function(a){"resize"===a.type&&(C=A=-1);q(a.all)}),m.a=function(a){n(a);g.push.apply(g,a)},m.g=function(){return g=c(g).filter(function(){return!c(this).data(h.loadedName)})},m.f=function(a){for(var b=0;b<a.length;b++){var c=g.filter(a[b]);c.length&&q(!1,c)}},q(),c(h.appendScroll).on("scroll."+k+" resize."+k,m.e)}function n(b){var d=
h.defaultImage,f=h.placeholder,g=h.imageBase,l=h.srcsetAttribute,m=h.loaderAttribute,n=h._f||{};b=c(b).filter(function(){var a=c(this),b=this.tagName.toLowerCase();return!a.data(h.handledName)&&(a.attr(h.attribute)||a.attr(l)||a.attr(m)||n[b]!==e)}).data("plugin_"+h.name,a);for(var k=0,u=b.length;k<u;k++){var v=c(b[k]),w=b[k].tagName.toLowerCase(),q=v.attr(h.imageBaseAttribute)||g;"img"==w&&q&&v.attr(l)&&v.attr(l,x(v.attr(l),q));n[w]===e||v.attr(m)||v.attr(m,n[w]);"img"==w&&d&&!v.attr("src")?v.attr("src",
d):"img"==w||!f||v.css("background-image")&&"none"!=v.css("background-image")||v.css("background-image","url('"+f+"')")}}function q(b,d){if(g.length){for(var f=d||g,e=!1,l=h.imageBase||"",m=h.srcsetAttribute,n=h.handledName,k=0;k<f.length;k++)if(b||d||w(f[k])){var x=c(f[k]),u=f[k].tagName.toLowerCase(),q=x.attr(h.attribute),t=x.attr(h.imageBaseAttribute)||l,B=x.attr(h.loaderAttribute);x.data(n)||h.visibleOnly&&!x.is(":visible")||!((q||x.attr(m))&&("img"==u&&(t+q!=x.attr("src")||x.attr(m)!=x.attr("srcset"))||
"img"!=u&&t+q!=x.css("background-image"))||B)||(e=!0,x.data(n,!0),v(x,u,t,B))}e&&(g=c(g).filter(function(){return!c(this).data(n)}))}else h.autoDestroy&&a.destroy()}function v(a,b,d,f){++z;var e=function(){B("onError",a);y();e=c.noop};B("beforeLoad",a);var g=h.attribute,l=h.srcsetAttribute,m=h.sizesAttribute,n=h.retinaAttribute,k=h.removeAttribute,x=h.loadedName,u=a.attr(n);if(f){var v=function(){k&&a.removeAttr(h.loaderAttribute);a.data(x,!0);B("afterLoad",a);setTimeout(y,1);v=c.noop};a.off("error").one("error",
e).one("load",v);B(f,a,function(b){b?(a.off("load"),v()):(a.off("error"),e())})||a.trigger("error")}else{var w=c(new Image);w.one("error",e).one("load",function(){a.hide();"img"==b?a.attr("sizes",w.attr("sizes")).attr("srcset",w.attr("srcset")).attr("src",w.attr("src")):a.css("background-image","url('"+w.attr("src")+"')");a[h.effect](h.effectTime);k&&(a.removeAttr(g+" "+l+" "+n+" "+h.imageBaseAttribute),"sizes"!==m&&a.removeAttr(m));a.data(x,!0);B("afterLoad",a);w.remove();y()});f=(D&&u?u:a.attr(g))||
"";w.attr("sizes",a.attr(m)).attr("srcset",a.attr(l)).attr("src",f?d+f:null);w.complete&&w.trigger("load")}}function w(a){var d=a.getBoundingClientRect();a=h.scrollDirection;var f=h.threshold,e=(0<=A?A:A=c(b).height())+f>d.top&&-f<d.bottom;d=(0<=C?C:C=c(b).width())+f>d.left&&-f<d.right;return"vertical"==a?e:"horizontal"==a?d:e&&d}function x(a,b){if(b){var c=a.split(",");a="";for(var d=0,f=c.length;d<f;d++)a+=b+c[d].trim()+(d!==f-1?",":"")}return a}function u(b,c){var d,f=0;return function(e,g){function l(){f=
+new Date;c.call(a,e)}var m=+new Date-f;d&&clearTimeout(d);m>b||!h.enableThrottle||g?l():d=setTimeout(l,b-m)}}function y(){--z;g.length||z||B("onFinishedAll")}function B(b,c,d){return(b=h[b])?(b.apply(a,[].slice.call(arguments,1)),!0):!1}var z=0,C=-1,A=-1,D=!1;if("event"==h.bind||d)f();else c(b).on("load."+k,f)}function g(d,h){var f=this,g=c.extend({},f.config,h),q={},l=g.name+"-"+ ++a;f.config=function(a,b){if(b===e)return g[a];g[a]=b;return f};f.addItems=function(a){q.a&&q.a("string"===c.type(a)?
c(a):a);return f};f.getItems=function(){return q.g?q.g():{}};f.update=function(a){q.e&&q.e({},!a);return f};f.force=function(a){q.f&&q.f("string"===c.type(a)?c(a):a);return f};f.loadAll=function(){q.e&&q.e({all:!0},!0);return f};f.destroy=function(){c(g.appendScroll).off("."+l,q.e);c(b).off("."+l);q={};return e};k(f,g,d,q,l);return g.chainable?d:f}var c=b.jQuery||b.Zepto,a=0,d=!1;c.fn.Lazy=c.fn.lazy=function(a){return new g(this,a)};c.Lazy=c.lazy=function(a,b,d){c.isFunction(b)&&(d=b,b=[]);if(c.isFunction(d)){a=
c.isArray(a)?a:[a];b=c.isArray(b)?b:[b];for(var f=g.prototype.config,h=f._f||(f._f={}),l=0,n=a.length;l<n;l++)if(f[a[l]]===e||c.isFunction(f[a[l]]))f[a[l]]=d;d=0;for(f=b.length;d<f;d++)h[b[d]]=a[0]}};g.prototype.config={name:"lazy",chainable:!0,autoDestroy:!0,bind:"load",threshold:500,visibleOnly:!1,appendScroll:b,scrollDirection:"both",imageBase:null,defaultImage:"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw\x3d\x3d",placeholder:null,delay:-1,combined:!1,attribute:"data-src",
srcsetAttribute:"data-srcset",sizesAttribute:"data-sizes",retinaAttribute:"data-retina",loaderAttribute:"data-loader",imageBaseAttribute:"data-imagebase",removeAttribute:!0,handledName:"handled",loadedName:"loaded",effect:"show",effectTime:0,enableThrottle:!0,throttle:250,beforeLoad:e,afterLoad:e,onError:e,onFinishedAll:e};c(b).on("load",function(){d=!0})})(window);
!function(b,e,k){"undefined"!=typeof module&&module.exports?module.exports=k():"function"==typeof define&&define.amd?define(e,k):b[e]=k()}(this,"cosyEncoder",function(){return function(){var b=void 0,e="https://cosy.bmwgroup.com/miniweb/cosySec?",k="https://cosy-int.bmwgroup.net/miniweb/cosySec?",g="https://cosy.bmwgroup.com/h5vcom/cosySec?",c="4Zak0rQzNsXdVEl3S1CTuf7yJ%tmLHwYqoi6Dh9pjMbG2ePUvBW8gIKx5OFcRnA";void 0===b&&(b=window.mini.digital.$("#imageCosySettings").data("chinaCosy"));b&&(e="https://cosycn.bmwgroup.com/hvcob/cosySec?",
k="https://cosycn-int.bmwgroup.net/miniweb/cosySec?",g="https://cosycn.bmwgroup.com/h5vcom/cosySec?",c="gGCtnx2%q7H4VIrKamSzsuRolDNBZWXJQpfj8PMU03heyL1Ok6YvTEFd5Aicw9b");return{serialize:function(a){var b=[];Object.keys(a).forEach(function(c){b.push(encodeURIComponent(c)+"\x3d"+encodeURIComponent(a[c]))});return b.join("\x26")},encode:function(a,b){b="int"===b?k:"h5vco"===b?g:e;var d=c;var h="";var n=25;var m="COSY-EU-100-"+n+45;var q="";var l=0;a=a.toString();for(var t=/(^[a-zA-Z0-9_.]*)/;l<a.length;){var r=
t.exec(a.substr(l));null!==r&&1<r.length&&""!==r[1]?(q+=r[1],l+=r[1].length):(" "===a[l]?q+="+":(r=a.charCodeAt(l).toString(16),q+="%"+(2>r.length?"0":"")+r.toUpperCase()),l++)}l=q;for(q=0;q<l.length;q++)switch(l.charAt(q)){case "+":h+="%20";break;case "-":h+="%2D";break;case "_":h+="%5F";break;case ".":h+="%2E";break;case "*":h+="%2A";break;default:h+=l.charAt(q)}for(q=0;q<h.length;q++)m+=d.charAt((n+d.indexOf(h.charAt(q)))%63),n+=45;d=encodeURI(m);return b+d}}}()});
!function(b,e,k){"undefined"!=typeof module&&module.exports?module.exports=k():"function"==typeof define&&define.amd?define(e,k):b[e]=k()}(this,"cosyDecoder",function(){return function(){var b=void 0,e="4Zak0rQzNsXdVEl3S1CTuf7yJ%tmLHwYqoi6Dh9pjMbG2ePUvBW8gIKx5OFcRnA";void 0===b&&(b=window.mini.digital.$("#imageCosySettings").data("chinaCosy"));b&&(e="gGCtnx2%q7H4VIrKamSzsuRolDNBZWXJQpfj8PMU03heyL1Ok6YvTEFd5Aicw9b");return{decode:function(b){if("string"===typeof b){var g=e,c="";b=decodeURI(b);var a=
b.indexOf("COSY-EU");if(-1!==a){b=b.substr(a);var d=parseInt(b.substring(12,14),10);var f=parseInt(b.substring(14,16),10);for(a=16;a<b.length;a++){var h=g.indexOf(b.charAt(a))-d;0>h&&(h-=63*(Math.ceil(h/63)-1));c+=g.charAt(h%63);d+=f}g=c;c=/(%[^%]{2})/;for(var n;null!==(n=c.exec(g))&&1<n.length&&""!==n[1];)b=parseInt(n[1].substr(1),16),b=String.fromCharCode(b),g=g.replace(n[1],b);return g}}},unserialize:function(b){try{return JSON.parse('{"'+decodeURIComponent(b).replace(/\s+/g,"").replace(/\\x20/g,
" ").replace(/"/g,"").replace(/&/g,'","').replace(/=/g,'":"')+'"}')}catch(g){return console.error(g),{}}}}}()});
"undefined"===typeof jwplayer&&(jwplayer=function(){if(jwplayer.api)return jwplayer.api.selectPlayer.apply(this,arguments)},jwplayer.version="6.12.4956",jwplayer.vid=document.createElement("video"),jwplayer.audio=document.createElement("audio"),jwplayer.source=document.createElement("source"),function(){var b={},e=Array.prototype,k=Object.prototype,g=e.slice,c=e.concat,a=k.toString,d=k.hasOwnProperty,f=e.map,h=e.forEach,n=e.filter,m=e.every,q=e.some,l=e.indexOf;k=Array.isArray;var t=Object.keys,r=
function(a){if(a instanceof r)return a;if(!(this instanceof r))return new r(a)},v=r.each=r.forEach=function(a,c,d){if(null==a)return a;if(h&&a.forEach===h)a.forEach(c,d);else if(a.length===+a.length)for(var f=0,e=a.length;f<e;f++){if(c.call(d,a[f],f,a)===b)return}else{var g=r.keys(a);f=0;for(e=g.length;f<e;f++)if(c.call(d,a[g[f]],g[f],a)===b)return}return a};r.map=r.collect=function(a,b,c){var d=[];if(null==a)return d;if(f&&a.map===f)return a.map(b,c);v(a,function(a,f,h){d.push(b.call(c,a,f,h))});
return d};r.find=r.detect=function(a,b,c){var d;w(a,function(a,f,h){if(b.call(c,a,f,h))return d=a,!0});return d};r.filter=r.select=function(a,b,c){var d=[];if(null==a)return d;if(n&&a.filter===n)return a.filter(b,c);v(a,function(a,f,h){b.call(c,a,f,h)&&d.push(a)});return d};r.every=r.all=function(a,c,d){c||(c=r.identity);var f=!0;if(null==a)return f;if(m&&a.every===m)return a.every(c,d);v(a,function(a,h,e){if(!(f=f&&c.call(d,a,h,e)))return b});return!!f};var w=r.some=r.any=function(a,c,d){c||(c=r.identity);
var f=!1;if(null==a)return f;if(q&&a.some===q)return a.some(c,d);v(a,function(a,h,e){if(f||(f=c.call(d,a,h,e)))return b});return!!f};r.size=function(a){return null==a?0:a.length===+a.length?a.length:r.keys(a).length};r.after=function(a,b){return function(){if(1>--a)return b.apply(this,arguments)}};r.sortedIndex=function(a,b,c,d){c=null==c?r.identity:r.isFunction(c)?c:r.property(c);b=c.call(d,b);for(var f=0,h=a.length;f<h;){var e=f+h>>>1;c.call(d,a[e])<b?f=e+1:h=e}return f};r.find=r.detect=function(a,
b,c){var d;w(a,function(a,f,h){if(b.call(c,a,f,h))return d=a,!0});return d};w=r.some=r.any=function(a,c,d){c||(c=r.identity);var f=!1;if(null==a)return f;if(q&&a.some===q)return a.some(c,d);v(a,function(a,h,e){if(f||(f=c.call(d,a,h,e)))return b});return!!f};r.contains=r.include=function(a,b){if(null==a)return!1;a.length!==+a.length&&(a=r.values(a));return 0<=r.indexOf(a,b)};r.where=function(a,b){return r.filter(a,r.matches(b))};r.difference=function(a){var b=c.apply(e,g.call(arguments,1));return r.filter(a,
function(a){return!r.contains(b,a)})};r.without=function(a){return r.difference(a,g.call(arguments,1))};r.indexOf=function(a,b,c){if(null==a)return-1;var d=0,f=a.length;if(c)if("number"==typeof c)d=0>c?Math.max(0,f+c):c;else return d=r.sortedIndex(a,b),a[d]===b?d:-1;if(l&&a.indexOf===l)return a.indexOf(b,c);for(;d<f;d++)if(a[d]===b)return d;return-1};r.partial=function(a){var b=g.call(arguments,1);return function(){for(var c=0,d=b.slice(),f=0,h=d.length;f<h;f++)d[f]===r&&(d[f]=arguments[c++]);for(;c<
arguments.length;)d.push(arguments[c++]);return a.apply(this,d)}};r.memoize=function(a,b){var c={};b||(b=r.identity);return function(){var d=b.apply(this,arguments);return r.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}};r.delay=function(a,b){var c=g.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)};r.defer=function(a){return r.delay.apply(r,[a,1].concat(g.call(arguments,1)))};r.keys=function(a){if(!r.isObject(a))return[];if(t)return t(a);var b=[],c;for(c in a)r.has(a,c)&&b.push(c);
return b};r.pick=function(a){var b={},d=c.apply(e,g.call(arguments,1));v(d,function(c){c in a&&(b[c]=a[c])});return b};r.isArray=k||function(b){return"[object Array]"==a.call(b)};r.isObject=function(a){return a===Object(a)};v("Arguments Function String Number Date RegExp".split(" "),function(b){r["is"+b]=function(c){return a.call(c)=="[object "+b+"]"}});r.isArguments(arguments)||(r.isArguments=function(a){return!(!a||!r.has(a,"callee"))});"function"!==typeof/./&&(r.isFunction=function(a){return"function"===
typeof a});r.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))};r.isNaN=function(a){return r.isNumber(a)&&a!=+a};r.isBoolean=function(b){return!0===b||!1===b||"[object Boolean]"==a.call(b)};r.isNull=function(a){return null===a};r.isUndefined=function(a){return void 0===a};r.has=function(a,b){return d.call(a,b)};r.identity=function(a){return a};r.constant=function(a){return function(){return a}};r.property=function(a){return function(b){return b[a]}};r.matches=function(a){return function(b){if(b===
a)return!0;for(var c in a)if(a[c]!==b[c])return!1;return!0}};r.result=function(a,b){if(null!=a)return b=a[b],r.isFunction(b)?b.call(a):b};this._=r}.call(jwplayer),function(b){function e(a){return function(){return d(a)}}function k(a,b,c,d,f){return function(){var h,e;if(f)c(a);else{try{if(h=a.responseXML)if(e=h.firstChild,h.lastChild&&"parsererror"===h.lastChild.nodeName){d&&d("Invalid XML",b,a);return}}catch(v){}if(h&&e)return c(a);(h=g.parseXML(a.responseText))&&h.firstChild?(a=g.extend({},a,{responseXML:h}),
c(a)):d&&d(a.responseText?"Invalid XML":b,b,a)}}}var g=b.utils={},c=b._;g.exists=function(a){switch(typeof a){case "string":return 0<a.length;case "object":return null!==a;case "undefined":return!1}return!0};g.styleDimension=function(a){return a+(0<a.toString().indexOf("%")?"":"px")};g.getAbsolutePath=function(a,b){g.exists(b)||(b=document.location.href);if(g.exists(a)){if(g.exists(a)){var c=a.indexOf("://");var d=a.indexOf("?");c=0<c&&(0>d||d>c)}else c=void 0;if(c)return a;c=b.substring(0,b.indexOf("://")+
3);d=b.substring(c.length,b.indexOf("/",c.length+1));var f;0===a.indexOf("/")?f=a.split("/"):(f=b.split("?")[0],f=f.substring(c.length+d.length+1,f.lastIndexOf("/")),f=f.split("/").concat(a.split("/")));a=[];for(b=0;b<f.length;b++)f[b]&&g.exists(f[b])&&"."!==f[b]&&(".."===f[b]?a.pop():a.push(f[b]));return c+d+"/"+a.join("/")}};g.extend=function(){var a=Array.prototype.slice.call(arguments,0);if(1<a.length){for(var b=a[0],c=function(a,c){void 0!==c&&null!==c&&(b[a]=c)},d=1;d<a.length;d++)g.foreach(a[d],
c);return b}return null};var a=window.console=window.console||{log:function(){}};g.log=function(){var b=Array.prototype.slice.call(arguments,0);"object"===typeof a.log?a.log(b):a.log.apply(a,b)};var d=c.memoize(function(a){return null!==navigator.userAgent.toLowerCase().match(a)});g.isFF=e(/firefox/i);g.isChrome=e(/chrome/i);g.isIPod=e(/iP(hone|od)/i);g.isIPad=e(/iPad/i);g.isSafari602=e(/Macintosh.*Mac OS X 10_8.*6\.0\.\d* Safari/i);g.isIETrident=function(a){return a?(a=parseFloat(a).toFixed(1),d(RegExp("trident/.+rv:\\s*"+
a,"i"))):d(/trident/i)};g.isMSIE=function(a){return a?(a=parseFloat(a).toFixed(1),d(RegExp("msie\\s*"+a,"i"))):d(/msie/i)};g.isIE=function(a){return a?(a=parseFloat(a).toFixed(1),11<=a?g.isIETrident(a):g.isMSIE(a)):g.isMSIE()||g.isIETrident()};g.isSafari=function(){return d(/safari/i)&&!d(/chrome/i)&&!d(/chromium/i)&&!d(/android/i)};g.isIOS=function(a){return a?d(RegExp("iP(hone|ad|od).+\\sOS\\s"+a,"i")):d(/iP(hone|ad|od)/i)};g.isAndroidNative=function(a){return g.isAndroid(a,!0)};g.isAndroid=function(a,
b){return b&&d(/chrome\/[123456789]/i)&&!d(/chrome\/18/)?!1:a?(g.isInt(a)&&!/\./.test(a)&&(a=""+a+"."),d(RegExp("Android\\s*"+a,"i"))):d(/Android/i)};g.isMobile=function(){return g.isIOS()||g.isAndroid()};g.isIframe=function(){return window.frameElement&&"IFRAME"===window.frameElement.nodeName};g.saveCookie=function(a,b){document.cookie="jwplayer."+a+"\x3d"+b+"; path\x3d/"};g.getCookies=function(){for(var a={},b=document.cookie.split("; "),c=0;c<b.length;c++){var d=b[c].split("\x3d");0===d[0].indexOf("jwplayer.")&&
(a[d[0].substring(9,d[0].length)]=d[1])}return a};g.isInt=function(a){return 0===parseFloat(a)%1};g.typeOf=function(a){if(null===a)return"null";var b=typeof a;return"object"===b&&c.isArray(a)?"array":b};g.translateEventResponse=function(a,c){var d=g.extend({},c);a!==b.events.JWPLAYER_FULLSCREEN||d.fullscreen?"object"===typeof d.data?(a=d.data,delete d.data,d=g.extend(d,a)):"object"===typeof d.metadata&&g.deepReplaceKeyName(d.metadata,["__dot__","__spc__","__dsh__","__default__"],["."," ","-","default"]):
(d.fullscreen="true"===d.message,delete d.message);g.foreach(["position","duration","offset"],function(a,b){d[b]&&(d[b]=Math.round(1E3*d[b])/1E3)});return d};g.flashVersion=function(){if(g.isAndroid())return 0;var a=navigator.plugins,b;try{if("undefined"!==a&&(b=a["Shockwave Flash"]))return parseInt(b.description.replace(/\D+(\d+)\..*/,"$1"),10)}catch(m){}if("undefined"!==typeof window.ActiveXObject)try{return b=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash"),parseInt(b.GetVariable("$version").split(" ")[1].split(",")[0],
10)}catch(m){}return 0};g.getScriptPath=function(a){for(var b=document.getElementsByTagName("script"),c=0;c<b.length;c++){var d=b[c].src;if(d&&0<=d.indexOf(a))return d.substr(0,d.indexOf(a))}return""};g.deepReplaceKeyName=function(a,c,d){switch(b.utils.typeOf(a)){case "array":for(var f=0;f<a.length;f++)a[f]=b.utils.deepReplaceKeyName(a[f],c,d);break;case "object":g.foreach(a,function(f,h){if(c instanceof Array&&d instanceof Array){if(c.length!==d.length)return;var e=c}else e=[c];for(var g=f,l=0;l<
e.length;l++)g=g.replace(RegExp(c[l],"g"),d[l]);a[g]=b.utils.deepReplaceKeyName(h,c,d);f!==g&&delete a[f]})}return a};var f=g.pluginPathType={ABSOLUTE:0,RELATIVE:1,CDN:2};g.getPluginPathType=function(a){if("string"===typeof a){a=a.split("?")[0];var b=a.indexOf("://");if(0<b)return f.ABSOLUTE;var c=a.indexOf("/");a=g.extension(a);return!(0>b&&0>c)||a&&isNaN(a)?f.RELATIVE:f.CDN}};g.getPluginName=function(a){return a.replace(/^(.*\/)?([^-]*)-?.*\.(swf|js)$/,"$2")};g.getPluginVersion=function(a){return a.replace(/[^-]*-?([^\.]*).*$/,
"$1")};g.isYouTube=function(a,b){return"youtube"===b||/^(http|\/\/).*(youtube\.com|youtu\.be)\/.+/.test(a)};g.youTubeID=function(a){try{return/v[=\/]([^?&]*)|youtu\.be\/([^?]*)|^([\w-]*)$/i.exec(a).slice(1).join("").replace("?","")}catch(n){return""}};g.isRtmp=function(a,b){return 0===a.indexOf("rtmp")||"rtmp"===b};g.foreach=function(a,b){var c,d;for(c in a)"function"===g.typeOf(a.hasOwnProperty)?a.hasOwnProperty(c)&&(d=a[c],b(c,d)):(d=a[c],b(c,d))};g.isHTTPS=function(){return 0===window.location.href.indexOf("https")};
g.repo=function(){var a="http://p.jwpcdn.com/"+b.version.split(/\W/).splice(0,2).join("/")+"/";try{g.isHTTPS()&&(a=a.replace("http://","https://ssl."))}catch(n){}return a};g.versionCheck=function(a){a=("0"+a).split(/\W/);var c=b.version.split(/\W/),d=parseFloat(a[0]),f=parseFloat(c[0]);return d>f||d===f&&parseFloat("0"+a[1])>parseFloat(c[1])?!1:!0};g.ajax=function(a,b,c,d){var f=!1;0<a.indexOf("#")&&(a=a.replace(/#.*$/,""));if(a&&0<=a.indexOf("://")&&a.split("/")[2]!==window.location.href.split("/")[2]&&
g.exists(window.XDomainRequest)){var e=new window.XDomainRequest;e.onload=k(e,a,b,c,d);e.ontimeout=e.onprogress=function(){};e.timeout=5E3}else if(g.exists(window.XMLHttpRequest)){var h=e=new window.XMLHttpRequest,m=a;e.onreadystatechange=function(){if(4===h.readyState)switch(h.status){case 200:k(h,m,b,c,d)();break;case 404:c("File not found",m,h)}}}else return c&&c("",a,e),e;e.overrideMimeType&&e.overrideMimeType("text/xml");var n=a,q=e;e.onerror=function(){c("Error loading file",n,q)};try{e.open("GET",
a,!0)}catch(u){f=!0}setTimeout(function(){if(f)c&&c(a,a,e);else try{e.send()}catch(u){c&&c(a,a,e)}},0);return e};g.parseXML=function(a){var b;try{if(window.DOMParser){if(b=(new window.DOMParser).parseFromString(a,"text/xml"),b.childNodes&&b.childNodes.length&&"parsererror"===b.childNodes[0].firstChild.nodeName)return}else b=new window.ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(a)}catch(m){return}return b};g.between=function(a,b,c){return Math.max(Math.min(a,c),b)};g.seconds=function(a){if(c.isNumber(a))return a;
a=a.replace(",",".");var b=a.split(":"),d=0;"s"===a.slice(-1)?d=parseFloat(a):"m"===a.slice(-1)?d=60*parseFloat(a):"h"===a.slice(-1)?d=3600*parseFloat(a):1<b.length?(d=parseFloat(b[b.length-1]),d+=60*parseFloat(b[b.length-2]),3===b.length&&(d+=3600*parseFloat(b[b.length-3]))):d=parseFloat(a);return d};g.serialize=function(a){return null===a?null:"true"===a.toString().toLowerCase()?!0:"false"===a.toString().toLowerCase()?!1:isNaN(Number(a))||5<a.length||0===a.length?a:Number(a)};g.addClass=function(a,
b){var d=c.isString(a.className)?a.className.split(" "):[];b=c.isArray(b)?b:b.split(" ");c.each(b,function(a){c.contains(d,a)||d.push(a)});a.className=g.trim(d.join(" "))};g.removeClass=function(a,b){var d=c.isString(a.className)?a.className.split(" "):[];b=c.isArray(b)?b:b.split(" ");a.className=g.trim(c.difference(d,b).join(" "))};g.emptyElement=function(a){for(;a.firstChild;)a.removeChild(a.firstChild)};g.indexOf=c.indexOf;g.noop=function(){};g.canCast=function(){var a=b.cast;return!(!a||!c.isFunction(a.available)||
!a.available())}}(jwplayer),function(b){function e(a){var b=document.createElement("style");a&&b.appendChild(document.createTextNode(a));b.type="text/css";document.getElementsByTagName("head")[0].appendChild(b);return b}function k(b,c,d){if(!a.exists(c))return"";d=d?" !important":"";return"string"===typeof c&&isNaN(c)?/png|gif|jpe?g/i.test(c)&&0>c.indexOf("url")?"url("+c+")":c+d:0===c||"z-index"===b||"opacity"===b?""+c+d:/color/i.test(b)?"#"+a.pad(c.toString(16).replace(/^0x/i,""),6)+d:Math.ceil(c)+
"px"+d}function g(a,b){for(var c=0;c<a.length;c++){var d=a[c],f;if(void 0!==d&&null!==d)for(f in b){var e=f;e=e.split("-");for(var h=1;h<e.length;h++)e[h]=e[h].charAt(0).toUpperCase()+e[h].slice(1);e=e.join("");d.style[e]!==b[f]&&(d.style[e]=b[f])}}}function c(a){var b=d[a].sheet;if(b){var c=b.cssRules;var f=m[a];var e=a;var g=h[e];e+=" { ";for(var l in g)e+=l+": "+g[l]+"; ";e+="}";if(void 0!==f&&f<c.length&&c[f].selectorText===a){if(e===c[f].cssText)return;b.deleteRule(f)}else f=c.length,m[a]=f;
try{b.insertRule(e,f)}catch(y){}}}var a=b.utils,d={},f,h={},n=null,m={};a.cssKeyframes=function(a,b){var c=d.keyframes;c||(c=e(),d.keyframes=c);c=c.sheet;a="@keyframes "+a+" { "+b+" }";try{c.insertRule(a,c.cssRules.length)}catch(v){}a=a.replace(/(keyframes|transform)/g,"-webkit-$1");try{c.insertRule(a,c.cssRules.length)}catch(v){}};var q=a.css=function(a,b,g){h[a]||(h[a]={});var l=h[a];g=g||!1;var m=!1,q;for(q in b){var u=k(q,b[q],g);""!==u?u!==l[q]&&(l[q]=u,m=!0):void 0!==l[q]&&(delete l[q],m=!0)}if(m){if(!d[a]){b=
f&&f.sheet&&f.sheet.cssRules&&f.sheet.cssRules.length||0;if(!f||5E4<b)f=e();d[a]=f}null!==n?n.styleSheets[a]=h[a]:c(a)}};q.style=function(a,c,d){if(void 0!==a&&null!==a){void 0===a.length&&(a=[a]);var f={},e;for(e in c)f[e]=k(e,c[e]);if(null===n||d)g(a,f);else{c=(c=a.__cssRules)||{};for(var h in f)c[h]=f[h];a.__cssRules=c;0>b._.indexOf(n.elements,a)&&n.elements.push(a)}}};q.block=function(a){null===n&&(n={id:a,styleSheets:{},elements:[]})};q.unblock=function(a){if(n&&(!a||n.id===a)){for(var b in n.styleSheets)c(b);
for(a=0;a<n.elements.length;a++)b=n.elements[a],g(b,b.__cssRules);n=null}};a.clearCss=function(a){for(var b in h)0<=b.indexOf(a)&&delete h[b];for(var f in d)0<=f.indexOf(a)&&c(f)};a.transform=function(a,b){var c={};b=b||"";c.transform=b;c["-webkit-transform"]=b;c["-ms-transform"]=b;c["-moz-transform"]=b;c["-o-transform"]=b;"string"===typeof a?q(a,c):q.style(a,c)};a.dragStyle=function(a,b){q(a,{"-webkit-user-select":b,"-moz-user-select":b,"-ms-user-select":b,"-webkit-user-drag":b,"user-select":b,"user-drag":b})};
a.transitionStyle=function(a,b){navigator.userAgent.match(/5\.\d(\.\d)? safari/i)||q(a,{"-webkit-transition":b,"-moz-transition":b,"-o-transition":b,transition:b})};a.rotate=function(b,c){a.transform(b,"rotate("+c+"deg)")};a.rgbHex=function(a){a=String(a).replace("#","");3===a.length&&(a=a[0]+a[0]+a[1]+a[1]+a[2]+a[2]);return"#"+a.substr(-6)};a.hexToRgba=function(a,b){var c="rgb";a=[parseInt(a.substr(1,2),16),parseInt(a.substr(3,2),16),parseInt(a.substr(5,2),16)];void 0!==b&&100!==b&&(c+="a",a.push(b/
100));return c+"("+a.join(",")+")"}}(jwplayer),function(b){var e=jwplayer._,k=b.foreach,g={mp4:"video/mp4",ogg:"video/ogg",oga:"audio/ogg",vorbis:"audio/ogg",webm:"video/webm",aac:"audio/mp4",mp3:"audio/mpeg",hls:"application/vnd.apple.mpegurl"},c={mp4:g.mp4,f4v:g.mp4,m4v:g.mp4,mov:g.mp4,m4a:g.aac,f4a:g.aac,aac:g.aac,mp3:g.mp3,ogv:g.ogg,ogg:g.ogg,oga:g.vorbis,vorbis:g.vorbis,webm:g.webm,m3u8:g.hls,m3u:g.hls,hls:g.hls},a=b.extensionmap={};k(c,function(b,c){a[b]={html5:c}});k({flv:"video",f4v:"video",
mov:"video",m4a:"video",m4v:"video",mp4:"video",aac:"video",f4a:"video",mp3:"sound",smil:"rtmp",m3u8:"hls",hls:"hls"},function(b,c){a[b]||(a[b]={});a[b].flash=c});a.types=g;a.mimeType=function(a){var b;e.find(g,function(c,d){if(c===a)return b=d,!0});return b};a.extType=function(b){return a.mimeType(c[b])}}(jwplayer.utils),function(b){var e=b.loaderstatus={NEW:0,LOADING:1,ERROR:2,COMPLETE:3};b.scriptloader=function(k){function g(b){f=e.ERROR;d.sendEvent(a.ERROR,b)}function c(b){f=e.COMPLETE;d.sendEvent(a.COMPLETE,
b)}var a=jwplayer.events,d=b.extend(this,new a.eventdispatcher),f=e.NEW;this.load=function(){if(f===e.NEW){var d=b.scriptloader.loaders[k];if(d&&(f=d.getStatus(),2>f))d.addEventListener(a.ERROR,g),d.addEventListener(a.COMPLETE,c);else{var n=document.getElementsByTagName("head")[0]||document.documentElement,m=document.createElement("script"),q=!1;m.onload=m.onreadystatechange=function(a){q||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(q=!0,c(a),m.onload=m.onreadystatechange=
null,n&&m.parentNode&&n.removeChild(m))};m.onerror=g;m.src=k;n.insertBefore(m,n.firstChild);f=e.LOADING;b.scriptloader.loaders[k]=this}}};this.getStatus=function(){return f}};b.scriptloader.loaders={}}(jwplayer.utils),function(b){b.trim=function(b){return b.replace(/^\s+|\s+$/g,"")};b.pad=function(b,k,g){for(g||(g="0");b.length<k;)b=g+b;return b};b.xmlAttribute=function(b,k){for(var e=0;e<b.attributes.length;e++)if(b.attributes[e].name&&b.attributes[e].name.toLowerCase()===k.toLowerCase())return b.attributes[e].value.toString();
return""};b.extension=function(b){if(!b||"rtmp"===b.substr(0,4))return"";var e;if(e=-1<b.indexOf("(format\x3dm3u8-")?"m3u8":!1)return e;b=b.substring(b.lastIndexOf("/")+1,b.length).split("?")[0].split("#")[0];if(-1<b.lastIndexOf("."))return b.substr(b.lastIndexOf(".")+1,b.length).toLowerCase()};b.stringToColor=function(b){b=b.replace(/(#|0x)?([0-9A-F]{3,6})$/gi,"$2");3===b.length&&(b=b.charAt(0)+b.charAt(0)+b.charAt(1)+b.charAt(1)+b.charAt(2)+b.charAt(2));return parseInt(b,16)}}(jwplayer.utils),function(b){b.touch=
function(e){function k(a){"touchstart"===a.type?(d=!0,h=c(m.DRAG_START,a)):"touchmove"===a.type?d&&(n||(g(m.DRAG_START,a,h),n=!0),g(m.DRAG,a)):(d&&(n?g(m.DRAG_END,a):(a.cancelBubble=!0,g(m.TAP,a))),d=n=!1,h=null)}function g(a,b,d){if(f[a]&&(b.preventManipulation&&b.preventManipulation(),b.preventDefault&&b.preventDefault(),b=d?d:c(a,b)))f[a](b)}function c(b,c){var d=null;c.touches&&c.touches.length?d=c.touches[0]:c.changedTouches&&c.changedTouches.length&&(d=c.changedTouches[0]);if(!d)return null;
c=a.getBoundingClientRect();d={type:b,target:a,x:d.pageX-window.pageXOffset-c.left,y:d.pageY,deltaX:0,deltaY:0};b!==m.TAP&&h&&(d.deltaX=d.x-h.x,d.deltaY=d.y-h.y);return d}var a=e,d=!1,f={},h=null,n=!1,m=b.touchEvents;document.addEventListener("touchmove",k);document.addEventListener("touchend",function(a){d&&n&&g(m.DRAG_END,a);d=n=!1;h=null});document.addEventListener("touchcancel",k);e.addEventListener("touchstart",k);e.addEventListener("touchend",k);this.addEventListener=function(a,b){f[a]=b};this.removeEventListener=
function(a){delete f[a]};return this}}(jwplayer.utils),function(b){b.touchEvents={DRAG:"jwplayerDrag",DRAG_START:"jwplayerDragStart",DRAG_END:"jwplayerDragEnd",TAP:"jwplayerTap"}}(jwplayer.utils),function(b){b.key=function(e){var k,g,c;this.edition=function(){return c&&c.getTime()<(new Date).getTime()?"invalid":k};this.token=function(){return g};b.exists(e)||(e="");try{e=b.tea.decrypt(e,"36QXq4W@GSBV^teR");var a=e.split("/");(k=a[0])?/^(free|pro|premium|enterprise|ads)$/i.test(k)?(g=a[1],a[2]&&0<
parseInt(a[2])&&(c=new Date,c.setTime(String(a[2])))):k="invalid":k="free"}catch(d){k="invalid"}}}(jwplayer.utils),function(b){var e=b.tea={};e.encrypt=function(b,a){if(0==b.length)return"";b=e.strToLongs(g.encode(b));1>=b.length&&(b[1]=0);a=e.strToLongs(g.encode(a).slice(0,16));for(var c=b.length,f=b[c-1],h,n,m=Math.floor(6+52/c),q=0;0<m--;){q+=2654435769;n=q>>>2&3;for(var l=0;l<c;l++)h=b[(l+1)%c],f=(f>>>5^h<<2)+(h>>>3^f<<4)^(q^h)+(a[l&3^n]^f),f=b[l]+=f}b=e.longsToStr(b);return k.encode(b)};e.decrypt=
function(b,a){if(0==b.length)return"";b=e.strToLongs(k.decode(b));a=e.strToLongs(g.encode(a).slice(0,16));for(var c=b.length,f,h=b[0],n,m=2654435769*Math.floor(6+52/c);0!=m;){n=m>>>2&3;for(var q=c-1;0<=q;q--)f=b[0<q?q-1:c-1],f=(f>>>5^h<<2)+(h>>>3^f<<4)^(m^h)+(a[q&3^n]^f),h=b[q]-=f;m-=2654435769}b=e.longsToStr(b);b=b.replace(/\0+$/,"");return g.decode(b)};e.strToLongs=function(b){for(var a=Array(Math.ceil(b.length/4)),c=0;c<a.length;c++)a[c]=b.charCodeAt(4*c)+(b.charCodeAt(4*c+1)<<8)+(b.charCodeAt(4*
c+2)<<16)+(b.charCodeAt(4*c+3)<<24);return a};e.longsToStr=function(b){for(var a=Array(b.length),c=0;c<b.length;c++)a[c]=String.fromCharCode(b[c]&255,b[c]>>>8&255,b[c]>>>16&255,b[c]>>>24&255);return a.join("")};var k={code:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d",encode:function(b,a){var c=[],f="",e=k.code;var n=("undefined"==typeof a?0:a)?g.encode(b):b;var m=n.length%3;if(0<m)for(;3>m++;)f+="\x3d",n+="\x00";for(m=0;m<n.length;m+=3){b=n.charCodeAt(m);a=n.charCodeAt(m+
1);var q=n.charCodeAt(m+2);var l=b<<16|a<<8|q;b=l>>18&63;a=l>>12&63;q=l>>6&63;l&=63;c[m/3]=e.charAt(b)+e.charAt(a)+e.charAt(q)+e.charAt(l)}c=c.join("");return c.slice(0,c.length-f.length)+f},decode:function(b,a){a="undefined"==typeof a?!1:a;var c=[],f=k.code;var e=a?g.decode(b):b;for(var n=0;n<e.length;n+=4){b=f.indexOf(e.charAt(n));var m=f.indexOf(e.charAt(n+1));var q=f.indexOf(e.charAt(n+2));var l=f.indexOf(e.charAt(n+3));var t=b<<18|m<<12|q<<6|l;b=t>>>16&255;m=t>>>8&255;t&=255;c[n/4]=String.fromCharCode(b,
m,t);64==l&&(c[n/4]=String.fromCharCode(b,m));64==q&&(c[n/4]=String.fromCharCode(b))}q=c.join("");return a?g.decode(q):q}},g={encode:function(b){b=b.replace(/[\u0080-\u07ff]/g,function(a){a=a.charCodeAt(0);return String.fromCharCode(192|a>>6,128|a&63)});return b=b.replace(/[\u0800-\uffff]/g,function(a){a=a.charCodeAt(0);return String.fromCharCode(224|a>>12,128|a>>6&63,128|a&63)})},decode:function(b){b=b.replace(/[\u00e0-\u00ef][\u0080-\u00bf][\u0080-\u00bf]/g,function(a){a=(a.charCodeAt(0)&15)<<12|
(a.charCodeAt(1)&63)<<6|a.charCodeAt(2)&63;return String.fromCharCode(a)});return b=b.replace(/[\u00c0-\u00df][\u0080-\u00bf]/g,function(a){a=(a.charCodeAt(0)&31)<<6|a.charCodeAt(1)&63;return String.fromCharCode(a)})}}}(jwplayer.utils),function(b){b.events={COMPLETE:"COMPLETE",ERROR:"ERROR",API_READY:"jwplayerAPIReady",JWPLAYER_READY:"jwplayerReady",JWPLAYER_FULLSCREEN:"jwplayerFullscreen",JWPLAYER_RESIZE:"jwplayerResize",JWPLAYER_ERROR:"jwplayerError",JWPLAYER_SETUP_ERROR:"jwplayerSetupError",JWPLAYER_MEDIA_BEFOREPLAY:"jwplayerMediaBeforePlay",
JWPLAYER_MEDIA_BEFORECOMPLETE:"jwplayerMediaBeforeComplete",JWPLAYER_MEDIA_BUFFER:"jwplayerMediaBuffer",JWPLAYER_MEDIA_BUFFER_FULL:"jwplayerMediaBufferFull",JWPLAYER_MEDIA_ERROR:"jwplayerMediaError",JWPLAYER_MEDIA_LOADED:"jwplayerMediaLoaded",JWPLAYER_MEDIA_COMPLETE:"jwplayerMediaComplete",JWPLAYER_MEDIA_SEEK:"jwplayerMediaSeek",JWPLAYER_MEDIA_TIME:"jwplayerMediaTime",JWPLAYER_MEDIA_VOLUME:"jwplayerMediaVolume",JWPLAYER_MEDIA_META:"jwplayerMediaMeta",JWPLAYER_MEDIA_MUTE:"jwplayerMediaMute",JWPLAYER_AUDIO_TRACKS:"jwplayerAudioTracks",
JWPLAYER_AUDIO_TRACK_CHANGED:"jwplayerAudioTrackChanged",JWPLAYER_MEDIA_LEVELS:"jwplayerMediaLevels",JWPLAYER_MEDIA_LEVEL_CHANGED:"jwplayerMediaLevelChanged",JWPLAYER_CAPTIONS_CHANGED:"jwplayerCaptionsChanged",JWPLAYER_CAPTIONS_LIST:"jwplayerCaptionsList",JWPLAYER_CAPTIONS_LOADED:"jwplayerCaptionsLoaded",JWPLAYER_PLAYER_STATE:"jwplayerPlayerState",state:{BUFFERING:"BUFFERING",IDLE:"IDLE",PAUSED:"PAUSED",PLAYING:"PLAYING"},JWPLAYER_PLAYLIST_LOADED:"jwplayerPlaylistLoaded",JWPLAYER_PLAYLIST_ITEM:"jwplayerPlaylistItem",
JWPLAYER_PLAYLIST_COMPLETE:"jwplayerPlaylistComplete",JWPLAYER_DISPLAY_CLICK:"jwplayerViewClick",JWPLAYER_PROVIDER_CLICK:"jwplayerProviderClick",JWPLAYER_VIEW_TAB_FOCUS:"jwplayerViewTabFocus",JWPLAYER_CONTROLS:"jwplayerViewControls",JWPLAYER_USER_ACTION:"jwplayerUserAction",JWPLAYER_INSTREAM_CLICK:"jwplayerInstreamClicked",JWPLAYER_INSTREAM_DESTROYED:"jwplayerInstreamDestroyed",JWPLAYER_AD_TIME:"jwplayerAdTime",JWPLAYER_AD_ERROR:"jwplayerAdError",JWPLAYER_AD_CLICK:"jwplayerAdClicked",JWPLAYER_AD_COMPLETE:"jwplayerAdComplete",
JWPLAYER_AD_IMPRESSION:"jwplayerAdImpression",JWPLAYER_AD_COMPANIONS:"jwplayerAdCompanions",JWPLAYER_AD_SKIPPED:"jwplayerAdSkipped",JWPLAYER_AD_PLAY:"jwplayerAdPlay",JWPLAYER_AD_PAUSE:"jwplayerAdPause",JWPLAYER_AD_META:"jwplayerAdMeta",JWPLAYER_CAST_AVAILABLE:"jwplayerCastAvailable",JWPLAYER_CAST_SESSION:"jwplayerCastSession",JWPLAYER_CAST_AD_CHANGED:"jwplayerCastAdChanged"}}(jwplayer),function(b){var e=b.utils;b.events.eventdispatcher=function(k,g){function c(a,b,c){if(a)for(var d=0;d<a.length;d++){var f=
a[d];if(f){null!==f.count&&0===--f.count&&delete a[d];try{f.listener(b)}catch(l){e.log('Error handling "'+c+'" event listener ['+d+"]: "+l.toString(),f.listener,b)}}}}var a,d;this.resetEventListeners=function(){a={};d=[]};this.resetEventListeners();this.addEventListener=function(b,c,d){try{e.exists(a[b])||(a[b]=[]),"string"===e.typeOf(c)&&(c=(new Function("return "+c))()),a[b].push({listener:c,count:d||null})}catch(m){e.log("error",m)}return!1};this.removeEventListener=function(b,c){var d;if(a[b]){try{if(void 0===
c){a[b]=[];return}for(d=0;d<a[b].length;d++)if(a[b][d].listener.toString()===c.toString()){a[b].splice(d,1);break}}catch(m){e.log("error",m)}return!1}};this.addGlobalListener=function(a,b){try{"string"===e.typeOf(a)&&(a=(new Function("return "+a))()),d.push({listener:a,count:b||null})}catch(n){e.log("error",n)}return!1};this.removeGlobalListener=function(a){if(a){try{for(var b=d.length;b--;)d[b].listener.toString()===a.toString()&&d.splice(b,1)}catch(n){e.log("error",n)}return!1}};this.sendEvent=
function(f,h){e.exists(h)||(h={});e.extend(h,{id:k,version:b.version,type:f});g&&e.log(f,h);c(a[f],h,f);c(d,h,f)}}}(window.jwplayer),function(b){var e={},k={};b.plugins=function(){};b.plugins.loadPlugins=function(g,c){k[g]=new b.plugins.pluginloader(new b.plugins.model(e),c);return k[g]};b.plugins.registerPlugin=function(g,c,a,d){var f=b.utils.getPluginName(g);e[f]||(e[f]=new b.plugins.plugin(g));e[f].registerPlugin(g,c,a,d)}}(jwplayer),function(b){b.plugins.model=function(e){this.addPlugin=function(k){var g=
b.utils.getPluginName(k);e[g]||(e[g]=new b.plugins.plugin(k));return e[g]};this.getPlugins=function(){return e}}}(jwplayer),function(b){var e=jwplayer.utils,k=jwplayer.events;b.pluginmodes={FLASH:0,JAVASCRIPT:1,HYBRID:2};b.plugin=function(g){function c(){switch(e.getPluginPathType(g)){case e.pluginPathType.ABSOLUTE:return g;case e.pluginPathType.RELATIVE:return e.getAbsolutePath(g,window.location.href)}}function a(){q=setTimeout(function(){f=e.loaderstatus.COMPLETE;l.sendEvent(k.COMPLETE)},1E3)}function d(){f=
e.loaderstatus.ERROR;l.sendEvent(k.ERROR,{url:g})}var f=e.loaderstatus.NEW,h,n,m,q,l=new k.eventdispatcher;e.extend(this,l);this.load=function(){if(f===e.loaderstatus.NEW)if(0<g.lastIndexOf(".swf"))h=g,f=e.loaderstatus.COMPLETE,l.sendEvent(k.COMPLETE);else if(e.getPluginPathType(g)===e.pluginPathType.CDN)f=e.loaderstatus.COMPLETE,l.sendEvent(k.COMPLETE);else{f=e.loaderstatus.LOADING;var b=new e.scriptloader(c());b.addEventListener(k.COMPLETE,a);b.addEventListener(k.ERROR,d);b.load()}};this.registerPlugin=
function(a,b,c,d){q&&(clearTimeout(q),q=void 0);m=b;c&&d?(h=d,n=c):"string"===typeof c?h=c:"function"===typeof c?n=c:!c&&!d&&(h=a);f=e.loaderstatus.COMPLETE;l.sendEvent(k.COMPLETE)};this.getStatus=function(){return f};this.getPluginName=function(){return e.getPluginName(g)};this.getFlashPath=function(){if(h)switch(e.getPluginPathType(h)){case e.pluginPathType.ABSOLUTE:return h;case e.pluginPathType.RELATIVE:return 0<g.lastIndexOf(".swf")?e.getAbsolutePath(h,window.location.href):e.getAbsolutePath(h,
c())}return null};this.getJS=function(){return n};this.getTarget=function(){return m};this.getPluginmode=function(){if("undefined"!==typeof h&&"undefined"!==typeof n)return b.pluginmodes.HYBRID;if("undefined"!==typeof h)return b.pluginmodes.FLASH;if("undefined"!==typeof n)return b.pluginmodes.JAVASCRIPT};this.getNewInstance=function(a,b,c){return new n(a,b,c)};this.getURL=function(){return g}}}(jwplayer.plugins),function(b){var e=b.utils,k=b.events,g=b._,c=e.foreach;b.plugins.pluginloader=function(a,
b){function d(){q||(q=!0,m=e.loaderstatus.COMPLETE,w.sendEvent(k.COMPLETE))}function h(){if(!v&&((!l||0===g.keys(l).length)&&d(),!q)){var b=a.getPlugins();r=g.after(t,d);e.foreach(l,function(a){a=e.getPluginName(a);var c=b[a];a=c.getJS();var d=c.getTarget();c=c.getStatus();c===e.loaderstatus.LOADING||c===e.loaderstatus.NEW||(a&&!e.versionCheck(d)&&w.sendEvent(k.ERROR,{message:"Incompatible player version"}),r())})}}function n(a){v||(w.sendEvent(k.ERROR,{message:"File not found"}),a.url&&e.log("File not found",
a.url),h())}var m=e.loaderstatus.NEW,q=!1,l=b,t=g.size(l),r,v=!1,w=new k.eventdispatcher;e.extend(this,w);this.setupPlugins=function(b,d,f){var h={length:0,plugins:{}},g=0,l={},m=a.getPlugins();c(d.plugins,function(a,c){a=e.getPluginName(a);var k=m[a],n=k.getFlashPath(),v=k.getJS(),w=k.getURL();n&&(h.plugins[n]=e.extend({},c),h.plugins[n].pluginmode=k.getPluginmode(),h.length++);try{if(v&&d.plugins&&d.plugins[w]){var u=document.createElement("div");u.id=b.id+"_"+a;u.style.position="absolute";u.style.top=
0;u.style.zIndex=g+10;l[a]=k.getNewInstance(b,e.extend({},d.plugins[w]),u);g++;b.onReady(f(l[a],u,!0));b.onResize(f(l[a],u))}}catch(J){e.log("ERROR: Failed to load "+a+".")}});b.plugins=l;return h};this.load=function(){if(!e.exists(b)||"object"===e.typeOf(b)){m=e.loaderstatus.LOADING;c(b,function(b){e.exists(b)&&(b=a.addPlugin(b),b.addEventListener(k.COMPLETE,h),b.addEventListener(k.ERROR,n))});var d=a.getPlugins();c(d,function(a,b){b.load()})}h()};this.destroy=function(){v=!0;w&&(w.resetEventListeners(),
w=null)};this.pluginFailed=n;this.getStatus=function(){return m}}}(jwplayer),function(b){b.parsers={localName:function(b){return b?b.localName?b.localName:b.baseName?b.baseName:"":""},textContent:function(e){return e?e.textContent?b.utils.trim(e.textContent):e.text?b.utils.trim(e.text):"":""},getChildNode:function(b,k){return b.childNodes[k]},numChildren:function(b){return b.childNodes?b.childNodes.length:0}}}(jwplayer),function(b){var e=b.parsers;(e.jwparser=function(){}).parseEntry=function(k,g){for(var c=
[],a=[],d=b.utils.xmlAttribute,f=0;f<k.childNodes.length;f++){var h=k.childNodes[f];if("jwplayer"===h.prefix){var n=e.localName(h);"source"===n?(delete g.sources,c.push({file:d(h,"file"),"default":d(h,"default"),label:d(h,"label"),type:d(h,"type")})):"track"===n?(delete g.tracks,a.push({file:d(h,"file"),"default":d(h,"default"),kind:d(h,"kind"),label:d(h,"label")})):(g[n]=b.utils.serialize(e.textContent(h)),"file"===n&&g.sources&&delete g.sources)}g.file||(g.file=g.link)}if(c.length)for(g.sources=
[],f=0;f<c.length;f++)0<c[f].file.length&&(c[f]["default"]="true"===c[f]["default"]?!0:!1,c[f].label.length||delete c[f].label,g.sources.push(c[f]));if(a.length)for(g.tracks=[],f=0;f<a.length;f++)0<a[f].file.length&&(a[f]["default"]="true"===a[f]["default"]?!0:!1,a[f].kind=a[f].kind.length?a[f].kind:"captions",a[f].label.length||delete a[f].label,g.tracks.push(a[f]));return g}}(jwplayer),function(b){var e=jwplayer.utils,k=e.xmlAttribute,g=b.localName,c=b.textContent,a=b.numChildren,d=b.mediaparser=
function(){};d.parseGroup=function(b,h){var f,m,q=[];for(m=0;m<a(b);m++)if(f=b.childNodes[m],"media"===f.prefix&&g(f))switch(g(f).toLowerCase()){case "content":k(f,"duration")&&(h.duration=e.seconds(k(f,"duration")));0<a(f)&&(h=d.parseGroup(f,h));k(f,"url")&&(h.sources||(h.sources=[]),h.sources.push({file:k(f,"url"),type:k(f,"type"),width:k(f,"width"),label:k(f,"label")}));break;case "title":h.title=c(f);break;case "description":h.description=c(f);break;case "guid":h.mediaid=c(f);break;case "thumbnail":h.image||
(h.image=k(f,"url"));break;case "group":d.parseGroup(f,h);break;case "subtitle":var l={};l.file=k(f,"url");l.kind="captions";if(0<k(f,"lang").length){var t=l;f=k(f,"lang");var r={zh:"Chinese",nl:"Dutch",en:"English",fr:"French",de:"German",it:"Italian",ja:"Japanese",pt:"Portuguese",ru:"Russian",es:"Spanish"};f=r[f]?r[f]:f;t.label=f}q.push(l)}h.hasOwnProperty("tracks")||(h.tracks=[]);for(m=0;m<q.length;m++)h.tracks.push(q[m]);return h}}(jwplayer.parsers),function(b){function e(a){for(var c={},f=0;f<
a.childNodes.length;f++){var e=a.childNodes[f],q=d(e);if(q)switch(q.toLowerCase()){case "enclosure":c.file=k.xmlAttribute(e,"url");break;case "title":c.title=g(e);break;case "guid":c.mediaid=g(e);break;case "pubdate":c.date=g(e);break;case "description":c.description=g(e);break;case "link":c.link=g(e);break;case "category":c.tags=c.tags?c.tags+g(e):g(e)}}c=b.mediaparser.parseGroup(a,c);c=b.jwparser.parseEntry(a,c);return new jwplayer.playlist.item(c)}var k=jwplayer.utils,g=b.textContent,c=b.getChildNode,
a=b.numChildren,d=b.localName;b.rssparser={};b.rssparser.parse=function(b){for(var f=[],g=0;g<a(b);g++){var m=c(b,g);if("channel"===d(m).toLowerCase())for(var k=0;k<a(m);k++){var l=c(m,k);"item"===d(l).toLowerCase()&&f.push(e(l))}}return f}}(jwplayer.parsers),function(b){var e=b.utils,k=b._;b.playlist=function(c){var a=[];c=k.isArray(c)?c:[c];k.each(c,function(c){a.push(new b.playlist.item(c))});return a};b.playlist.filterPlaylist=function(b,a){var c=[];k.each(b,function(b){b=e.extend({},b);b.sources=
g(b.sources,!1,a);if(b.sources.length){for(var d=0;d<b.sources.length;d++)b.sources[d].label=b.sources[d].label||d.toString();c.push(b)}});return c};var g=b.playlist.filterSources=function(c,a,d){var f,h=[],g=a?b.embed.flashCanPlay:b.embed.html5CanPlay;if(c)return k.each(c,function(a){if(a&&a.file){var b=e.trim(""+a.file),c=a.type;c||(c=e.extension(b),c=e.extensionmap.extType(c));a=e.extend({},a,{file:b,type:c})}else a=void 0;a&&g(a.file,a.type,d)&&(f=f||a.type,a.type===f&&h.push(a))}),h}}(jwplayer),
function(b){var e=b.item=function(k){var g=jwplayer.utils,c=g.extend({},e.defaults,k),a;c.tracks=k&&g.exists(k.tracks)?k.tracks:[];0===c.sources.length&&(c.sources=[new b.source(c)]);for(a=0;a<c.sources.length;a++){var d=c.sources[a]["default"];c.sources[a]["default"]=d?"true"===d.toString():!1;c.sources[a]=new b.source(c.sources[a])}if(c.captions&&!g.exists(k.tracks)){for(k=0;k<c.captions.length;k++)c.tracks.push(c.captions[k]);delete c.captions}for(a=0;a<c.tracks.length;a++)c.tracks[a]=new b.track(c.tracks[a]);
return c};e.defaults={description:void 0,image:void 0,mediaid:void 0,title:void 0,sources:[],tracks:[]}}(jwplayer.playlist),function(b){var e=b.utils,k=b.events,g=b.parsers;b.playlist.loader=function(){function c(a){try{var c=a.responseXML.childNodes;a="";for(var e=0;e<c.length&&(a=c[e],8===a.nodeType);e++);"xml"===g.localName(a)&&(a=a.nextSibling);if("rss"!==g.localName(a))d("Not a valid RSS feed");else{var h=new b.playlist(g.rssparser.parse(a));f.sendEvent(k.JWPLAYER_PLAYLIST_LOADED,{playlist:h})}}catch(l){d()}}
function a(a){d(a.match(/invalid/i)?"Not a valid RSS feed":"")}function d(a){f.sendEvent(k.JWPLAYER_ERROR,{message:a?a:"Error loading file"})}var f=new k.eventdispatcher;e.extend(this,f);this.load=function(b){e.ajax(b,c,a)}}}(jwplayer),function(b){var e=jwplayer.utils,k={file:void 0,label:void 0,type:void 0,"default":void 0};b.source=function(b){var c=e.extend({},k);e.foreach(k,function(a){e.exists(b[a])&&(c[a]=b[a],delete b[a])});c.type&&0<c.type.indexOf("/")&&(c.type=e.extensionmap.mimeType(c.type));
"m3u8"===c.type&&(c.type="hls");"smil"===c.type&&(c.type="rtmp");return c}}(jwplayer.playlist),function(b){var e=jwplayer.utils,k={file:void 0,label:void 0,kind:"captions","default":!1};b.track=function(b){var c=e.extend({},k);b||(b={});e.foreach(k,function(a){e.exists(b[a])&&(c[a]=b[a],delete b[a])});return c}}(jwplayer.playlist),function(b){function e(a,b,c){var d=a.style;d.backgroundColor="#000";d.color="#FFF";d.width=k.styleDimension(c.width);d.height=k.styleDimension(c.height);d.display="table";
d.opacity=1;c=document.createElement("p");d=c.style;d.verticalAlign="middle";d.textAlign="center";d.display="table-cell";d.font="15px/20px Arial, Helvetica, sans-serif";c.innerHTML=b.replace(":",":\x3cbr\x3e");a.innerHTML="";a.appendChild(c)}var k=b.utils,g=b.events,c=b._,a=b.embed=function(d){function f(){if(!z){var e=t.playlist;if(c.isArray(e)){if(0===e.length){m();return}if(!(1!==e.length||e[0].sources&&0!==e[0].sources.length&&e[0].sources[0].file)){m();return}}if(!B)if(c.isString(e))y=new b.playlist.loader,
y.addEventListener(g.JWPLAYER_PLAYLIST_LOADED,function(a){t.playlist=a.playlist;B=!1;f()}),y.addEventListener(g.JWPLAYER_ERROR,function(a){B=!1;m(a)}),B=!0,y.load(t.playlist);else if(u.getStatus()===k.loaderstatus.COMPLETE){for(e=0;e<t.modes.length;e++){var l=t.modes[e],n=l.type;if(n&&a[n]){var v=k.extend({},t);C=new a[n](D,l,v,u,d);if(C.supportsConfig())return C.addEventListener(g.ERROR,h),C.embed(),k.css("object.jwswf, .jwplayer:focus",{outline:"none"}),k.css(".jw-tab-focus:focus",{outline:"solid 2px #0B7EF4"}),
d}}t.fallback?(e="No suitable players found and fallback enabled",q(e,!0),k.log(e),new a.download(D,t,m)):(e="No suitable players found and fallback disabled",q(e,!1),k.log(e))}}}function h(a){l(w+a.message)}function n(a){d.dispatchEvent(g.JWPLAYER_ERROR,{message:"Could not load plugin: "+a.message})}function m(a){a&&a.message?l("Error loading playlist: "+a.message):l(w+"No playable sources found")}function q(a,b){clearTimeout(A);A=setTimeout(function(){d.dispatchEvent(g.JWPLAYER_SETUP_ERROR,{message:a,
fallback:b})},0)}function l(a){z||(x.parentNode.replaceChild(D,x),t.fallback?(z=!0,e(D,a,t),q(a,!0)):q(a,!1))}var t=new a.config(d.config),r=t.width,v=t.height,w="Error loading player: ",x=document.getElementById(d.id),u=b.plugins.loadPlugins(d.id,t.plugins),y,B=!1,z=!1,C=null,A=-1;t.id=d.id;t.aspectratio?d.config.aspectratio=t.aspectratio:delete d.config.aspectratio;k.foreach(t.events,function(a,b){a=d[a];"function"===typeof a&&a.call(d,b)});var D=document.createElement("div");D.id=x.id;D.style.width=
0<r.toString().indexOf("%")?r:r+"px";D.style.height=0<v.toString().indexOf("%")?v:v+"px";this.embed=function(){z||(u.addEventListener(g.COMPLETE,f),u.addEventListener(g.ERROR,n),u.load())};this.destroy=function(){C&&(C.destroy(),C=null);u&&(u.destroy(),u=null);y&&(y.resetEventListeners(),y=null)};this.errorScreen=l;return this};b.embed.errorScreen=e}(jwplayer),function(b){function e(a){if(a.playlist)for(var b=0;b<a.playlist.length;b++)a.playlist[b]=new c(a.playlist[b]);else{var f={};g.foreach(c.defaults,
function(b){k(a,f,b)});f.sources||(a.levels?(f.sources=a.levels,delete a.levels):(b={},k(a,b,"file"),k(a,b,"type"),f.sources=b.file?[b]:[]));a.playlist=[new c(f)]}}function k(a,b,c){g.exists(a[c])&&(b[c]=a[c],delete a[c])}var g=b.utils,c=b.playlist.item;(b.embed.config=function(a){var c={fallback:!0,height:270,primary:"html5",width:480,base:a.base?a.base:g.getScriptPath("jwplayer.js"),aspectratio:""};a=g.extend({},c,b.defaults,a);c={type:"html5",src:a.base+"jwplayer.html5.js"};var f={type:"flash",
src:a.base+"jwplayer.flash.swf"};a.modes="flash"===a.primary?[f,c]:[c,f];a.listbar&&(a.playlistsize=a.listbar.size,a.playlistposition=a.listbar.position,a.playlistlayout=a.listbar.layout);a.flashplayer&&(f.src=a.flashplayer);a.html5player&&(c.src=a.html5player);e(a);f=a.aspectratio;if("string"===typeof f&&g.exists(f)){var h=f.indexOf(":");-1===h?c=0:(c=parseFloat(f.substr(0,h)),f=parseFloat(f.substr(h+1)),c=0>=c||0>=f?0:f/c*100+"%")}else c=0;-1===a.width.toString().indexOf("%")?delete a.aspectratio:
c?a.aspectratio=c:delete a.aspectratio;return a}).addConfig=function(a,b){e(b);return g.extend(a,b)}}(jwplayer),function(b){function e(b,c){function a(a,b){d[f].style[a]=b}for(var d=document.querySelectorAll(b),f=0;f<d.length;f++)k.foreach(c,a)}var k=b.utils;b.embed.download=function(b,c,a){function d(a,b,c){a=document.createElement(a);b&&(a.className="jwdownload"+b);c&&c.appendChild(a);return a}var f=k.extend({},c),h,g=f.width?f.width:480,m=f.height?f.height:320,q;c=c.logo?c.logo:{prefix:k.repo(),
file:"logo.png",margin:10};var l,t;var r=f.playlist;f=["mp4","aac","mp3"];if(r&&r.length){var v=r[0];var w=v.sources;for(r=0;r<w.length;r++){var x=w[r];x.file&&(t=x.type||k.extensionmap.extType(k.extension(x.file)),0<=k.indexOf(f,t)?(h=x.file,q=v.image):k.isYouTube(x.file,t)&&(l=x.file))}h?(a=h,b&&(h=d("a","display",b),d("div","icon",h),d("div","logo",h),a&&h.setAttribute("href",k.getAbsolutePath(a))),a="#"+b.id+" .jwdownload",b.style.width="",b.style.height="",e(a+"display",{width:k.styleDimension(Math.max(320,
g)),height:k.styleDimension(Math.max(180,m)),background:"black center no-repeat "+(q?"url("+q+")":""),backgroundSize:"contain",position:"relative",border:"none",display:"block"}),e(a+"display div",{position:"absolute",width:"100%",height:"100%"}),e(a+"logo",{top:c.margin+"px",right:c.margin+"px",background:"top right no-repeat url("+c.prefix+c.file+")"}),e(a+"icon",{background:"center no-repeat url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAgNJREFUeNrs28lqwkAYB/CZqNVDDj2r6FN41QeIy8Fe+gj6BL275Q08u9FbT8ZdwVfotSBYEPUkxFOoks4EKiJdaDuTjMn3wWBO0V/+sySR8SNSqVRKIR8qaXHkzlqS9jCfzzWcTCYp9hF5o+59sVjsiRzcegSckFzcjT+ruN80TeSlAjCAAXzdJSGPFXRpAAMYwACGZQkSdhG4WCzehMNhqV6vG6vVSrirKVEw66YoSqDb7cqlUilE8JjHd/y1MQefVzqdDmiaJpfLZWHgXMHn8F6vJ1cqlVAkEsGuAn83J4gAd2RZymQygX6/L1erVQt+9ZPWb+CDwcCC2zXGJaewl/DhcHhK3DVj+KfKZrMWvFarcYNLomAv4aPRSFZVlTlcSPA5fDweW/BoNIqFnKV53JvncjkLns/n/cLdS+92O7RYLLgsKfv9/t8XlDn4eDyiw+HA9Jyz2eyt0+kY2+3WFC5hluej0Ha7zQQq9PPwdDq1Et1sNsx/nFBgCqWJ8oAK1aUptNVqcYWewE4nahfU0YQnk4ntUEfGMIU2m01HoLaCKbTRaDgKtaVLk9tBYaBcE/6Artdr4RZ5TB6/dC+9iIe/WgAMYADDpAUJAxjAAAYwgGFZgoS/AtNNTF7Z2bL0BYPBV3Jw5xFwwWcYxgtBP5OkE8i9G7aWGOOCruvauwADALMLMEbKf4SdAAAAAElFTkSuQmCC)"})):
l?(c=l,b=d("iframe","",b),b.src="http://www.youtube.com/embed/"+k.youTubeID(c),b.width=g,b.height=m,b.style.border="none"):a()}}}(jwplayer),function(b){var e=b.utils,k=b.events,g={};(b.embed.flash=function(a,d,f,h,n){function m(a,b,c){var d=document.createElement("param");d.setAttribute("name",b);d.setAttribute("value",c);a.appendChild(d)}function q(a,b,c){return function(){try{c&&document.getElementById(n.id+"_wrapper").appendChild(b);var d=document.getElementById(n.id).getPluginConfig("display");
"function"===typeof a.resize&&a.resize(d.width,d.height);b.style.left=d.x;b.style.top=d.h}catch(y){}}}function l(a){if(!a)return{};var b={},c=[];e.foreach(a,function(a,d){var f=e.getPluginName(a);c.push(a);e.foreach(d,function(a,c){b[f+"."+a]=c})});b.plugins=c.join(",");return b}var t=new b.events.eventdispatcher,r=e.flashVersion();e.extend(this,t);this.embed=function(){f.id=n.id;if(10>r)return t.sendEvent(k.ERROR,{message:"Flash version must be 10.0 or greater"}),!1;var b=a.id,c=n.config.listbar,
x=e.extend({},f);var u=document.getElementById(n.id);u.parentNode.replaceChild(a,u);if(b+"_wrapper"===a.parentNode.id)u=document.getElementById(b+"_wrapper");else{u=document.createElement("div");var y=document.createElement("div");y.style.display="none";y.id=b+"_aspect";u.id=b+"_wrapper";u.style.position="relative";u.style.display="block";u.style.width=e.styleDimension(x.width);u.style.height=e.styleDimension(x.height);if(n.config.aspectratio){var B=parseFloat(n.config.aspectratio);y.style.display=
"block";y.style.marginTop=n.config.aspectratio;u.style.height="auto";u.style.display="inline-block";c&&("bottom"===c.position?y.style.paddingBottom=c.size+"px":"right"===c.position&&(y.style.marginBottom=B/100*c.size*-1+"px"))}a.parentNode.replaceChild(u,a);u.appendChild(a);u.appendChild(y)}c=h.setupPlugins(n,x,q);0<c.length?e.extend(x,l(c.plugins)):delete x.plugins;"undefined"!==typeof x["dock.position"]&&"false"===x["dock.position"].toString().toLowerCase()&&(x.dock=x["dock.position"],delete x["dock.position"]);
c=x.wmode||(x.height&&40>=x.height?"transparent":"opaque");y="height width modes events primary base fallback volume".split(" ");for(B=0;B<y.length;B++)delete x[y[B]];y=e.getCookies();e.foreach(y,function(a,b){"undefined"===typeof x[a]&&(x[a]=b)});y=window.location.href.split("/");y.splice(y.length-1,1);y=y.join("/");x.base=y+"/";g[b]=x;e.isMSIE()?(a.outerHTML='\x3cobject classid\x3d"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width\x3d"100%" height\x3d"100%" id\x3d"'+b+'" name\x3d"'+b+'" tabindex\x3d"0"\x3e\x3cparam name\x3d"movie" value\x3d"'+
d.src+'"\x3e\x3cparam name\x3d"allowfullscreen" value\x3d"true"\x3e\x3cparam name\x3d"allowscriptaccess" value\x3d"always"\x3e\x3cparam name\x3d"seamlesstabbing" value\x3d"true"\x3e\x3cparam name\x3d"wmode" value\x3d"'+c+'"\x3e\x3cparam name\x3d"bgcolor" value\x3d"#000000"\x3e\x3c/object\x3e',u=u.getElementsByTagName("object")[0],u.style.outline="none"):(u=document.createElement("object"),u.setAttribute("type","application/x-shockwave-flash"),u.setAttribute("data",d.src),u.setAttribute("width","100%"),
u.setAttribute("height","100%"),u.setAttribute("bgcolor","#000000"),u.setAttribute("id",b),u.setAttribute("name",b),u.className="jwswf",m(u,"allowfullscreen","true"),m(u,"allowscriptaccess","always"),m(u,"seamlesstabbing","true"),m(u,"wmode",c),a.parentNode.replaceChild(u,a));n.config.aspectratio&&(u.style.position="absolute",u.style.left="0");n.container=u;n.setPlayer(u,"flash")};this.supportsConfig=function(){if(r)if(f){if("string"===e.typeOf(f.playlist))return!0;try{var a=f.playlist[0].sources;
if("undefined"===typeof a)return!0;for(var b=0;b<a.length;b++)if(a[b].file&&c(a[b].file,a[b].type))return!0}catch(x){}}else return!0;return!1};this.destroy=function(){}}).getVars=function(a){return g[a]};var c=b.embed.flashCanPlay=function(a,b){return e.isYouTube(a,b)||e.isRtmp(a,b)||"hls"===b?!0:(a=e.extensionmap[b?b:e.extension(a)])?!!a.flash:!1}}(jwplayer),function(b){var e=b.utils,k=e.extensionmap,g=b.events,c;b.embed.html5=function(a,d,f,h,k){function m(b,c,d){return function(){try{var f=document.querySelector("#"+
a.id+" .jwmain");d&&f.appendChild(c);"function"===typeof b.resize&&(b.resize(f.clientWidth,f.clientHeight),setTimeout(function(){b.resize(f.clientWidth,f.clientHeight)},400));c.left=f.style.left;c.top=f.style.top}catch(w){}}}var n=new g.eventdispatcher;e.extend(this,n);this.embed=function(){if(b.html5){h.setupPlugins(k,f,m);e.emptyElement(a);var c=b.utils.extend({},f);delete c.volume;c=new b.html5.player(c);k.setPlayer(c,"html5")}else this.loadEmbedder()};this.loadEmbedder=function(){c=c||new e.scriptloader(d.src);
c.addEventListener(g.ERROR,this.loadError);c.addEventListener(g.COMPLETE,this.embed);c.load()};this.loadError=function(a){this.sendEvent(a.type,{message:"HTML5 player not found"})};this.supportsConfig=function(){if(b.vid.canPlayType)try{if("string"===e.typeOf(f.playlist))return!0;for(var a=f.playlist[0].sources,c=0;c<a.length;c++)if(b.embed.html5CanPlay(a[c].file,a[c].type,f.androidhls))return!0}catch(r){}return!1};this.destroy=function(){c&&(c.resetEventListeners(),c=null)}};b.embed.html5CanPlay=
function(a,c,f){if(null!==navigator.userAgent.match(/BlackBerry/i)||e.isIE(9))return!1;if(e.isYouTube(a,c))return!0;var d=e.extension(a);c=c||k.extType(d);if("hls"===c)if(f){f=e.isAndroidNative;if(f(2)||f(3)||f("4.0"))return!1;if(e.isAndroid())return!0}else if(e.isAndroid())return!1;if(e.isRtmp(a,c))return!1;a=k[c]||k[d];if(!a||a.flash&&!a.html5)return!1;a:if(a=a.html5){try{var g=!!b.vid.canPlayType(a);break a}catch(m){}g=!1}else g=!0;return g}}(jwplayer),function(b){var e=b.embed,k=b.embed.html5CanPlay,
g=b.utils,c=b._,a=/\.(js|swf)$/;b.cast=b.cast||{};b.embed=g.extend(function(c){function d(){y="Adobe SiteCatalyst Error: Could not find Media Module"}var h=g.repo(),k=g.extend({},b.defaults),m=g.extend({},k,c.config),q=c.config,l=m.plugins,t=m.analytics,r=h+"jwpsrv.js",v=h+"sharing.js",w=h+"related.js",x=h+"gapro.js";k=b.key?b.key:k.key;var u=(new b.utils.key(k)).edition(),y;l=l?l:{};"ads"==u&&m.advertising&&(a.test(m.advertising.client)?l[m.advertising.client]=m.advertising:l[h+m.advertising.client+
".js"]=m.advertising);delete q.advertising;q.key=k;m.analytics&&a.test(m.analytics.client)&&(r=m.analytics.client);delete q.analytics;t&&"ads"!==u&&"enterprise"!==u&&delete t.enabled;"free"!=u&&t&&!1===t.enabled||(l[r]=t?t:{});delete l.sharing;delete l.related;switch(u){case "ads":case "enterprise":if(q.sitecatalyst)try{window.s&&window.s.hasOwnProperty("Media")?new b.embed.sitecatalyst(c):d()}catch(B){d()}case "premium":m.related&&(a.test(m.related.client)&&(w=m.related.client),l[w]=m.related),m.ga&&
(a.test(m.ga.client)&&(x=m.ga.client),l[x]=m.ga);case "pro":m.sharing&&(a.test(m.sharing.client)&&(v=m.sharing.client),l[v]=m.sharing),m.skin&&(q.skin=m.skin.replace(/^(beelden|bekle|five|glow|modieus|roundster|stormtrooper|vapor)$/i,g.repo()+"skins/$1.xml"))}q.plugins=l;c.config=q;c=new e(c);y&&c.errorScreen(y);return c},b.embed);b.embed.html5CanPlay=function(a,f){var d={file:a,type:f};return(b.html5&&b.html5.chooseProvider?b.html5.chooseProvider(d)!==b.html5.VideoProvider:c.any(b.unregisteredProviders,
function(a){return a.supports(d)}))?!0:k.apply(this,arguments)}}(jwplayer),function(b){var e=jwplayer.utils;b.sitecatalyst=function(b){function g(a){h.debug&&e.log(a)}function c(a){a=a.split("/");a=a[a.length-1];a=a.split("?");return a[0]}function a(){if(!t){t=!0;var a=f.getPosition();g("stop: "+m+" : "+a);s.Media.stop(m,a)}}function d(){r||(a(),r=!0,g("close: "+m),s.Media.close(m),v=!0,l=0)}var f=b,h=e.extend({},f.config.sitecatalyst),k={onPlay:function(){if(!v){var a=f.getPosition();t=!1;g("play: "+
m+" : "+a);s.Media.play(m,a)}},onPause:a,onBuffer:a,onIdle:d,onPlaylistItem:function(a){try{v=!0;d();l=0;if(h.mediaName)var b=h.mediaName;else{var g=f.getPlaylistItem(a.index);b=g.title?g.title:g.file?c(g.file):g.sources&&g.sources.length?c(g.sources[0].file):""}m=b;q=h.playerName?h.playerName:f.id}catch(y){e.log(y)}},onTime:function(){if(v){var a=f.getDuration();if(-1==a)return;r=t=v=!1;g("open: "+m+" : "+a+" : "+q);s.Media.open(m,a,q);g("play: "+m+" : 0");s.Media.play(m,0)}a=f.getPosition();if(3<=
Math.abs(a-l)){var b=l;g("seek: "+b+" to "+a);g("stop: "+m+" : "+b);s.Media.stop(m,b);g("play: "+m+" : "+a);s.Media.play(m,a)}l=a},onComplete:d},m,q,l,t=!0,r=!0,v;e.foreach(k,function(a){f[a](k[a])})}}(jwplayer.embed),function(b){function e(a,b){a[b]&&(a[b]=k.getAbsolutePath(a[b]))}var k=b.utils,g=b._,c=window.location.href;b.cast.setupCastConfig=function(a,d){var f=k.extend({},a.config);f.cast=k.extend({pageUrl:c},d);d="base autostart controls fallback fullscreen width height mobilecontrols modes playlistlayout playlistposition playlistsize primary stretching sharing related ga skin logo listbar events".split(" ");
for(var h=d.length;h--;)delete f[d[h]];d=f.plugins;delete f.plugins;for(var g in d)if(d.hasOwnProperty(g)){var m=d[g];if(m.client&&(/[\.\/]/.test(m.client)&&e(m,"client"),-1<m.client.indexOf("vast"))){h=f;m=k.extend({},m);m.client="vast";delete m.companiondiv;if(m.schedule){var q=void 0;for(q in m.schedule)m.schedule.hasOwnProperty(q)&&e(m.schedule[q].ad||m.schedule[q],"tag")}e(m,"tag");h.advertising=m}}a.position&&(f.position=a.position);0<a.item&&(f.item=a.item);f.captionLabel=k.getCookies().captionLabel;
f.playerVersion=b.version;return f};b.cast.setupFlashCastConfig=function(a){var c=a.config;c.playlist=a.getPlaylist();var f;(f=g.find(c.plugins,function(a,b){return 0<b.indexOf("vast.js")}))?(f.client="vast",f={advertising:f}):f={};c=g.pick(c,"id captionLabel cast key playlist repeat".split(" "));c.cast.pageUrl=window.location.href;k.extend(c,{playerVersion:b.version,captionLabel:k.getCookies().captionLabel,volume:a.getVolume(),mute:a.getMute(),id:a.id,position:a.getPosition(),item:a.getPlaylistIndex()},
f);return c}}(window.jwplayer),function(b,e){function k(a,b){a[b]&&(a[b]=c.getAbsolutePath(a[b]))}var g=e.cast,c=e.utils,a=e.events,d=a.state,f={};g.NS="urn:x-cast:com.longtailvideo.jwplayer";g.debug=!1;g.availability=null;g.available=function(a){a=a||g.availability;var c=b.chrome,d="available";c.cast&&c.cast.ReceiverAvailability&&(d=c.cast.ReceiverAvailability.AVAILABLE);return a===d};g.controller=function(h,n){function m(a,b){g.log("send command",a,b);a={command:a};void 0!==b&&(a.args=b);J.sendMessage(g.NS,
a,S,function(a){g.log("error message",a);"Invalid namespace"===a.description&&u()})}function q(b){b=!!g.available(b.availability);L.available!==b&&(L.available=b,v(a.JWPLAYER_CAST_AVAILABLE))}function l(a){g.log("existing session",a);J||W||(W=a.session,W.addMessageListener(g.NS,t))}function t(b,c){b=JSON.parse(c);if(!b)throw"Message not proper JSON";if(b.reconcile){W.removeMessageListener(g.NS,t);c=b.diff;var d=W;c.id&&b.appid&&b.pageUrl||(c.id=e().id,b.appid=V.appid,b.pageUrl=O,W=J=null);c.id===
h.id&&b.appid===V.appid&&b.pageUrl===O&&(J||(h.jwInstreamState()&&h.jwInstreamDestroy(!0),B(d),n.sendEvent(a.JWPLAYER_PLAYER_STATE,{oldstate:c.oldstate,newstate:c.newstate})),H(b));W=null}}function r(b){L.active=!!b;b=L;b.deviceName=J&&J.receiver?J.receiver.friendlyName:"";v(a.JWPLAYER_CAST_SESSION,{})}function v(a){var b=c.extend({},L);n.sendEvent(a,b)}function w(a){var c=b.chrome;a.code!==c.cast.ErrorCode.CANCEL&&(g.log("Cast Session Error:",a,J),a.code===c.cast.ErrorCode.SESSION_ERROR&&u())}function x(a){var c=
b.chrome;a.code!==c.cast.ErrorCode.CANCEL&&(g.log("Cast Session Error:",a,J),a.code===c.cast.ErrorCode.SESSION_ERROR&&u())}function u(){J?(A(),J.stop(C,y),F({item:0}),H({type:"state",diff:{buffer:0,position:0,duration:0}})):C()}function y(a){g.error("Cast Session Stop error:",a,J);C()}function B(f){g.log("Session started:",f);if(J)u(),ca=f;else{J=f;J.addMessageListener(g.NS,D);J.addUpdateListener(z);h.jwPause(!0);h.jwSetFullscreen(!1);T=n.getVideo();Q=n.volume;da=n.mute;U=new g.provider(m);U.init();
n.setVideoProvider(U);h.jwPlay=function(a){!1===a?U.pause():U.play()};h.jwPause=function(a){h.jwPlay(!!a)};h.jwLoad=function(a){"number"===c.typeOf(a)&&n.setItem(a);U.load(a)};h.jwPlaylistItem=function(a){"number"===c.typeOf(a)&&n.setItem(a);U.playlistItem(a)};h.jwPlaylistNext=function(){h.jwPlaylistItem(n.item+1)};h.jwPlaylistPrev=function(){h.jwPlaylistItem(n.item-1)};h.jwSetVolume=function(a){c.exists(a)&&(a=Math.min(Math.max(0,a),100)|0,K(a)&&(a=Math.max(0,Math.min(a/100,1)),J.setReceiverVolumeLevel(a,
G,function(a){g.error("set volume error",a);G()})))};h.jwSetMute=function(a){c.exists(a)||(a=!R.mute);I(a)&&J.setReceiverMuted(!!a,G,function(a){g.error("set muted error",a);G()})};h.jwGetVolume=function(){return R.volume|0};h.jwGetMute=function(){return!!R.mute};h.jwIsBeforePlay=function(){return!1};var l=h.jwSetCurrentCaptions;h.jwSetCurrentCaptions=function(a){l(a);U.sendCommand("caption",a)};h.jwSkipAd=function(b){N&&(N.skipAd(b),b=N.getAdModel(),b.complete=!0,n.sendEvent(a.JWPLAYER_CAST_AD_CHANGED,
b))};h.jwClickAd=function(c){if(N&&300<N.timeSinceClick()&&(N.clickAd(c),n.state!==d.PAUSED)){var f={tag:c.tag};c.sequence&&(f.sequence=c.sequence);c.podcount&&(f.podcount=c.podcount);e(h.id).dispatchEvent(a.JWPLAYER_AD_CLICK,f);b.open(c.clickthrough)}};h.jwPlayAd=h.jwPauseAd=h.jwSetControls=h.jwForceState=h.jwReleaseState=h.jwSetFullscreen=h.jwDetachMedia=h.jwAttachMedia=S;var k=e(h.id).plugins;k.vast&&k.vast.jwPauseAd!==S&&(Y={jwPlayAd:k.vast.jwPlayAd,jwPauseAd:k.vast.jwPauseAd},k.vast.jwPlayAd=
k.vast.jwPauseAd=S);G();r(!0);f!==W&&(U.setup(e.cast.setupCastConfig(n,V),n),e.cast.loader.sendDummyMedia(f))}}function z(b){g.log("Cast Session status",b);b?G():(U.sendEvent(a.JWPLAYER_PLAYER_STATE,{oldstate:n.state,newstate:d.BUFFERING}),C())}function C(){g.log("_sessionStopped");J&&(A(),J=null);if(T){delete h.jwSkipAd;delete h.jwClickAd;h.initializeAPI();var b=e(h.id).plugins;b.vast&&c.extend(b.vast,Y);n.volume=Q;n.mute=da;n.setVideoProvider(T);n.duration=0;U&&(U.destroy(),U=null);N&&(N.destroy(),
N=null);n.state!==d.IDLE?c.isIPad()||c.isIPod()?(h.jwStop(!0),T.sendEvent(a.JWPLAYER_PLAYER_STATE,{oldstate:d.BUFFERING,newstate:d.IDLE})):(n.state=d.IDLE,h.jwPlay(!0),h.jwSeek(n.position)):T.sendEvent(a.JWPLAYER_PLAYER_STATE,{oldstate:d.BUFFERING,newstate:d.IDLE});T=null}r(!1);null!==ca&&(B(ca),ca=null)}function A(){J.removeUpdateListener(z);J.removeMessageListener(g.NS,D)}function D(a,b){a=JSON.parse(b);if(!a)throw"Message not proper JSON";H(a)}function H(b){if("state"===b.type)N&&(b.diff.newstate||
b.diff.position)&&(N.destroy(),N=null,n.setVideoProvider(U),n.sendEvent(a.JWPLAYER_CAST_AD_CHANGED,{done:!0})),U.updateModel(b.diff,b.type),F(b.diff);else if("ad"===b.type){null===N&&(N=new g.adprovider(g.NS,J),N.init(),n.setVideoProvider(N));N.updateModel(b.diff,b.type);var c=N.getAdModel();b.diff.clickthrough&&(c.onClick=h.jwClickAd);b.diff.skipoffset&&(c.onSkipAd=h.jwSkipAd);n.sendEvent(a.JWPLAYER_CAST_AD_CHANGED,c);b.diff.complete&&N.resetAdModel()}else"connection"===b.type?!0===b.closed&&u():
g.error("received unhandled message",b.type,b)}function F(b){void 0!==b.item&&n.item!==b.item&&(n.item=b.item,n.sendEvent(a.JWPLAYER_PLAYLIST_ITEM,{index:n.item}))}function G(){if(J&&J.receiver){var a=J.receiver.volume;if(a){var b=100*a.level|0;I(!!a.muted);K(b)}}}function K(b){var c=R.volume!==b;c&&(R.volume=b,U.sendEvent(a.JWPLAYER_MEDIA_VOLUME,{volume:b}));return c}function I(b){var c=R.mute!==b;c&&(R.mute=b,U.sendEvent(a.JWPLAYER_MEDIA_MUTE,{mute:b}));return c}function S(){}var J=null,L={available:!1,
active:!1,deviceName:""},R={volume:null,mute:null},O=c.getAbsolutePath(b.location.href),U=null,N=null,T=null;var Q=n.volume;var da=n.mute;var W=null,ca=null,Y=null;var V=c.extend({},f,n.cast);k(V,"loadscreen");k(V,"endscreen");k(V,"logo");!V.appid||b.cast&&b.cast.receiver||(g.loader.addEventListener("availability",q),g.loader.addEventListener("session",l),g.loader.initialize(V.appid));this.startCasting=function(){J||h.jwInstreamState()||b.chrome.cast.requestSession(B,w)};this.stopCasting=u;this.openExtension=
function(){h.jwInstreamState()||b.chrome.cast.requestSession(B,x)}};g.log=function(){if(g.debug){var a=Array.prototype.slice.call(arguments,0);console.log.apply(console,a)}};g.error=function(){var a=Array.prototype.slice.call(arguments,0);console.error.apply(console,a)}}(window,jwplayer),function(b){function e(a){l.log("existing session",a);A||B||(B=a.session,B.addMessageListener(l.NS,k))}function k(a,c){a=JSON.parse(c);c=B;if(!a)throw"Message not proper JSON";a.reconcile&&(B.removeMessageListener(l.NS,
k),a.receiverFriendlyName=B.receiver.friendlyName,a.pageUrl&&a.diff.id&&a.appid||(a.pageUrl=C,a.diff.id=b().id,a.appid=y,B=A=null),x[a.diff.id]&&y===a.appid&&a.pageUrl===C&&(w=a.diff.id,y=a.appid,m(w,"jwInstreamDestroy"),d(c),m(w,u.message,a),B=null))}function g(){A&&(A.removeUpdateListener(n),A.removeMessageListener(l.NS,f),A.stop(c.bind(this),h.bind(this)),A=null);m(w,u.cleanup)}function c(){"undefined"!==typeof z&&null!==z&&(d(z),z=null)}function a(a,b){A.sendMessage(l.NS,{command:a,args:b},t.noop,
function(a){l.error("message send error",a)})}function d(c){var d=b(w);A?(g(),z=c):(A=c,A.addMessageListener(l.NS,f),A.addUpdateListener(n),d=b.cast.setupFlashCastConfig(d),B!==A&&(a("setup",d),b.cast.loader.sendDummyMedia(A)),m(w,u.connected,{receiverFriendlyName:c.receiver.friendlyName}))}function f(a,b){if(b){a=JSON.parse(b);if(!a)throw"Message not proper JSON";m(w,u.message,a)}}function h(a){m(w,u.error,a||{})}function n(a){a?q():g()}function m(a,c,d){d?b(a).callInternal(c,d):b(a).callInternal(c)}
function q(){if(A&&A.receiver){var a=A.receiver.volume;if(a){var c=100*a.level|0;a=!!a.muted;b(w).setVolume(c).setMute(a)}}}var l=b.cast,t=b.utils,r=b._,v=window.chrome||{},w,x={},u={},y,B,z,C=t.getAbsolutePath(window.location.href),A;l.NS="urn:x-cast:com.longtailvideo.jwplayer";l.flash={checkAvailability:function(a,b,c){u=c;y=b;x[a]=!0;l.loader.addEventListener("availability",function(b){"available"===b.availability&&m(a,u.available,b)});l.loader.addEventListener("session",e);l.loader.initialize(b)},
startCasting:function(a){w=a;v.cast.requestSession(d.bind(this),h.bind(this))},stopCasting:g,openExtension:function(a){w=a;v.cast.requestSession(d.bind(this),h.bind(this))},mute:function(a){A.setReceiverMuted(a,q,function(a){l.error("set muted error",a)})},volume:function(a){a=Math.max(0,Math.min(a/100,1));A.setReceiverVolumeLevel(a,q,function(a){l.error("set volume error",a)})},messageReceiver:a,canCastItem:function(a){return r.any(a.levels,function(a){return b.embed.html5CanPlay(a.file,a.type)||
"hls"===a.type})}}}(window.jwplayer),function(b,e){function k(a){var b=new e.cast.media.MediaInfo("");b.contentType="video/mp4";b=new e.cast.media.LoadRequest(b);b.autoplay=!1;a.loadMedia(b)}function g(){e&&e.cast&&e.cast.isAvailable&&!n.apiConfig?(n.apiConfig=new e.cast.ApiConfig(new e.cast.SessionRequest(r),f,h,e.cast.AutoJoinPolicy.ORIGIN_SCOPED),e.cast.initialize(n.apiConfig,d,a)):15>t++&&setTimeout(g,1E3)}function c(){l&&(l.resetEventListeners(),l=null)}function a(){n.apiConfig=null}function d(){}
function f(a){v.sendEvent("session",{session:a});a.sendMessage(n.NS,{whoami:1});0===a.media.length&&k(a)}function h(a){n.availability=a;v.sendEvent("availability",{availability:a})}window.chrome=e;var n=b.cast,m=b.utils,q=b.events,l,t=0,r=null,v=m.extend({initialize:function(a){r=a;null!==n.availability?v.sendEvent("availability",{availability:n.availability}):e&&e.cast?g():l||(l=new m.scriptloader("https://www.gstatic.com/cv/js/sender/v1/cast_sender.js"),l.addEventListener(q.ERROR,c),l.addEventListener(q.COMPLETE,
g),l.load())}},new q.eventdispatcher("cast.loader"));b.cast.loader=v;b.cast.loader.sendDummyMedia=k}(window.jwplayer,window.chrome||{}),function(b,e){var k=[],g=b.utils,c=b.events,a=b._,d=0,f=c.state,h="getBuffer getCaptionsList getControls getCurrentCaptions getCurrentQuality getCurrentAudioTrack getDuration getFullscreen getHeight getLockState getMute getPlaylistIndex getSafeRegion getPosition getQualityLevels getState getVolume getWidth isBeforeComplete isBeforePlay releaseState".split(" "),n=
"playlistNext stop forceState playlistPrev seek setCurrentCaptions setControls setCurrentQuality setVolume setCurrentAudioTrack".split(" "),m={onBufferChange:c.JWPLAYER_MEDIA_BUFFER,onBufferFull:c.JWPLAYER_MEDIA_BUFFER_FULL,onError:c.JWPLAYER_ERROR,onSetupError:c.JWPLAYER_SETUP_ERROR,onFullscreen:c.JWPLAYER_FULLSCREEN,onMeta:c.JWPLAYER_MEDIA_META,onMute:c.JWPLAYER_MEDIA_MUTE,onPlaylist:c.JWPLAYER_PLAYLIST_LOADED,onPlaylistItem:c.JWPLAYER_PLAYLIST_ITEM,onPlaylistComplete:c.JWPLAYER_PLAYLIST_COMPLETE,
onReady:c.API_READY,onResize:c.JWPLAYER_RESIZE,onComplete:c.JWPLAYER_MEDIA_COMPLETE,onSeek:c.JWPLAYER_MEDIA_SEEK,onTime:c.JWPLAYER_MEDIA_TIME,onVolume:c.JWPLAYER_MEDIA_VOLUME,onBeforePlay:c.JWPLAYER_MEDIA_BEFOREPLAY,onBeforeComplete:c.JWPLAYER_MEDIA_BEFORECOMPLETE,onDisplayClick:c.JWPLAYER_DISPLAY_CLICK,onControls:c.JWPLAYER_CONTROLS,onQualityLevels:c.JWPLAYER_MEDIA_LEVELS,onQualityChange:c.JWPLAYER_MEDIA_LEVEL_CHANGED,onCaptionsList:c.JWPLAYER_CAPTIONS_LIST,onCaptionsChange:c.JWPLAYER_CAPTIONS_CHANGED,
onAdError:c.JWPLAYER_AD_ERROR,onAdClick:c.JWPLAYER_AD_CLICK,onAdImpression:c.JWPLAYER_AD_IMPRESSION,onAdTime:c.JWPLAYER_AD_TIME,onAdComplete:c.JWPLAYER_AD_COMPLETE,onAdCompanions:c.JWPLAYER_AD_COMPANIONS,onAdSkipped:c.JWPLAYER_AD_SKIPPED,onAdPlay:c.JWPLAYER_AD_PLAY,onAdPause:c.JWPLAYER_AD_PAUSE,onAdMeta:c.JWPLAYER_AD_META,onCast:c.JWPLAYER_CAST_SESSION,onAudioTrackChange:c.JWPLAYER_AUDIO_TRACK_CHANGED,onAudioTracks:c.JWPLAYER_AUDIO_TRACKS},q={onBuffer:f.BUFFERING,onPause:f.PAUSED,onPlay:f.PLAYING,
onIdle:f.IDLE};b.api=function(d){function l(a,b){g.foreach(a,function(a,c){u[a]=function(a){return b(c,a)}})}function r(a,b){var c="jw"+b.charAt(0).toUpperCase()+b.slice(1);u[b]=function(){var b=x.apply(this,[c].concat(Array.prototype.slice.call(arguments,0)));return a?u:b}}function v(a,b){try{a.jwAddEventListener(b,'function(dat) { jwplayer("'+u.id+'").dispatchEvent("'+b+'", dat); }')}catch(I){"flash"===u.renderingMode&&(a=document.createElement("a"),a.href=z.data,a.protocol!==location.protocol&&
g.log("Warning: Your site ["+location.protocol+"] and JWPlayer ["+a.protocol+"] are hosted using different protocols")),g.log("Could not add internal listener")}}function w(a,b){y[a]||(y[a]=[],z&&C&&v(z,a));y[a].push(b);return u}function x(){if(C){if(z){var a=Array.prototype.slice.call(arguments,0),b=a.shift();if("function"===typeof z[b]){switch(a.length){case 6:return z[b](a[0],a[1],a[2],a[3],a[4],a[5]);case 5:return z[b](a[0],a[1],a[2],a[3],a[4]);case 4:return z[b](a[0],a[1],a[2],a[3]);case 3:return z[b](a[0],
a[1],a[2]);case 2:return z[b](a[0],a[1]);case 1:return z[b](a[0])}return z[b]()}}return null}A.push(arguments)}var u=this,y={},B={},z,C=!1,A=[],D,H={},F={};u.container=d;u.id=d.id;u.setup=function(a){if(b.embed){b.api.destroyPlayer(u.id);var c=new b.api(u.container);b.api.addPlayer(c);c.config=a;c._embedder=new b.embed(c);c._embedder.embed();return c}return u};u.getContainer=function(){return u.container};u.addButton=function(a,b,c,d){try{F[d]=c,x("jwDockAddButton",a,b,'jwplayer("'+u.id+'").callback("'+
d+'")',d)}catch(J){g.log("Could not add dock button"+J.message)}};u.removeButton=function(a){x("jwDockRemoveButton",a)};u.callback=function(a){if(F[a])F[a]()};u.getMeta=function(){return u.getItemMeta()};u.getPlaylist=function(){var a=x("jwGetPlaylist");"flash"===u.renderingMode&&g.deepReplaceKeyName(a,["__dot__","__spc__","__dsh__","__default__"],["."," ","-","default"]);return a};u.getPlaylistItem=function(a){g.exists(a)||(a=u.getPlaylistIndex());return u.getPlaylist()[a]};u.getRenderingMode=function(){return u.renderingMode};
u.setFullscreen=function(a){g.exists(a)?x("jwSetFullscreen",a):x("jwSetFullscreen",!x("jwGetFullscreen"));return u};u.setMute=function(a){g.exists(a)?x("jwSetMute",a):x("jwSetMute",!x("jwGetMute"));return u};u.lock=function(){return u};u.unlock=function(){return u};u.load=function(a){x("jwInstreamDestroy");b(u.id).plugins.googima&&x("jwDestroyGoogima");x("jwLoad",a);return u};u.playlistItem=function(a){x("jwPlaylistItem",parseInt(a,10));return u};u.resize=function(a,b){if("flash"!==u.renderingMode)x("jwResize",
a,b);else{var c=document.getElementById(u.id+"_wrapper"),d=document.getElementById(u.id+"_aspect");d&&(d.style.display="none");c&&(c.style.display="block",c.style.width=g.styleDimension(a),c.style.height=g.styleDimension(b))}return u};u.play=function(a){if(a!==e)return x("jwPlay",a),u;a=u.getState();var b=D&&D.getState();b&&(b===f.IDLE||b===f.PLAYING||b===f.BUFFERING?x("jwInstreamPause"):x("jwInstreamPlay"));a===f.PLAYING||a===f.BUFFERING?x("jwPause"):x("jwPlay");return u};u.pause=function(a){a===
e?(a=u.getState(),a===f.PLAYING||a===f.BUFFERING?x("jwPause"):x("jwPlay")):x("jwPause",a);return u};u.createInstream=function(){return new b.api.instream(this,z)};u.setInstream=function(a){return D=a};u.loadInstream=function(a,b){D=u.setInstream(u.createInstream()).init(b);D.loadItem(a);return D};u.destroyPlayer=function(){C=!0;x("jwPlayerDestroy")};u.playAd=function(a){var c=b(u.id).plugins;c.vast?c.vast.jwPlayAd(a):x("jwPlayAd",a)};u.pauseAd=function(){var a=b(u.id).plugins;a.vast?a.vast.jwPauseAd():
x("jwPauseAd")};l(q,function(a,b){B[a]||(B[a]=[],w(c.JWPLAYER_PLAYER_STATE,function(b){var c=b.newstate;b=b.oldstate;if(c===a){var d=B[c];if(d)for(var f=0;f<d.length;f++){var e=d[f];"function"===typeof e&&e.call(this,{oldstate:b,newstate:c})}}}));B[a].push(b);return u});l(m,w);g.foreach(h,function(a,b){r(!1,b)});g.foreach(n,function(a,b){r(!0,b)});u.remove=function(){this._embedder&&this._embedder.destroy&&this._embedder.destroy();A=[];var b=1<a.size(a.where(k,{id:u.id}));b||g.clearCss("#"+u.id);
var c=document.getElementById(u.id+("flash"===u.renderingMode?"_wrapper":""));if(c){if("html5"===u.renderingMode)u.destroyPlayer();else if(g.isMSIE(8)){var d=document.getElementById(u.id);if(d&&d.parentNode){d.style.display="none";for(var f in d)"function"===typeof d[f]&&(d[f]=null);d.parentNode.removeChild(d)}}b||(b=document.createElement("div"),b.id=u.id,c.parentNode.replaceChild(b,c))}k=a.filter(k,function(a){return a.uniqueId!==u.uniqueId})};u.registerPlugin=function(a,c,d,f){b.plugins.registerPlugin(a,
c,d,f)};u.setPlayer=function(a,b){z=a;u.renderingMode=b};u.detachMedia=function(){if("html5"===u.renderingMode)return x("jwDetachMedia")};u.attachMedia=function(a){if("html5"===u.renderingMode)return x("jwAttachMedia",a)};u.getAudioTracks=function(){return x("jwGetAudioTracks")};u.removeEventListener=function(a,b){if(a=y[a])for(var c=a.length;c--;)a[c]===b&&a.splice(c,1)};u.dispatchEvent=function(a,b){var d=y[a];if(d){d=d.slice(0);b=g.translateEventResponse(a,b);for(var f=0;f<d.length;f++){var e=
d[f];if("function"===typeof e)try{a===c.JWPLAYER_PLAYLIST_LOADED&&g.deepReplaceKeyName(b.playlist,["__dot__","__spc__","__dsh__","__default__"],["."," ","-","default"]),e.call(this,b)}catch(L){g.log("There was an error calling back an event handler",L)}}}};u.dispatchInstreamEvent=function(a){D&&D.dispatchEvent(a,arguments)};u.callInternal=x;u.playerReady=function(a){C=!0;z||u.setPlayer(document.getElementById(a.id));u.container=document.getElementById(u.id);g.foreach(y,function(a){v(z,a)});w(c.JWPLAYER_PLAYLIST_ITEM,
function(){H={}});w(c.JWPLAYER_MEDIA_META,function(a){g.extend(H,a.metadata)});w(c.JWPLAYER_VIEW_TAB_FOCUS,function(a){var b=u.getContainer();!0===a.hasFocus?g.addClass(b,"jw-tab-focus"):g.removeClass(b,"jw-tab-focus")});for(u.dispatchEvent(c.API_READY);0<A.length;)x.apply(u,A.shift())};u.getItemMeta=function(){return H};return u};b.playerReady=function(a){var c=b.api.playerById(a.id);c||(c=b.api.selectPlayer(a.id));c.playerReady(a)};b.api.selectPlayer=function(a){var c;g.exists(a)||(a=0);a.nodeType?
c=a:"string"===typeof a&&(c=document.getElementById(a));return c?(a=b.api.playerById(c.id))?a:new b.api(c):"number"===typeof a?k[a]:null};b.api.playerById=function(a){for(var b=0;b<k.length;b++)if(k[b].id===a)return k[b];return null};b.api.addPlayer=function(a){for(var b=0;b<k.length;b++)if(k[b]===a)return a;d++;a.uniqueId=d;k.push(a);return a};b.api.destroyPlayer=function(b){b=a.where(k,{id:b});a.each(b,a.partial(a.result,a,"remove"))}}(window.jwplayer),function(b){var e=b.events,k=b.utils,g=e.state;
b.api.instream=function(b,a){function c(c,d){m[c]||(m[c]=[],a.jwInstreamAddEventListener(c,'function(dat) { jwplayer("'+b.id+'").dispatchInstreamEvent("'+c+'", dat); }'));m[c].push(d);return this}function f(a,b){q[a]||(q[a]=[],c(e.JWPLAYER_PLAYER_STATE,function(b){var c=b.newstate,d=b.oldstate;if(c===a){var f=q[c];if(f)for(var e=0;e<f.length;e++){var h=f[e];"function"===typeof h&&h.call(this,{oldstate:d,newstate:c,type:b.type})}}}));q[a].push(b);return this}var h,n,m={},q={},l=this;l.type="instream";
l.init=function(){b.callInternal("jwInitInstream");return l};l.loadItem=function(a,c){h=a;n=c||{};"array"===k.typeOf(a)?b.callInternal("jwLoadArrayInstream",h,n):b.callInternal("jwLoadItemInstream",h,n)};l.removeEvents=function(){m=q={}};l.removeEventListener=function(a,b){if(a=m[a])for(var c=a.length;c--;)a[c]===b&&a.splice(c,1)};l.dispatchEvent=function(a,b){var c=m[a];if(c)for(c=c.slice(0),a=k.translateEventResponse(a,b[1]),b=0;b<c.length;b++){var d=c[b];"function"===typeof d&&d.call(this,a)}};
l.onError=function(a){return c(e.JWPLAYER_ERROR,a)};l.onMediaError=function(a){return c(e.JWPLAYER_MEDIA_ERROR,a)};l.onFullscreen=function(a){return c(e.JWPLAYER_FULLSCREEN,a)};l.onMeta=function(a){return c(e.JWPLAYER_MEDIA_META,a)};l.onMute=function(a){return c(e.JWPLAYER_MEDIA_MUTE,a)};l.onComplete=function(a){return c(e.JWPLAYER_MEDIA_COMPLETE,a)};l.onPlaylistComplete=function(a){return c(e.JWPLAYER_PLAYLIST_COMPLETE,a)};l.onPlaylistItem=function(a){return c(e.JWPLAYER_PLAYLIST_ITEM,a)};l.onTime=
function(a){return c(e.JWPLAYER_MEDIA_TIME,a)};l.onBuffer=function(a){return f(g.BUFFERING,a)};l.onPause=function(a){return f(g.PAUSED,a)};l.onPlay=function(a){return f(g.PLAYING,a)};l.onIdle=function(a){return f(g.IDLE,a)};l.onClick=function(a){return c(e.JWPLAYER_INSTREAM_CLICK,a)};l.onInstreamDestroyed=function(a){return c(e.JWPLAYER_INSTREAM_DESTROYED,a)};l.onAdSkipped=function(a){return c(e.JWPLAYER_AD_SKIPPED,a)};l.play=function(b){a.jwInstreamPlay(b)};l.pause=function(b){a.jwInstreamPause(b)};
l.hide=function(){b.callInternal("jwInstreamHide")};l.destroy=function(){l.removeEvents();b.callInternal("jwInstreamDestroy")};l.setText=function(b){a.jwInstreamSetText(b?b:"")};l.getState=function(){return a.jwInstreamState()};l.setClick=function(b){a.jwInstreamClick&&a.jwInstreamClick(b)}}}(jwplayer),function(b){var e=b.api,k=e.selectPlayer,g=b._;e.selectPlayer=function(c){var a=k.apply(this,arguments);return a?a:{registerPlugin:function(a,c,e){"jwpsrv"!==a&&b.plugins.registerPlugin(a,c,e)}}};b.unregisteredProviders=
[];e.registerProvider=function(c){b&&b.html5&&g.isFunction(b.html5.registerProvider)?b.html5.registerProvider(c):b.unregisteredProviders.push(c)}}(jwplayer));
define("business/commons/TrackingAdapter",function(){function b(b){function a(){var a=b.getPageObject(b.getCurrentPageIndex());return{eventInfo:{cause:"",effect:"",element:"",eventAction:"",eventName:"",eventPoints:"",target:"",timeStamp:Date.now().toString()},category:{primaryCategory:"",mmdr:a.category&&a.category.mmdr?a.category.mmdr:"",eventType:"triggered"},attributes:{relatedPageName:a.pageName||"",relatedPageCategory:a.category||{},relatedComponent:{componentInfo:{},category:{},attributes:{}}}}}
return{apply:function(){return{delayed:function(a){a.category.eventType=TC.DELAYED;return this},relatedComponent:function(a,b){a.attributes.relatedComponent=b;return this},relatedPageName:function(a,b){a.attributes.relatedPageName=b;return this},relatedPageCategory:function(a,b){a.attributes.relatedPageCategory=b;return this}}},newEvent:function(b){var c=a();b&&(c=k(!0,{},c,b));return{build:function(){return c},relatedComponentID:function(a){c.attributes.relatedComponentID=a;return this},eventAction:function(a){c.eventInfo.eventAction=
a;return this},eventName:function(a){c.eventInfo.eventName=a;return this},eventPoints:function(a){c.eventInfo.eventPoints=a.toString();return this},primaryCategory:function(a){c.category.primaryCategory=a;return this},subCategory01:function(a){c.category.subCategory01=a;return this},target:function(a){c.eventInfo.target=a;return this},effect:function(a){c.eventInfo.effect=a;return this},cause:function(a){c.eventInfo.cause=a;return this}}}}}function e(){return{options:function(){var b=!0,a="",d=!0,
f="click",e=!1;return{active:function(a){b=a;return this},build:function(){return{active:b,name:a,timing:d,type:f,useTimer:e}},name:function(b){a=(b||"").toLowerCase().replace(/\s+/g,"_");return this},timing:function(a){d=a;return this},type:function(a){f=a;return this},useTimer:function(a){e=a;return this}}}}}function k(){var b={},a=!1,d=0;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(a=arguments[0],d++);for(;d<arguments.length;d++){var f=void 0,e=arguments[d];for(f in e)Object.prototype.hasOwnProperty.call(e,
f)&&(a&&"[object Object]"===Object.prototype.toString.call(e[f])?b[f]=k(!0,b[f],e[f]):b[f]=e[f])}return b}var g=function(){this.pageObject=this.optionsBuilder=this.eventBuilder=this.api=null;this.isEventCookieSaveCapable=!1;this.initTracking()};g.prototype={initTracking:function(){if(window.digital&&window.digital.tracking&&"function"===typeof window.digital.tracking.getInstance){var c=window.digital.tracking.getInstance(window.dataLayer);c.isMinimalInterface||(this.api=c,this.isEventCookieSaveCapable=
!1)}else this.api=window.digital&&window.digital.tracking&&window.digital.tracking.lib,this.isEventCookieSaveCapable=!0;if(this.api){if(c=this.api.getCurrentPageIndex())this.pageObject=this.api.getPageObject(c);this.eventBuilder=b(this.api)}this.initMinimalTrackingInterface()},getOptionsBuilder:function(){null===this.optionsBuilder&&(this.optionsBuilder=new e);return this.optionsBuilder},getPageObject:function(){if(!this.isInitialized())return{};this.pageObject&&this.pageObject.page||(this.pageObject=
this.api.getPageObject(this.api.getCurrentPageIndex()));return this.pageObject},getEventBuilder:function(){if(this.eventBuilder)return this.eventBuilder;window.digitals2&&window.digitals2.tracking&&window.digitals2.tracking.api&&(this.eventBuilder=window.digitals2.tracking.eventBuilder);return this.eventBuilder},trackEvent:function(b,a,d){if(this.isInitialized()){var c=k(!0,{},b,{eventInfo:{timeStamp:Date.now().toString()}});try{_.has(c,"category.eventType")&&"delayed"===c.category.eventType&&this.isEventCookieSaveCapable?
this.api.eventCookieSave(c):(this.api.addEventTracking(a,c,this.api.getCurrentPageIndex()),this.triggerSatelliteEvent(d))}catch(h){console.error("caught exception while tracking event",b,", exception was",h)}}},satelliteTrack:function(b){if(window._satellite&&window._satellite.track){var a=this.api.getCurrentPageIndex(),c=k(!0,{},getPageObject(a));window._satellite.track(b,[a,c])}else console.log("_satellite not defined")},triggerSatelliteEvent:function(b){document.dispatchEvent(new CustomEvent("digital:tracking:addEventSatellite",
{detail:{eventName:"digital:tracking:addEventSatellite",eventOptions:b},bubbles:!1,cancelable:!1}))},initComponentTracking:function(b,a){if(this.isInitialized())return this.api.initComponentTracking(b,this.api.getCurrentPageIndex(),a)},getTrackingDefaults:function(b){return{eventInfo:{eventName:"",eventAction:"click",eventPoints:"",cause:"default",effect:""},category:{primaryCategory:b.category.primaryCatergory,subCategory01:b.category.subCategory01},attributes:{relatedComponentID:b.componentInfo.componentID,
relatedComponentName:b.componentInfo.componentName,relatedComponentPrimaryCategory:b.category.primaryCatergory}}},isApiValid:function(){return null!==this.api&&void 0!==this.api},isInitialized:function(){this.isApiValid()||this.initTracking();return this.isApiValid()},getComponent:function(b){if(!this.isInitialized())return null;var a=this.api.getPageObject(this.api.getCurrentPageIndex());return a.component?a.component[b]:null},newEvent:function(b){return this.getEventBuilder().newEvent(b)},applyEventComponentProperties:function(b,
a,d){this.eventBuilder.apply().relatedComponent(b,a);d&&(a=this.getPageObject())&&(this.eventBuilder.apply().relatedPageCategory(b,a.page.category),this.eventBuilder.apply().relatedPageName(b,a.page.pageInfo.pageName))},updateComponentTracking:function(b,a){this.isInitialized()&&this.api.updateComponentTracking(b,a,this.api.getCurrentPageIndex())},buildOptions:function(b){var a=this.getOptionsBuilder();return a?(a=a.options(),a.name(b),a.build()):null},initMinimalTrackingInterface:function(){window.digital=
window.digital||{};window.digital.tracking=window.digital.tracking||{};if(!window.digital.tracking.getInstance){var b=this;window.digital.tracking.getInstance=function(){return b.getMinimalInterfaceObject()}}},getMinimalInterfaceObject:function(){var b=this;return{getPageObject:function(a){return b.isInitialized()?b.api.getPageObject(a):{}},getCurrentPageIndex:function(){return b.isInitialized()?b.api.getCurrentPageIndex():0},addEventTracking:function(a,c,f){if(b.isInitialized())return b.api.addEventTracking(a,
c,f)},initComponentTracking:function(a,c){if(b.isInitialized())return b.api.initComponentTracking(a,c)},isMinimalInterface:function(){return!0}}}};return new g});require(["business/commons/TrackingAdapter"],function(b){});
define("core/Wishlist",["jquery","core/Messagebus","core/CookieAdapter","core/wishlist/FeatureItem","core/wishlist/Tracking"],function(b,e,k,g,c){var a={isAllowed:k.isUsageAllowed.bind(k,"Momentinteraction"),get:k.getCookie.bind(k,"cc_digital_wishlist##persistentData"),set:k.setCookie.bind(k,"cc_digital_wishlist##persistentData")};e={_PROCESSING_KEY:"Momentinteraction",_state:{storageAllowed:!1,storage:{}},messagebus:e.channel("md:wishlist"),events:{UPDATE:"update"},actions:{ADD:"add",REMOVE:"remove"},
prefixes:{SA:"SACODE##",SZ:"SZCODE##"},_init:function(){this.hasStoragePermission()&&(this._state.storage=JSON.parse(a.get())||{},b.isEmptyObject(c)||this._registerTracking())},_registerTracking:function(){c.initProductTracking(this);c.registerSubscription(this.messagebus,this.events.UPDATE);c.registerHandler(this.actions.ADD,c.updateProductTracking.bind(c,this));c.registerHandler(this.actions.REMOVE,c.updateProductTracking.bind(c,this));c.registerHandler(this.actions.ADD,c.onWishlistAdd);c.registerHandler(this.actions.REMOVE,
c.onWishlistRemove)},_syncWithLocalStorage:function(){this._state.storageAllowed&&a.set(JSON.stringify(this._state.storage))},_publishUpdate:function(a){this.messagebus.publish(this.events.UPDATE,b.extend(a,{count:this.getItemCount()}))},hasStoragePermission:function(){this._state.storageAllowed=a.isAllowed();return this._state.storageAllowed},getItemCount:function(){return Object.keys(this._state.storage).length},getFeatureItemCount:function(){return Object.keys(this._state.storage).filter(function(a){return-1!==
a.indexOf(this.prefixes.SA)}.bind(this)).length},hasFeatureItem:function(a){return this._state.storage.hasOwnProperty(this.prefixes.SA+a)},getFeatureItem:function(a){return this.hasFeatureItem(a)?this._state.storage[this.prefixes.SA+a]:{}},setFeatureItem:function(a,c){if(0!==a.code.length&&a instanceof g){var d=this.prefixes.SA+a.code;this.hasFeatureItem(a.code)?b.extend(!0,this._state.storage[d],a):this._state.storage[d]=a;this._syncWithLocalStorage();this._publishUpdate({action:this.actions.ADD,
item:this.getFeatureItem(a.code),event:c})}},removeFeatureItem:function(a,b){var c=this.getFeatureItem(a);this.hasFeatureItem(a)&&delete this._state.storage[this.prefixes.SA+a];this._syncWithLocalStorage();this._publishUpdate({action:this.actions.REMOVE,codes:a,item:c,event:b})},getAllFeatureItems:function(){return Object.keys(this._state.storage).map(function(a){return this._state.storage[a]},this)},removeAllFeatureItems:function(a){var b=this.getAllFeatureItems(),c=b.map(function(a){return a.code});
this._state.storage={};this._syncWithLocalStorage();this._publishUpdate({action:this.actions.REMOVE,codes:c,items:b,event:a,all:!0})}};e._init();return e});
define("core/wishlist/FeatureItem",["jquery"],function(b){var e=function(b){var c="string"===typeof b;return"undefined"!==typeof b?{src:b.src||c&&b||"",isCosy:b.isCosy||c&&-1!==b.indexOf("srcset:")||!1,isSrcset:b.isScrset||c&&null!==b.match(/ \d{3,4}w/)||!1}:{}},k=function(b){Object.defineProperties(this,{bodyType:{value:b.bodyType||"",enumerable:!0},modelCode:{value:b.modelCode||"",enumerable:!0},code:{value:b.code||"",enumerable:!0},name:{value:b.name||"",enumerable:!0},description:{value:b.description||
"",enumerable:!0},price:{value:b.price||"",enumerable:!0},image:{value:e(b.image),enumerable:!0}})};k.prototype={hasCode:function(){return""!==this.code},toArray:function(){return Object.getOwnPropertyNames(this).reduce(function(e,c){return b.isEmptyObject(this[c])?e:e.concat(this[c])}.bind(this),[])}};return k});
define("core/wishlist/Tracking",["jquery","lodash","core/TrackingAdapter","core/wishlist/tracking/DefaultData"],function(b,e,k,g){var c=k.getInstance();if(null==c||c.isTrackingDisabled())return{};k={_isInitialized:!1,_isProductTrackingInitialized:!1,products:{},subscriptions:[],handler:{},_init:function(){this._isInitialized||(this._initComponentTracking(),this._isInitialized=!0)},_initComponentTracking:function(){c.initComponentTracking(g.component)},_getWishlistModelCodes:function(a){return e.uniq(a.map(function(a){return a.modelCode}).filter(Boolean))},
_handleEvent:function(a){this.handler[a.action].forEach(function(b){b.call(this,a)},this)},_findParentComponentNames:function(a){return b(a).parents("[data-component-name]").toArray().reverse().map(function(a){return a.dataset.componentName}).join("\x3e")},_getEventView:function(a){return"feature-details-sidebar"===a?"detail":"list"},_formatArray:function(a){return Array.prototype.concat(a).join("::")},_trackEvent:function(a){a=b.extend(!0,{},g.event,a,{eventInfo:{timeStamp:Date.now().toString()}});
try{c.addEventTracking(g.tracking,a,0)}catch(d){console.error(d)}},initProductTracking:function(a){var c=a.getAllFeatureItems();a=0!==b('[data-component-name\x3d"acw-wishlist"]').length;var f=b(document.body).is(".md-page-product");if(a||f){a=this._getWishlistModelCodes(c);var h=c.map(function(a){return a.modelCode});a.length&&a.filter(function(a){return-1!==h.indexOf(a)}).forEach(function(a){var b=c.filter(function(b){return b.modelCode===a}),d=e.uniq(b.map(function(a){return a.bodyType}).filter(Boolean)).toString();
b=b.map(function(a){return a.code});this.addProductTracking(a,d,b)},this)}},updateProductTracking:function(a,b){var d=a.getAllFeatureItems();(b.all?b.items.map(function(a){return a.modelCode}):[b.item.modelCode]).forEach(function(a){var b=d.filter(function(b){return b.modelCode===a}),f=e.uniq(b.map(function(a){return a.bodyType}).filter(Boolean)).toString();b=b.map(function(a){return a.code});this.products.hasOwnProperty(a)?c.updateProductTracking(this.products[a].productIndex,{attributes:{saCodeList:this._formatArray(b)}},
0):this.addProductTracking(a,f,b)},this)},addProductTracking:function(a,d,f){this.products[a]=c.initProductTracking(b.extend(!0,{},g.product,{attributes:{bodyType:d,modelCode:a,saCodeList:this._formatArray(f)}}),0)},registerSubscription:function(a,b){this.subscriptions.push(a.subscribe(b,this._handleEvent.bind(this)))},registerHandler:function(a,b){this.handler.hasOwnProperty(a)?this.handler[a].push(b):this.handler[a]=[b]},onWishlistAdd:function(a){var b=this._findParentComponentNames(a.event.currentTarget);
a={eventInfo:{eventName:"add to wishlist",effect:this._getEventView(b)},category:{subCategory01:"added item"},attributes:{SAcode:this._formatArray(a.item.code),senderBreadcrumb:b}};this._trackEvent(a)},onWishlistRemove:function(a){var b=this._findParentComponentNames(a.event.currentTarget);b={eventInfo:{eventName:a.all?"remove all from wishlist":"remove from wishlist",effect:a.all?"removed all items from wishlist":this._getEventView(b)},category:{subCategory01:a.all?"removed all item":"removed item"},
attributes:{senderBreadcrumb:b}};Array.isArray(a.codes)?b.attributes.saCodeList=this._formatArray(a.codes):b.attributes.SAcode=this._formatArray(a.codes);this._trackEvent(b)},onUndo:function(a){var b={eventInfo:{eventName:"undo remove",effect:"dialog"},category:{subCategory01:"undo remove"},attributes:{senderBreadcrumb:this._findParentComponentNames(a.event.currentTarget)}};Array.isArray(a.codes)?b.attributes.saCodeList=this._formatArray(a.codes):b.attributes.SAcode=this._formatArray(a.codes);this._trackEvent(b)}};
k._init();return k});
define("core/wishlist/tracking/DefaultData",[],function(){var b={component:{componentInfo:{componentId:"Y29yZS93aXNobGlzdC9UcmFja2luZwo\x3d",componentName:"wishlist"},category:{primaryCategory:"wishlist",subCategory01:"overview"},attributes:{contentHeadline:"na"}}};b.product={productInfo:{description:"",manufacturer:"MINI",productID:"na",productName:"na"},category:{primaryCategory:"new car",subCategory01:"na"},attributes:{bodyName:"na",bodyType:"na",modelName:"",modelCode:"na",relatedComponentID:b.component.componentInfo.componentId,
relatedComponentName:b.component.componentInfo.componentName,relatedComponentPrimaryCategory:b.component.category.primaryCategory}};b.tracking={eventInfo:{},category:{primaryCategory:b.component.category.primaryCategory,subCategory01:""},attributes:{senderBreadcrumb:"",relatedComponentID:b.component.componentInfo.componentId,relatedComponentName:b.component.componentInfo.componentName,relatedComponentPrimaryCategory:b.component.category.primaryCategory}};b.event={eventInfo:{eventName:"",eventAction:"click",
eventPoints:"",cause:"default",effect:""},category:{},attributes:{}};return b});
define("core/utils/scrollspy",["jquery","lodash","core/Messagebus"],function(b,e,k){var g=g||[],c=function(a,c){function d(){l||(l=!0,"x"===c?t?requestAnimationFrame(h):h():t?requestAnimationFrame(g):g())}function h(){var b=m.scrollLeft();if(w.posX!=b){var c=0>w.posX?0:Math.min(1,Math.max(-1,b-w.posX));w.direction!=c&&(v=b,w.direction=c);w.directionDelta=b-v;w.posX=b;for(b=0;b<q.length;b++)q[b](w);k.publish({channel:x.channel,topic:x.events.SCROLL,data:{scrollData:w,target:a}})}l=!1}function g(){var b=
m.scrollTop();if(w.posY!=b){var c=0>w.posY?0:Math.min(1,Math.max(-1,b-w.posY));w.direction!=c&&(r=b,w.direction=c);w.directionDelta=b-r;w.posY=b;for(b=0;b<q.length;b++)q[b](w);k.publish({channel:x.channel,topic:x.events.SCROLL,data:{scrollData:w,target:a}})}l=!1}a=a||window;var m=b(a);c=c||"y";var q=[],l=!1,t=!0,r=0,v=0,w={posY:-1,posX:-1,direction:.1,directionDelta:0},x={channel:"md:scrollspy",events:{SCROLL:"scroll"}};m.bind("scroll",d);t=e.isFunction(Modernizr.prefixed("requestAnimationFrame",
window));d();return{register:function(a){return-1==q.indexOf(a)?(q.push(a),a):!1},unregister:function(a){a=q.indexOf(a);-1!=a&&q.splice(a,1)},elementIsScrolledIntoView:function(a,c){var d=a.getBoundingClientRect();c=c?d.height*c:0;var f=document.documentElement;return d.top>=0-c&&d.bottom-c<=(window.innerHeight||f.clientHeight)&&b(a).is(":visible")},scrollData:w,messages:x}};return{windowScrollSpy:new c,init:function(a,b){a=a||window;return g[a]=g[a]||new c(a,b)}}});
define("core/utils/url",["jquery","lodash"],function(b,e){return{retrieveGetParams:function(){var b=location.search.substring(1);if(0==b.length)return{};try{return JSON.parse('{"'+decodeURI(b).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}')}catch(g){return{}}},updateGetParams:function(k,g,c,a){var d=this.retrieveGetParams(),f=!1;e.isObject(k)&&(b.extend(d,k),f=!0);e.isObject(g)&&Object.keys(g).forEach(function(a){d[a]&&(delete d[a],f=!0)});c&&(d={},f=!0);1==f&&(k=Object.keys(d).length?
"?"+b.param(d):"",a?window.history.replaceState("","",window.location.pathname+k+window.location.hash):window.history.pushState("","",window.location.pathname+k+window.location.hash))},getHash:function(){var b=window.location.hash;if(0!==b.length){var e=b.lastIndexOf("#");return-1!==e?b.substring(e+1):b.substring(1)}return""},updateHash:function(b,e){-1===b.indexOf("#")&&(b="#"+b);e?window.history.replaceState("","",window.location.pathname+location.search+b):window.history.pushState("","",window.location.pathname+
location.search+b)},serializeParams:function(b){return b.map(function(b){return b.parameterName+"\x3d"+b.parameterValue}).join("\x26")}}});
define("core/utils/viewportspy",["jquery","bowser","core/Messagebus"],function(b,e,k){return function(){function g(){m=n=!1;c.pixelRatio=window.devicePixelRatio||1;var d=!1;c.width!==window.innerWidth&&(c.width=window.innerWidth,c.mode=c.width<a.tabletPortrait?0:c.width<a.desktop?1:c.width<a.desktopLarge?2:3,b.map(a,function(a,b){c.minwidth[b]=c.width>=a}),d=!0);c.height!=f.height()&&(c.height=f.height(),d=!0);if(d)for(d=0;d<q.length;d++)q[d](c)}var c={pixelRatio:1,screenRotated:!1,width:-1,height:-1,
mode:-1,minwidth:{}},a={mobile:320,mobileLarge:480,tabletPortrait:768,tabletLandscape:1024,desktop:1280,desktopLarge:1920},d={channel:"md:viewport",events:{RESIZE:"resize",BREAKPOINT_CHANGE:"breakpointChange",ORIENTATION_CHANGE:"orientationChange"}},f=b(window),h=!1,n=!1,m=!1,q=[];h=e.mobile||e.tablet;f.on("orientationchange",function(){c.screenRotated=90==window.orientation||-90==window.orientation;m?(g(),k.publish({channel:d.channel,topic:d.events.ORIENTATION_CHANGE,data:c})):(n=!0,setTimeout(function(){n=
!1},500))});f.on("resize",function(){!h||n?(g(),k.publish({channel:d.channel,topic:d.events.RESIZE,data:c})):(m=!0,setTimeout(function(){m=!1},500))});g();return{register:function(a){return-1===q.indexOf(a)?(q.push(a),a):!1},unregister:function(a){a=q.indexOf(a);-1!==a&&q.splice(a,1)},elementIsScrolledIntoView:function(a,c){var d=a.getBoundingClientRect();c=c?d.height*c:0;var f=document.documentElement;return d.top>=0-c&&d.bottom-c<=(window.innerHeight||f.clientHeight)&&b(a).is(":visible")},viewportData:c,
breakpoints:a,messages:d}}()});
define("core/utils/lazyImageSpy",["jquery","lodash","core/Messagebus"],function(b,e,k){return function(){function g(b){if(a){b=b||{};var f=b.delay?b.delay:1,e=b.timeoutId?b.timeoutId:1>=f?"immediate":"undef";"undef"!==e&&clearTimeout(d[e]);d[e]=setTimeout(function(){c.debug&&console.log("LazyImageSpy.update now",f);lazySizes.autoSizer.checkElems()},f);c.debug&&console.log("LazyImageSpy.update",b,e,f)}}var c={debug:!1},a=!1,d={immediate:-1,later:-1},f={channel:"md:image",events:{UPDATE:"update"}};
window.lazySizes?(c.debug&&console.log("lazyImageSpy.init"),a=!0,e.isFunction(b.subscribe)&&b.subscribe(f.channel+":"+f.events.UPDATE,g),k.subscribe({channel:f.channel,topic:f.events.UPDATE,callback:g})):c.debug&&console.log("LazyImageSpy ERROR: lazysizes plugin not found");return{update:g,messages:f}}()});
define("core/utils/DirectionRTL",["jquery","lodash","core/Messagebus","core/Debugger"],function(b,e,k,g){return function(){function c(){return f||d}function a(){console.log("process RTL");for(var a=document.querySelectorAll(".md-ss-range-price,.md-price-finance,.md-prodinfo-price,.md-cs-from-price,.md-hmclight-model-price,.md-hmcresults-range-price,.md-ml-price-tag"),b=/(\u20ac|$|\u00a5|\u00a2|\u00a3|\u20bd|\u20a8|\u20a9|\u0e3f|\u20ba|\u20ae|\u20b1|\u20ad|\u20b4|\u20a6|\u09f2|\u09f3|\u0af1|\u0bf9|\ufdfc|\u20b9|\u20b2|\u20aa|\u20a1|\u20ab|\u17db|\u20b5|\u20b8|\u20a5)\s?([0-9,\.]+)/gi,
c=a.length-1;0<=c;c--){var d=a[c];d.innerHTML=d.innerHTML.replace(b,"\x26lrm;$1 $2")}}var d=b("body").hasClass("md-direction-rtl"),f=g.isDebugEnabled("rtl");f&&b("body").addClass("md-direction-rtl");c()&&a();var e={isEnabled:c,processRTL:a};"undefined"!==typeof mini&&(mini.digital.util=mini.digital.util||{},mini.digital.util.directionRTL=e);return e}()});
define("core/utils/Environment",["jquery"],function(b){b=b("body");return{isWcmmodeEdit:b.hasClass("wcmmode-edit")||b.hasClass("md-wcmmode-edit")||b.data("mdWcmmode")}});
define("core/utils/networkspy",["jquery","core/Messagebus"],function(b,e){return function(){function b(){g();e.publish({channel:h.channel,topic:h.events.CHANGE,data:f});for(var a=0;a<c.length;a++)c[a](f)}function g(){f.online=d?"none"!==a.type:navigator.onLine;f.type=d?a.type:navigator.onLine?"unknown":"none";f.stable=d?-1<["ethernet","wifi"].indexOf(f.type):f.online}var c=[],a=navigator.connection||navigator.mozConnection||navigator.webkitConnection,d="undefined"!==typeof a,f={online:!1,stable:!1,
type:"unknown"},h={channel:"md:network",events:{CHANGE:"change"}};g();d?a.addEventListener("typechange",b):(window.addEventListener("online",b),window.addEventListener("offline",b));return{register:function(a){return-1===c.indexOf(a)?(c.push(a),a):!1},unregister:function(a){a=c.indexOf(a);-1!==a&&c.splice(a,1)},hasNetworkApi:d,messages:h,state:f}}()});
define("core/utils/BackHeader",["jquery"],function(b){var e=function(e){return b(e).closest("[data-md-tracking-region-id]").attr("data-md-tracking-region-id")};return{getBackUrl:function(b){return-1!==window.location.href.indexOf(".back.")?b.href:b.href.split(".html")[0]+".back.html?backId\x3d"+e(b)+"\x26backPath\x3d"+window.location.pathname.split(".html")[0]},updateStateOnClick:function(k){b(k).on("click",function(){history.replaceState(null,null,window.location.href.split(".html")[0]+".html?rid\x3d"+
e(k))})}}});
define("core/utils/Deeplinker","jquery lodash bluebird velocity core/Debugger core/Messagebus core/utils/url core/componentInitializer".split(" "),function(b,e,k,g,c,a,d,f){return function(){function a(){var a=r.parents("[data-loader]").toArray().reverse(),c=k.resolve();a.forEach(function(a){var d=b(a);""===d.attr("data-loader")?c=c.then(g.bind(null,d.data("controller"))):"amdLoader"===d.attr("data-loader")&&(c=c.then(function(){return f.initElement(d).then(g)}))});c.delay(v).then(m)}function g(a){if("function"===
typeof a.deeplinkCustomAction)return a.deeplinkCustomAction(r[0])}function m(){var a=b(".md-product-inpage-navigation").first(),c=0,d=b(".md-moment-interaction-toolbox"),f=Math.round(d.outerHeight());a.length&&(c-=Math.round(a.outerHeight()));d.length&&(c-=f);r.is(":hidden")&&(r=r.filter(":visible"));if(r.length){var e=r.offset();r.velocity("scroll",{duration:w,offset:c,queue:!1,complete:function(){t.debug&&console.log("Scrolled to target!",r);var a=r.offset().top;e.top<a&&r.velocity("scroll",{duration:w,
offset:c})}})}}function q(){var a=JSON.parse('{"deeplink-slug":"", "rid":""}');d.updateGetParams(null,a,!1,!0)}function l(c){if(c){if(c.delay&&e.isNumber(c.delay)&&0<c.delay){setTimeout(function(){c.delay=0;l(c)},c.delay);return}c.scrollDelay&&e.isNumber(c.scrollDelay)&&(v=c.scrollDelay);c.scrollDuration&&e.isNumber(c.scrollDuration)&&(w=c.scrollDuration)}var f=d.retrieveGetParams(),g=d.getHash(),h=f["deeplink-slug"];f=f.rid;try{if(0!==b("#"+g).length||0!==b('[data-md-anchor-name\x3d"'+g+'"]').length){q();
(0!==b("#"+g).length?b("#"+g)[0]:b('[data-md-anchor-name\x3d"'+g+'"]')[0]).scrollIntoView();return}}catch(z){console.log(z)}"undefined"===typeof h&&"undefined"!==typeof g&&(h=g);r=h?b('[data-deeplink-slug\x3d"'+h+'"]').first():f?b('[data-md-tracking-region-id\x3d"'+f+'"]').first():null;q();r&&r.length&&a()}var t={debug:c.isDebugEnabled("deeplinker")},r,v=600,w=1500;return{update:l}}()});
define("core/utils/cosyImage",["jquery","cosyEncoder","bowser","cosyDecoder","core/utils/webp"],function(b,e,k,g,c){return function(){function a(a){return l.map(function(b){return{width:b,height:Math.round(a/100*b)}})}function d(a){return-1!==a.indexOf("cosy-int")?"int":-1!==a.indexOf("h5vcom")?"h5vco":""}function f(a){if(!b.isPlainObject(a))throw new TypeError("Provided parameters are not of type Object!");a=b.extend({},q,a);return e.encode(e.serialize(a))}function h(a,b){if(-1===["toLowerCase",
"toUpperCase"].indexOf(b))throw Error("Transform method not allowed!");return Object.keys(a).reduce(function(c,d){c[String.prototype[b].apply(d)]=a[d];return c},{})}function n(a,c){a=g.unserialize(a);c=b.extend({},a,c);"undefined"!==typeof c.VAR_PLATE&&(c.VAR_PLATE='"'+c.VAR_PLATE.replace(/\u0020/g,"\\x20")+'"');return e.serialize(c)}function m(a){return a.split(",").map(function(a){a=a.trim().split(" ");return{url:a[0],breakpoint:a[1]}})}var q={client:"NVCO",brand:"WBMI",lang:2,pov:"WALKAROUND",
resp:"PNG",quality:100,sharp:100,angle:0,cut:0,w:1E4,h:1E4,align:"CENTER",var_plate:""},l=[320,440,560,620,680,740,800,960,1120,1280],t=[{width:320,height:180},{width:440,height:248},{width:560,height:315},{width:620,height:349},{width:680,height:383},{width:740,height:416},{width:800,height:450},{width:960,height:540},{width:1120,height:630},{width:1280,height:720}];c.messagebus.channel.subscribe({topic:c.messagebus.TOPIC,callback:function(){q.resp=c.isSupported?"WEBP":"PNG"}}).enlistPreserved();
return{generateURL:f,generateSrcset:function(c,d){var e=[];(d?a(d):t).forEach(function(a){var d=b.extend({},c,a);a=a.width.toString()+"w";if(d=f(d))d=[d,a].join(" "),e.push(d)});return e.join(",")},replaceParameters:function(a,b){if("undefined"===typeof a||!(a instanceof HTMLImageElement))throw new TypeError("Provided element is undefined or not of type HTMLImageElement!");["srcset","data-cosy-srcset"].forEach(function(b){a.hasAttribute(b)&&-1===a.getAttribute(b).indexOf("cosy")&&console.warn("Provided element is not a CoSy image!",
a)});b=h(b,"toUpperCase");var c=a.hasAttribute("srcset")||a.hasAttribute("data-srcset"),f=c?a.getAttribute("srcset")||a.dataset.srcset:a.dataset.cosySrcset.replace("srcset:","");f=m(f);if(!c){var l=f.shift(),v=l.url,q=g.decode(l.url),z=n(q,b);l.url=e.encode(z,d(v))}f.map(function(a){var f=c?a.url:v+a.url,h=g.decode(f);c?h=n(h,b):(h=h.match(/&WIDTH=\d+&HEIGHT=\d+/),h=z+h);f=e.encode(h,d(f));c||(f=f.substr(l.url.length));a.url=f});c||f.unshift(l);q=f.map(function(a){return[a.url,a.breakpoint].join(" ")}).join(",");
c?a.srcset=q:a.dataset.cosySrcset="srcset:"+q;if(c&&k.msie&&11==k.version){var t=(a.getAttribute("sizes")||"1280px").replace("px","");1===f.length?f=f[0]:(f=f.filter(function(a){a=a.breakpoint.replace("w","");return parseInt(a)<=parseInt(t)+60}),f=f[f.length-1]);a.src=f.url}}}}()});
define("core/utils/CurrencyFormatter",["lodash","core/utils/CurrencyDecimalFormat"],function(b,e){var k=[",",".","'"],g=function(b){b=this.parsePattern(b);this.Formatter=new e(b.pattern);this.Formatter.setDecimalSeparator(b.decimalSeparator);this.Formatter.setGroupingSeparator(b.groupingSeparator)};g.prototype={parsePattern:function(c){if(b.includes(c,"|")&&4===c.split("|").length-1){var a=this.calculateSeparatorIndex(c,c.length);var d=this.calculateSeparatorIndex(c,a-2)}else a=this.findSeparator(c,
c.length-1),d=this.findSeparator(c,a-1);if(-1!==d){var f=c.charAt(d);c=this.replaceChar(c,d,",")}if(-1!==a){var e=c.charAt(a);c=this.replaceChar(c,a,".")}c=c.replace(/\|/g,"");-1!==a&&-1!==d&&e===f&&console.error("bad currency pattern '"+c+"', decimal- and grouping-separators are the same");return{pattern:c,decimalSeparator:e,groupingSeparator:f}},format:function(b){var a=b;"string"===typeof b&&(a=parseFloat(b));try{var c=this.Formatter.format(a)}catch(f){console.error("Exception during formatting currency for pattern"+
pattern+" and value "+a,f),c=b}return c},calculateSeparatorIndex:function(b,a){var c=-1;a=b.lastIndexOf("|",a);b=b.lastIndexOf("|",a-1);2===a-b&&(c=a-1);return c},findSeparator:function(c,a){var d=-1;if(0>a)return d;b.each(k,function(b){b=c.substring(0,a).lastIndexOf(b);-1===b||b>a||!(-1===d||b>d)||(d=b)});return d},replaceChar:function(b,a,d){return b.substring(0,a)+d+b.substring(a+1)}};return g});
define("core/utils/CurrencyDecimalFormat",[],function(){function b(b){this.suffix=this.prefix="";this.comma=0;this.minInt=1;for(var e=this.maxFrac=this.minFrac=0;e<b.length;e++)if("#"==b.charAt(e)||"0"==b.charAt(e)){this.prefix=b.substring(0,e);b=b.substring(e);break}this.suffix=b.replace(/[#]|[0]|[,]|[.]/g,"");var g=b.replace(/[^0#,.]/g,"");b="";var c=g.indexOf(".");-1!=c?(e=g.substring(0,c),b=g.substring(c+1)):e=g;g=e.lastIndexOf(",");-1!=g&&(this.comma=e.length-1-g);e=e.replace(/[,]/g,"");b=b.replace(/[,]|[.]+/g,
"");this.maxFrac=b.length;e=e.replace(/[^0]/g,"");e.length>this.minInt&&(this.minInt=e.length);e=b.replace(/[^0]/g,"");this.minFrac=e.length}b.prototype.setDecimalSeparator=function(b){this.decimalSeparator=b};b.prototype.setGroupingSeparator=function(b){this.groupingSeparator=b};b.prototype.format=function(b){var e=this.formatBack(b).toLowerCase();if(isNaN(e)||0==e.length)return b;b=!1;"-"==e.charAt(0)?(b=!0,e=e.substring(1)):"+"==e.charAt(0)&&(e=e.substring(1));var g=e.indexOf("."),c="";if(-1!=
g){var a=e.substring(0,g);c=e.substring(g+1)}else a=e;c=c.replace(/[.]/,"");e=this.suffix&&"%"===this.suffix.charAt(0);g=this.minInt;var d=this.minFrac;var f=this.maxFrac;e&&(g-=2,d+=2,f+=2);if(c.length>f){var h=Number("0."+c);h=0==f?Math.round(h):h.toFixed(f);c=h.toString(10).substr(2);h=1<=h?1:0;for(f=a.length-1;h;)if(-1==f){a="1"+a;break}else{var n=a.charAt(f);9==n?(n="0",h=1):(n=++n+"",h=0);a=a.substring(0,f)+n+a.substring(f+1,a.length);f--}}else c.length>d&&c.length<f&&(d=f);for(f=c.length;f<
d;f++)c+="0";for(;c.length>d&&"0"==c.charAt(c.length-1);)c=c.substring(0,c.length-1);for(f=a.length;f<g;f++)a="0"+a;for(;a.length>g&&"0"==a.charAt(0);)a=a.substring(1);e&&(a+=c.substring(0,2),c=c.substring(2));e=0;for(f=a.length;0<f;f--)0!=e&&0==e%this.comma&&(a=a.substring(0,f)+this.groupingSeparator+a.substring(f),e=0),e++;a=0<c.length?this.prefix+a+this.decimalSeparator+c+this.suffix:this.prefix+a+this.suffix;b&&(a="-"+a);return a};b.prototype.formatBack=function(b){b+="";if(!b)return"";var e=
!1;"-"==b.charAt(0)&&(b=b.substr(1),e=!0);var g=b.indexOf(this.prefix),c=""==this.suffix?b.length:b.indexOf(this.suffix,this.prefix.length+1);0==g&&0<c&&(b=b.substr(0,c),b=b.substr(this.prefix.length),b=b.replace(/,/g,""),e&&(b="-"+b));return b};return b});
define("core/utils/HTMLHelper",["jquery"],function(b){return function(){return{getHeightDifferences:function(e){e=b.map(e,function(e){return b(e).innerHeight()});var k=e.reduce(function(b,c){return c>b?c:b},0);return e.map(function(b){return k-b})},equalizeHeight:function(e,k,g){e=e.find(k);b.map(e,function(a,b){a.style&&""!=a.style[g]&&(a.style[g]="")});var c=this.getHeightDifferences(e);b.map(e,function(a,d){var f=parseInt(b(a).css(g));b(a).css(g,f+c[d]+"px")})}}}()});
define("core/utils/ModelDataService",["jquery","core/Messagebus"],function(b,e){return function(){function k(a){throw Error(a.statusText);}function g(b){a=("object"!==typeof b?JSON.parse(b):b)||[];c.channel.publish({topic:c.events.LOADED,data:a})}var c={channel:e.channel("md:modeldataservice"),events:{LOADED:"loaded"}},a;(function(){var a=b(".md-product-selector"),c=window.location.pathname.replace(".html","/_jcr_content.modelfeatures.json");0<a.length&&(a=b(a).data("modelfeaturesProductSelectorPath"))&&
0<a.length&&(c=a);b.getJSON(c).fail(k).success(g)})();return c}()});
define("core/utils/webp",["bluebird","core/Messagebus"],function(b,e){function k(){var f=Object.keys(d).map(function(b){return g(b).then(function(c){a.supports[b]=c}).error(function(c){console.warn(c);a.supports[b]=!1})});b.all(f).then(function(){a.isSupported=[a.supports.lossy,a.supports.lossless,a.supports.alpha,a.supports.animation].some(Boolean);a.messagebus.channel.publish({topic:a.messagebus.TOPIC,data:a,headers:{preserve:!0}});c=!0})}function g(a){return new b(function(b){var c=new Image;c.onload=
function(){b(0<c.width&&0<c.height)};c.onerror=function(){b(!1)};c.src="data:image/webp;base64,"+d[a]})}var c=!1,a={messagebus:{TOPIC:"webp",channel:e.channel("md:support")},LOSSY:"lossy",LOSSLESS:"lossless",ALPHA:"alpha",ANIMATION:"animation",isSupported:!1,supports:{lossy:!1,lossless:!1,alpha:!1,animation:!1}},d={lossy:"UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",lossless:"UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA\x3d\x3d",alpha:"UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA\x3d\x3d",
animation:"UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"};c||k();return a});
define("core/CookieAdapter",["jquery","lodash"],function(b,e){var k=0,g="undefined"!==typeof window.consentcontroller?window.consentcontroller:{};return{api:g.api||{},isEnabled:!!g.api,checkPresentAndInit:function(c){var a=!1,d=c||b.Deferred(),f=this;g.api&&g.api.isInitialized&&(a=g.api.isInitialized());a?d.resolve(!0):10<=k?(k=0,d.reject(!1)):(window.setTimeout(function(){f.checkPresentAndInit(d)},300),k++);if(!c)return d.promise()},acceptCookies:function(){this.setRegulationAccepted()},rejectCookies:function(){this.setRegulationRejected()},
getCookiesAllowed:function(){var b=!1;this.api&&this.api.getPersistence&&this.api.setPersistence&&this.api.deletePersistence?(this.api.setPersistence("cc_digital_testCookie","true"),"true"===this.api.getPersistence("cc_digital_testCookie")&&(this.api.deletePersistence("cc_digital_testCookie"),b=!0)):b=!1;return b},registerOnConsentChange:function(b){return this.api.registerOnConsentChange?this.api.registerOnConsentChange(b):null},registerOnUserConsentChange:function(b){return this.api.registerOnUserConsentChange?
this.api.registerOnUserConsentChange(b):null},registerOnInitialized:function(b){return this.api.registerOnInitialized?this.api.registerOnInitialized(b):null},getRegulationType:function(){return this.api.getRegulationType?this.api.getRegulationType():null},getCookie:function(b){return this.api.getPersistence?this.api.getPersistence(b):null},setCookie:function(b,a){return this.api.setPersistence?this.api.setPersistence(b,a):null},deleteCookie:function(b){return this.api.deletePersistence?this.api.deletePersistence(b):
null},isRegulationAccepted:function(){return this.api.isRegulationAccepted?this.api.isRegulationAccepted():null},setRegulationAccepted:function(){return this.api.setRegulationAccepted?this.api.setRegulationAccepted():null},setRegulationRejected:function(){return this.api.setRegulationRejected?this.api.setRegulationRejected():null},isUsageAllowed:function(b){return this.api.isUsageAllowed?this.api.isUsageAllowed(b):null},isInitialized:function(){return this.api.isInitialized?this.api.isInitialized():
null},getUserConsent:function(b){return this.api.getUserConsent?this.api.getUserConsent(b):null},setUserConsent:function(b,a){return this.api.setUserConsent?this.api.setUserConsent(b,a):null},getUserConsentEnums:function(){return this.api?this.api.ENUM_USER_CONSENT:null},getConsentMetadata:function(b,a,d){return this.api.getConsentMetadata?this.api.getConsentMetadata(b,a,d):null},showDisclaimer:function(){return this.api.showDisclaimer?this.api.showDisclaimer():!1}}});
define("core/trackingAdapter/Tracking",["jquery","core/CookieAdapter","core/Debugger"],function(b,e,k){var g={CODE1:{type:"error",errorCode:"1",errorMessage:"The pageId passed to the function does not exist"},CODE2:{type:"error",errorCode:"2",errorMessage:"The pageId is a required parameter on this function"},CODE3:{type:"error",errorCode:"3",errorMessage:"The component element passed to the function does not exist"},CODE4:{type:"error",errorCode:"4",errorMessage:"The component element passed to the function does not have the required data attribute"},
CODE5:{type:"error",errorCode:"5",errorMessage:"The format or type of the data passed to the function is not correct"}},c=function(a){this.trackingObj={};this.trackingDisabled=void 0!==navigator?"1"===navigator.doNotTrack:!1;this.options={debug:k.isDebugEnabled("tracking"),isDevMode:!1,cookiesAllowed:!1};this.components=b.extend(!0,{},Array.isArray(a.pages)&&0<a.pages.length&&void 0!==a.pages[0].component?a.pages[0].component:{});this.pageTrackingArr={};this.mainPageTrackingObj={};e.isEnabled?e.registerOnInitialized(this.init.bind(this,
a)):this.init(a)};c.prototype={init:function(a){this.substituteDocumentWrite(this.options.debug);this.options.debug&&console.log("Tracking.init");this.trackingObj=b.extend(!0,{},a);this.trackingObj.pages&&(this.pageTrackingArr=this.trackingObj.pages,this.mainPageTrackingObj=this.trackingObj.pages[0],this.options.isDevMode="prod"!==this.mainPageTrackingObj.page.pageInfo.devEnv);e.registerOnUserConsentChange(this.initOnUserConsentChange.bind(this));this.initOnUserConsentChange(e.isUsageAllowed("analytics")?
"GIVEN":"REJECTED","analytics")},initOnUserConsentChange:function(a,c){this.options.debug&&console.log("Tracking.initOnConsentChange. consentId\x3d",c," to ",a);if("analytics"===c&&this.lastConsentState!==a){if("GIVEN"!==a){try{this.trackingObj.pages[0].events=[]}catch(h){console.log("Tracking.initOnConsentChange. cannot remove events.")}if(void 0!==this.lastConsentState)return}this.lastConsentState=a;var d=this;this.components=b.extend(!0,{},this.trackingObj.pages[0].component);e.checkPresentAndInit().then(function(){d.options.cookiesAllowed=
e.isUsageAllowed("cc_digital_userCookie");d.options.debug&&console.log("Tracking.init cookiesAllowed",d.options.cookiesAllowed)}).always(function(){d.initValues(d.mainPageTrackingObj.page.pageInfo,d.mainPageTrackingObj.page.attributes);d.initUser();d.initListeners()})}},initValues:function(a,c,f,g,k){this.options.debug&&console.log("Tracking.initValues() ",a,c);f=f||document.location.href;g=g||document.referrer;k=JSON.parse(e.isEnabled&&!k?e.getCookie("cc_digital_eventAttributes"):"{}");b.extend(a,
{destinationUrl:f,referringUrl:g,pageInstanceId:this.buildPageInstanceId(a.pageInstanceId),destinationQuery:f.split("?")[1]||f.split("#")[1]||""});b.extend(c,k,{pageResponsiveType:768<b(window).width()?"wide":"narrow"})},initUser:function(){this.options.debug&&console.log("Tracking.initUser()");var a=this.mainPageTrackingObj.user[0].profileInfo||{},b=this.getSessionCookie(),c=this.getUserCookie(),g=e.isEnabled?e.getCookie("cc_digital_profileCookie"):!1,k=""!==c.sessionID&&b!==c.sessionID,m=e.isEnabled?
parseInt(c.sessionIDx||1,10):null;a.sessionIDx=m+"";this.options.cookiesAllowed&&(k?(a.sessionIDx=(m+1).toString(),a.returningStatus="true"):a.returningStatus="false",a.visitorID=c.visitorID?c.visitorID:b);a.sessionID=b;this.storeUserCookie(a);g&&this.updateUser(g)},initListeners:function(){this.options.debug&&console.log("Tracking.initListeners()")},initComponentTracking:function(a,c){this.options.debug&&console.log("Tracking.initComponentTracking",a,c);var d=this.isJQueryObject(a),e=!1,g=0,m={},
k=0;try{if(d&&this.handleErrors(!a.length,3),g=d?a.data("tracking-index"):void 0,m=d?a.data("tracking-component"):a,k=d?0:this.getLastActiveVirtualPageId(),d?this.handleErrors(!m,4):this.handleErrors(null===m||"object"!==typeof m,5),"undefined"!==typeof g)this.updateComponentTracking(a,m,c);else{c&&(e=this.getVirtualPage(c));this.handleErrors(c&&!e,1);e&&(k=c);this.pageTrackingArr[k].component=this.pageTrackingArr[k].component||[];var l=b.extend(!0,{},m);this.pageTrackingArr[k].component.push(l);
g=this.pageTrackingArr[k].component.length-1;d&&(this.storeComponentIndex(a,g),this.storePageIndex(a,k));this.triggerEvent("initComponentTracking",[k,this.getPageObject(k)]);return{pageId:k,componentIndex:g}}}catch(t){return t}},initProductTracking:function(a,c){this.options.debug&&console.log("Tracking.initProductTracking",a,c);var d=!1,e={},g=!1,m=0,k={},l=0,t="undefined"!==typeof c?c:this.getLastActiveVirtualPageId();try{if(d=a instanceof b)e=a,handleErrors(!e.length,3);m=d?e.data("tracking-product-index"):
void 0;k=d?e.data("tracking-product"):a;d?this.handleErrors(!k,4):this.handleErrors(null===k||"object"!==typeof k,5);if("undefined"!==typeof m)this.updateProductTracking(e,k,c);else{g=this.getVirtualPage(t);this.handleErrors(!g,1);g&&(l=t);var r=b.extend(!0,{},k);this.pageTrackingArr[l].product.push(r);m=this.pageTrackingArr[l].product.length-1;d&&this.storeProductIndex(e,m);this.triggerEvent("initProductTracking",[l,this.getPageObject(l)]);return{pageId:l,productIndex:m}}}catch(v){return v}},initCartTracking:function(a){this.options.debug&&
console.log("Tracking.initCartTracking",a);"undefined"===typeof this.mainPageTrackingObj.cart&&(this.mainPageTrackingObj.cart={});try{var c=JSON.stringify(this.mainPageTrackingObj.cart);!b.isEmptyObject(a)&&b.isPlainObject(a)&&(this.mainPageTrackingObj.cart=a);this.triggerEvent("initCartTracking",[0,this.mainPageTrackingObj]);return JSON.stringify(this.mainPageTrackingObj.cart)!==c}catch(f){return f}},initTransactionTracking:function(a){this.options.debug&&console.log("Tracking.initTransactionTracking",
a);"undefined"===typeof this.mainPageTrackingObj.transaction&&(this.mainPageTrackingObj.transaction={});try{var c=JSON.stringify(this.mainPageTrackingObj.transaction);!b.isEmptyObject(a)&&b.isPlainObject(a)&&(this.mainPageTrackingObj.transaction=a);this.triggerEvent("initTransactionTracking",[0,this.mainPageTrackingObj]);return JSON.stringify(this.mainPageTrackingObj.transaction)!==c}catch(f){return f}},getCookie:function(a){if(!this.options.cookiesAllowed)return a.cookiesDisallowed;e.getCookie(a.cookieId)||
e.setCookie(a.cookieId,a.cookieValue);return e.getCookie(a.cookieId)},getSessionCookie:function(){return this.getCookie({cookiesDisallowed:"",cookieId:"cc_digital_sessionCookie",cookieValue:parseInt(Date.now()*Math.random(),10)+""})},getUserCookie:function(){var a=this.getCookie({cookiesDisallowed:"{}",cookieId:"cc_digital_userCookie",cookieValue:JSON.stringify({visitorID:"",returningStatus:"false",sessionID:"",sessionIDx:"1"})});this.options.debug&&console.log("Tracking.getUserCookie",JSON.parse(a));
return JSON.parse(a)},getAllPages:function(){this.options.debug&&console.log("Tracking.getAllPages");return this.options.cookiesAllowed?this.convertToAdobeDTMProps(this.pageTrackingArr):[]},getPageObject:function(a){this.options.debug&&console.log("Tracking.getPageObject",a);try{this.handleErrors(void 0===a,2);var b=this.getVirtualPage(a);this.handleErrors(!b,1);return this.options.cookiesAllowed?this.convertToAdobeDTMProps(this.pageTrackingArr[a]):{}}catch(f){return f}},getCurrentPageIndex:function(){return this.trackingObj.activePageIndex},
getVirtualPage:function(a){this.options.debug&&console.log("Tracking.getVirtualPage",a);return void 0!==a&&this.pageTrackingArr[a]&&"true"!==this.pageTrackingArr[a].pageClosed?this.pageTrackingArr[a]:!1},getLastActiveVirtualPageId:function(){for(var a=this.pageTrackingArr.length;a--;)if("true"!==this.pageTrackingArr[a].pageClosed)return a},getEventAttributes:function(a){this.options.debug&&console.log("Tracking.getEventAttributes",a);var c=b(a.target),f=c.closest(".md-component"),e=c.data("event-attribute-object");
a={navigationLevel:e&&e.navigationLevel?e.navigationLevel+"":"5",navigationItemType:a.target.nodeName,navigationComponentId:f.attr("id")||"noId",navigationComponentName:f.data("component-name")||"noName",navigationSource:this.getPageObject(this.getCurrentPageIndex()).page.pageInfo.pageName,navigationItemWording:c.text(),navigationStickyType:e&&e.navigationStickyType?e.navigationStickyType:"",navigationStickyUse:e&&e.navigationStickyUse?e.navigationStickyUse:""};return a=b.extend(!0,a,e)},updateUser:function(a,
c,f){this.options.debug&&console.log("Tracking.updateUser",a,c,f);try{c&&""!==a&&(a=this.hashValue(a)),f&&this.options.cookiesAllowed&&e.setCookie("cc_digital_profileCookie",a),b.each(this.pageTrackingArr,function(b,c){c.user[0].profileInfo.profileId=a})}catch(h){return h}},updateComponentTracking:function(a,c,f){this.options.debug&&console.log("Tracking.updateComponentTracking",a,c,f);var d=this.isJQueryObject(a),e=a,g=[],k=!1;try{return this.handleErrors(void 0===f,2),this.handleErrors(!d&&"number"!==
typeof e,5),this.handleErrors(null===c||"object"!==typeof c,5),d&&(e=a.data("tracking-index"),this.handleErrors(void 0===e,4)),k=this.getVirtualPage(f),this.handleErrors(!k,1),g=this.pageTrackingArr[f].component,b.extend(!0,g[e],c),this.triggerEvent("updateComponentTracking",[f,this.getPageObject(f)]),{pageId:f,componentIndex:e}}catch(l){return l}},updateProductTracking:function(a,c,f){this.options.debug&&console.log("Tracking.updateProductTracking",a,c,f);var d=this.isJQueryObject(a),e=a,g=[],k=
!1;try{return this.handleErrors(void 0===f,2),this.handleErrors(!d&&"number"!==typeof e,5),this.handleErrors(null===c||"object"!==typeof c,5),d&&(e=a.data("tracking-product-index"),this.handleErrors(void 0===e,4)),k=this.getVirtualPage(f),this.handleErrors(!k,1),g=this.pageTrackingArr[f].product,b.extend(!0,g[e],c),this.triggerEvent("updateProductTracking",[f,this.getPageObject(f)]),{pageId:f,productIndex:e}}catch(l){return l}},updateCartTracking:function(a){this.options.debug&&console.log("Tracking.updateCartTracking",
a);"undefined"===typeof this.mainPageTrackingObj.cart&&(this.mainPageTrackingObj.cart={});try{var c=JSON.stringify(this.mainPageTrackingObj.cart);!b.isEmptyObject(a)&&b.isPlainObject(a)&&b.extend(!0,this.mainPageTrackingObj.cart,a);this.triggerEvent("updateCartTracking",[0,this.mainPageTrackingObj]);return JSON.stringify(this.mainPageTrackingObj.cart)!==c}catch(f){return f}},updateTransactionTracking:function(a){this.options.debug&&console.log("Tracking.updateTransactionTracking",a);"undefined"===
typeof this.mainPageTrackingObj.transaction&&(this.mainPageTrackingObj.transaction={});try{var c=JSON.stringify(this.mainPageTrackingObj.transaction);!b.isEmptyObject(a)&&b.isPlainObject(a)&&b.extend(!0,this.mainPageTrackingObj.transaction,a);this.triggerEvent("updateTransactionTracking",[0,this.mainPageTrackingObj]);return JSON.stringify(this.mainPageTrackingObj.transaction)!==c}catch(f){return f}},removeProductTracking:function(a,c){this.options.debug&&console.log("Tracking.removeProductTracking",
a,c);var d=this.isJQueryObject(a),e=a,g=null,m=!1;try{return this.handleErrors(void 0===c,2),this.handleErrors(!d&&"number"!==typeof e,5),d&&(e=a.data("tracking-product-index"),this.handleErrors(void 0===e,4)),m=this.getVirtualPage(c),this.handleErrors(!m,1),0<=e&&"undefined"!==typeof m.product[e]&&(g=m.product.splice(e,1)),this.triggerEvent("removeProductTracking",[c,this.getPageObject(c)]),!b.isEmptyObject(g)}catch(q){return q}},removeCartTracking:function(){this.options.debug&&console.log("Tracking.removeCartTracking");
try{return this.mainPageTrackingObj.cart={},this.triggerEvent("removeCartTracking",[0,this.mainPageTrackingObj]),!0}catch(a){return a}},removeTransactionTracking:function(){this.options.debug&&console.log("Tracking.removeTransactionTracking");try{return this.mainPageTrackingObj.transaction={},this.triggerEvent("removeTransactionTracking",[0,this.mainPageTrackingObj]),!0}catch(a){return a}},storeComponentIndex:function(a,b){this.options.debug&&console.log("Tracking.storeComponentIndex");a.attr("data-tracking-index",
b)},storePageIndex:function(a,b){this.options.debug&&console.log("Tracking.storePageIndex",b);a.attr("data-tracking-page-index",b)},storeProductIndex:function(a,b){this.options.debug&&console.log("Tracking.storeProductIndex",a,b);a.attr("data-tracking-product-index",b)},storeUserCookie:function(a){this.options.debug&&console.log("Tracking.storeUserCookie (persistence)",a);return e.setCookie("cc_digital_userCookie",JSON.stringify({visitorID:a.visitorID,returningStatus:a.returningStatus,sessionID:a.sessionID,
sessionIDx:a.sessionIDx||"1"}))},addVirtualPage:function(a,c,f){this.options.debug&&console.log("Tracking.addVirtualPage",a,c,f);var d={};b.extend(!0,d,a);this.pageTrackingArr.push(d);this.initValues(d.page.pageInfo,d.page.attributes,c,f,!0);this.trackingObj.activePageIndex=this.pageTrackingArr.length-1;this.duplicatePageDetails(this.trackingObj.activePageIndex);a=this.getPageObject(this.trackingObj.activePageIndex)||{};this.triggerEvent("addVirtualPage",[this.trackingObj.activePageIndex,a]);return{pageId:this.trackingObj.activePageIndex,
pageObj:a}},addEventTracking:function(a,c,f){this.options.debug&&console.log("Tracking.addEventTracking",a,c,f);var d={},e=0;try{var g=this.pageTrackingArr[f];this.handleErrors(void 0===f,2);this.handleErrors("object"!==typeof a,5);e=this.getVirtualPage(f);this.handleErrors(!e,1);b.extend(!0,d,a,c);g.event=this.pageTrackingArr[f].event||[];this.options.isDevMode?g.event.push(d):g.event[0]=d;this.triggerEvent("addEventTracking",[f,this.getPageObject(f)]);return{pageId:f,pageObj:g}}catch(q){return q}},
closeVirtualPage:function(a){this.options.debug&&console.log("Tracking.closeVirtualPage",a);var b=this.getVirtualPage(a),c=0,e={};try{return this.handleErrors(void 0!==a&&!b||0===this.getLastActiveVirtualPageId(),1),b?(this.options.isDevMode||(this.pageTrackingArr[a]={}),this.pageTrackingArr[a].pageClosed="true"):(c=this.getLastActiveVirtualPageId(),this.options.isDevMode||(this.pageTrackingArr[c]={}),this.pageTrackingArr[c].pageClosed="true"),this.trackingObj.activePageIndex=this.getLastActiveVirtualPageId(),
e=this.getPageObject(this.trackingObj.activePageIndex),this.triggerEvent("closeVirtualPage",[this.trackingObj.activePageIndex,e]),{pageId:this.trackingObj.activePageIndex,pageObj:e}}catch(n){return n}},closeAllVirtualPages:function(a){this.options.debug&&console.log("Tracking.closeAllVirtualPages",a);a=a&&a.closeAllAfterIdx||0;if(this.trackingObj&&this.trackingObj.pages)for(var b=this.trackingObj.pages.length;b>a;b--)this.getVirtualPage(b)&&this.closeVirtualPage(b)},trackClickEvents:function(a){this.options.debug&&
console.log("Tracking.trackClickEvents",a);var c=b(a.target),f={},g={},k={eventInfo:{eventName:a.currentTarget.innerText,eventAction:a.type,timeStamp:Date.now()}};c.hasClass("md-js-tracking-event")&&(f=c.closest(".md-js-tracking-event-parent").data("event-children"),g=c.data("event"));g=b.extend(!0,k,g);this.addEventTracking(f,g,this.getLastActiveVirtualPageId());this.options.cookiesAllowed&&e.setCookie("cc_digital_eventAttributes",JSON.stringify(this.getEventAttributes(a)));return!0},duplicatePageDetails:function(a){var c=
{user:[{profileInfo:this.mainPageTrackingObj.user[0].profileInfo}]};this.trackingObj&&this.trackingObj.pages&&b.extend(this.trackingObj.pages[a],c)},buildPageInstanceId:function(a){this.options.debug&&console.log("Tracking.buildPageInstanceId()",a);return a?a.replace(/\s+/g,"-").toLowerCase():a},convertToAdobeDTMProps:function(a){this.options.debug&&console.log("Tracking.convertToAdobeDTMProps",a);var c=["array","function","object"];(function n(a){for(var d in a)if(a.hasOwnProperty(d)){var e=a[d],
g=b.type(e);-1===b.inArray(g,c)?a[d]=e+"":("object"===g||"array"===g)&&n(a[d])}})(a);return a},hashValue:function(a){var b=b||function(a,b){var c={},d=c.lib={},f=function(){},e=d.Base={extend:function(a){f.prototype=this;var b=new f;a&&b.mixIn(a);b.hasOwnProperty("init")||(b.init=function(){b.$super.init.apply(this,arguments)});b.init.prototype=b;b.$super=this;return b},create:function(){var a=this.extend();a.init.apply(a,arguments);return a},init:function(){},mixIn:function(a){for(var b in a)a.hasOwnProperty(b)&&
(this[b]=a[b]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}},g=d.WordArray=e.extend({init:function(a,c){a=this.words=a||[];this.sigBytes=c!=b?c:4*a.length},toString:function(a){return(a||k).stringify(this)},concat:function(a){var b=this.words,c=a.words,d=this.sigBytes;a=a.sigBytes;this.clamp();if(d%4)for(var f=0;f<a;f++)b[d+f>>>2]|=(c[f>>>2]>>>24-f%4*8&255)<<24-(d+f)%4*8;else if(65535<c.length)for(f=0;f<a;f+=4)b[d+f>>>2]=c[f>>>
2];else b.push.apply(b,c);this.sigBytes+=a;return this},clamp:function(){var b=this.words,c=this.sigBytes;b[c>>>2]&=4294967295<<32-c%4*8;b.length=a.ceil(c/4)},clone:function(){var a=e.clone.call(this);a.words=this.words.slice(0);return a},random:function(b){for(var c=[],d=0;d<b;d+=4)c.push(4294967296*a.random()|0);return new g.init(c,b)}}),h=c.enc={},k=h.Hex={stringify:function(a){var b=a.words;a=a.sigBytes;for(var c=[],d=0;d<a;d++){var f=b[d>>>2]>>>24-d%4*8&255;c.push((f>>>4).toString(16));c.push((f&
15).toString(16))}return c.join("")},parse:function(a){for(var b=a.length,c=[],d=0;d<b;d+=2)c[d>>>3]|=parseInt(a.substr(d,2),16)<<24-d%8*4;return new g.init(c,b/2)}},w=h.Latin1={stringify:function(a){var b=a.words;a=a.sigBytes;for(var c=[],d=0;d<a;d++)c.push(String.fromCharCode(b[d>>>2]>>>24-d%4*8&255));return c.join("")},parse:function(a){for(var b=a.length,c=[],d=0;d<b;d++)c[d>>>2]|=(a.charCodeAt(d)&255)<<24-d%4*8;return new g.init(c,b)}},x=h.Utf8={stringify:function(a){try{return decodeURIComponent(escape(w.stringify(a)))}catch(z){throw Error("Malformed UTF-8 data");
}},parse:function(a){return w.parse(unescape(encodeURIComponent(a)))}},u=d.BufferedBlockAlgorithm=e.extend({reset:function(){this._data=new g.init;this._nDataBytes=0},_append:function(a){"string"==typeof a&&(a=x.parse(a));this._data.concat(a);this._nDataBytes+=a.sigBytes},_process:function(b){var c=this._data,d=c.words,f=c.sigBytes,e=this.blockSize,h=f/(4*e);h=b?a.ceil(h):a.max((h|0)-this._minBufferSize,0);b=h*e;f=a.min(4*b,f);if(b){for(var l=0;l<b;l+=e)this._doProcessBlock(d,l);l=d.splice(0,b);c.sigBytes-=
f}return new g.init(l,f)},clone:function(){var a=e.clone.call(this);a._data=this._data.clone();return a},_minBufferSize:0});d.Hasher=u.extend({cfg:e.extend(),init:function(a){this.cfg=this.cfg.extend(a);this.reset()},reset:function(){u.reset.call(this);this._doReset()},update:function(a){this._append(a);this._process();return this},finalize:function(a){a&&this._append(a);return this._doFinalize()},blockSize:16,_createHelper:function(a){return function(b,c){return(new a.init(c)).finalize(b)}},_createHmacHelper:function(a){return function(b,
c){return(new y.HMAC.init(a,c)).finalize(b)}}});var y=c.algo={};return c}(Math);(function(a){var c=b,d=c.lib,f=d.WordArray,e=d.Hasher;d=c.algo;for(var g=[],k=[],r=function(a){return 4294967296*(a-(a|0))|0},v=2,w=0;64>w;){a:{var x=v;for(var u=a.sqrt(x),y=2;y<=u;y++)if(!(x%y)){x=!1;break a}x=!0}x&&(8>w&&(g[w]=r(a.pow(v,.5))),k[w]=r(a.pow(v,1/3)),w++);v++}var B=[];d=d.SHA256=e.extend({_doReset:function(){this._hash=new f.init(g.slice(0))},_doProcessBlock:function(a,b){for(var c=this._hash.words,d=c[0],
f=c[1],e=c[2],g=c[3],h=c[4],l=c[5],m=c[6],n=c[7],v=0;64>v;v++){if(16>v)B[v]=a[b+v]|0;else{var w=B[v-15],q=B[v-2];B[v]=((w<<25|w>>>7)^(w<<14|w>>>18)^w>>>3)+B[v-7]+((q<<15|q>>>17)^(q<<13|q>>>19)^q>>>10)+B[v-16]}w=n+((h<<26|h>>>6)^(h<<21|h>>>11)^(h<<7|h>>>25))+(h&l^~h&m)+k[v]+B[v];q=((d<<30|d>>>2)^(d<<19|d>>>13)^(d<<10|d>>>22))+(d&f^d&e^f&e);n=m;m=l;l=h;h=g+w|0;g=e;e=f;f=d;d=w+q|0}c[0]=c[0]+d|0;c[1]=c[1]+f|0;c[2]=c[2]+e|0;c[3]=c[3]+g|0;c[4]=c[4]+h|0;c[5]=c[5]+l|0;c[6]=c[6]+m|0;c[7]=c[7]+n|0},_doFinalize:function(){var b=
this._data,c=b.words,d=8*this._nDataBytes,f=8*b.sigBytes;c[f>>>5]|=128<<24-f%32;c[(f+64>>>9<<4)+14]=a.floor(d/4294967296);c[(f+64>>>9<<4)+15]=d;b.sigBytes=4*c.length;this._process();return this._hash},clone:function(){var a=e.clone.call(this);a._hash=this._hash.clone();return a}});c.SHA256=e._createHelper(d);c.HmacSHA256=e._createHmacHelper(d)})(Math);return b.SHA256(b.enc.Utf8.parse(a)).toString(b.enc.Hex)},triggerEvent:function(a,c){this.options.debug&&console.log("Tracking.triggerEvent","digital:tracking:"+
a);this.options.cookiesAllowed&&b(window).trigger("digital:tracking:"+a,c)},handleErrors:function(a,b){if(a)throw a=g["CODE"+b],this.options.isDevMode&&console&&console.error&&console.error.apply(console,a),a;},isJQueryObject:function(a){return a instanceof b},isTrackingDisabled:function(){return!this.options.cookiesAllowed},substituteDocumentWrite:function(a){document.write=function(b){a&&console.error("Tracking.substituteDocumentWrite - called document.write with:",b);document.body.insertAdjacentHTML("beforeend",
b)}}};return c});define("core/trackingAdapter/TrackingMessages",function(){return{channel:"md:trackingadapter",events:{UNREGISTER:"unregister",TRIGGER_EVENT:"trigger:event"}}});
define("core/TrackingAdapter",["jquery","core/CookieAdapter","core/trackingAdapter/Tracking","core/trackingAdapter/TrackingMessages","core/TrackingAdapter/TrackingTarget"],function(b,e,k,g,c){var a=null;return{targetSubscriptions:[],init:function(b){if("undefined"===typeof b||b==={})return console.error("TrackingAdapter.init : dataLayer is not available"),!1;a=a||new k(b);e.isInitialized()?requestAnimationFrame(function(){document.dispatchEvent(new CustomEvent("digital:tracking:ApiLoaded"))}):e.checkPresentAndInit().then(function(){document.dispatchEvent(new CustomEvent("digital:tracking:ApiLoaded"))})},
getInstance:function(){return a},getMessages:function(){return g},register:function(a,b,e){this.targetSubscriptions.push(new c(this,a,b,e));return this}}});
define("core/TrackingAdapter/TrackingTarget",["jquery","core/trackingAdapter/TrackingMessages","core/Messagebus","core/Debugger","core/utils/scrollspy"],function(b,e,k,g,c){var a=function(a,f,e,k){this.$element=b(f);this.callbackFn=k;this.staticDataObj=e||{};this.targetSubscriptions=a.targetSubscriptions;this.trackingInstance=a.getInstance();this.scrollSpy=c.init();this.pageIndex="undefined"!==typeof this.$element.attr("data-loader")?this.$element.data("tracking-page-index"):this.$element.parents("[data-loader]").data("tracking-page-index");
this.debugMode=g.isDebugEnabled("tracking");this.timer=null;this.init()};a.prototype={init:function(){this.initEvents()},getProperty:function(a){if(this.staticDataObj.hasOwnProperty(a))return this.staticDataObj[a];try{return this.callbackFn()[a]}catch(f){return console.error(f),null}},initEvents:function(){k.subscribe({channel:e.channel,topic:e.events.UNREGISTER,callback:this.unregister.bind(this)});this.scrollSubscription=k.subscribe({channel:this.scrollSpy.messages.channel,topic:this.scrollSpy.messages.events.SCROLL,
callback:this.onScroll.bind(this)});k.subscribe({channel:e.channel,topic:e.events.TRIGGER_EVENT,callback:this.triggerEvent.bind(this)})},unregister:function(a){a===this.$element[0]&&(a=this.targetSubscriptions.indexOf(this),-1<a&&(this.targetSubscriptions.splice(a,1),k.unsubscribe(this.scrollSubscription)))},isVisible:function(){if(this.$element.is(":hidden"))return!1;var a=document.querySelector("main").getBoundingClientRect(),b=this.$element[0].getBoundingClientRect(),c=b.height*(this.isViewed?
1:.2),e=window.innerHeight||document.documentElement.clientHeight,g=0>=b.top&&b.bottom>=e;c=b.top>=0-c&&b.bottom-c<=e;return b.left>=a.left&&b.right<=a.right&&(g||c)},onScroll:function(a){if(window!==a.target)return!1;a=this.isVisible();this.debugMode&&this.$element.toggleClass("md-debug-tracking-inview",a);a&&!this.isViewed?(this.isViewed=!0,this.timer=window.setTimeout(this.trackEvent.bind(this,this.callbackFn()),500)):!a&&this.isViewed&&(this.isViewed=!1,window.clearTimeout(this.timer))},triggerEvent:function(a){if(a.element===
this.$element[0]){this.debugMode&&this.$element.addClass("md-debug-tracking-inview");this.isViewed=!0;try{this.trackEvent(a.callbackFn())}catch(f){console.error(f)}}},trackEvent:function(a){a=b.extend(!0,{},this.getProperty("defaultEventObj"),a,{eventInfo:{timeStamp:Date.now().toString()}});"undefined"!==typeof a.category&&"component impression"===a.category.primaryCategory&&this.unregister(this.$element[0]);try{this.trackingInstance.addEventTracking(this.getProperty("defaultObj"),a,this.pageIndex)}catch(f){console.error(f)}}};
return a});
define("core/TrackingAdapter/TrackingImpression",["core/TrackingAdapter","core/IntersectionObserverAdapter","core/TrackingAdapter/utils/Dispatcher","core/TrackingAdapter/utils/Helper"],function(b,e,k,g){var c=b.getInstance();b=function(a,b,c){this._event=a||function(){return{}};this._defaultEventData=b||{};this._options=c||{};this._observer=e.register(this._onIntersection.bind(this),{threshold:[.1,.2,.3,.4,.5,.6,.7,.8,.9,1]})};b.prototype={TARGET_UID_KEY:"trackingUid",DEFAULT_DELAY:[500,3E3],DEFAULT_THRESHOLD:.8,
_viewportHeight:window.innerHeight||document.documentElement.clientHeight,_defaultEventData:{},_dispatchers:{},_onIntersection:function(a){a.forEach(this._debounceEventExecution,this)},_debounceEventExecution:function(a){var b=this._getTargetUid(a.target),c=Math.round(10*a.intersectionRatio)/10,e=a.boundingClientRect.height>=this._viewportHeight?this._calculateFillingViewportThreshold(a):this._options.threshold||this.DEFAULT_THRESHOLD;c=c>=e;"undefined"===typeof this._dispatchers[b]?(c=Array.prototype.concat(this._options.delay||
this.DEFAULT_DELAY),this._dispatchers[b]=c.map(function(c){return new k(c,this._trackImpression.bind(this,a,b,c))},this)):c?this._dispatchers[b].forEach(function(a){a.execute()}):this._dispatchers[b].forEach(function(a){a.cancel()})},_getTargetUid:function(a){return"undefined"!==typeof a.dataset[this.TARGET_UID_KEY]?a.dataset[this.TARGET_UID_KEY]:a.dataset[this.TARGET_UID_KEY]=g.generateUid()},_calculateFillingViewportThreshold:function(a){return Math.min(Math.floor(a.rootBounds.height/a.boundingClientRect.height*
10)/10,this._options.threshold||this.DEFAULT_THRESHOLD)},_trackImpression:function(a,b,f){!this._options.repeat&&this._dispatchers[b].every(k.isResolved)&&this._observer.unobserve(a.target);try{c.addEventTracking(this._defaultEventData,g.deepExtend({},this._event(a.target),{eventInfo:{eventPoints:(f/1E3).toString(),timeStamp:Date.now().toString()}}),0)}catch(h){console.error(h)}},addTarget:function(a){e.observe.call(this._observer,a);return this}};return b});
define("core/TrackingAdapter/utils/Dispatcher",[],function(){var b=function(b,k){this._delay=b;this._callback=k;this.resolved=!1};b.isResolved=function(b){return b.resolved};b.prototype={execute:function(){"undefined"!==typeof this._timer||this.resolved||(this._timer=setTimeout(this._trigger.bind(this),this._delay))},_trigger:function(){this._callback();this.resolved=!0},cancel:function(){"undefined"!==typeof this._timer&&(clearTimeout(this._timer),this._timer=void 0)}};return b});
define("core/TrackingAdapter/utils/Helper",[],function(){function b(e){e=e||{};for(var k=1;k<arguments.length;k++){var g=arguments[k];if(g)for(var c in g)g.hasOwnProperty(c)&&(e[c]="object"===typeof g[c]?b(e[c],g[c]):g[c])}return e}return{generateUid:function(){return Math.round(0x41c21cb8e1000000*Math.random()).toString(36)},deepExtend:b}});
require(["jquery","lodash"],function(b,e){var k=consentcontroller.api,g=function(){this.defaults={dragConsentThreshold:5,throttleAmount:25,debug:!1};this.dragSwipeSelectors=".slick-list.draggable, .visualizer-wrapper-swipe.js-swipe";this.consentInteractionTargets="btn icn slick-arrow js-accordion-item-header js-arrow js-consent scroll-bar md-nav-item-link button mci-teaser-item mci-teaser-list-tag md-pf-feature-group-tab md-contentexpander-toggle link md-icnpre-mini-logo md-ss-range-item md-pms-select js-mit-toggle md-ppni-item-inner model-name__product-selector-link js-is-consent-interaction".split(" ");
this.consentInteractionExceptions=["md-footer-link","js-consent-none","js-disclaimer-btn-pdh-not-available"];this.consentInteractionExceptionOverwrites=["js-is-consent-interaction"];this.consentInteractionParentExceptions=".md-split-consent-stage, .md-split-consent-faq, .md-split-consent-fallback-teaser";"SOFT_OPT_IN"===k.getRegulationType()&&k.showDisclaimer()&&this.init()};g.prototype={init:function(){this.settings=b.extend({},this.defaults);this.initEventListener();var c=this;k.registerOnUserConsentChange(function(){c.exitEventListener()})},
initEventListener:function(){this.initClickEventListener();setTimeout(function(){this.initDragSwipeEventListener()}.bind(this),100)},exitEventListener:function(){this.$body.off("click.soft-opt-in");this.$dragSwipe.off(".soft-opt-in")},initClickEventListener:function(){this.$body=b(document.body);this.$body.on("click.soft-opt-in",function(b){!this.isConsentDrawerInteraction(b)&&this.isConsentInteraction(b)?this.settings.debug?console.log("Is consent"):this.acceptCookies():this.settings.debug&&(console.log("No consent"),
b.preventDefault(),b.stopPropagation())}.bind(this))},isConsentDrawerInteraction:function(b){return b.target&&"epaas-consent-drawer-shell"===(b.target.tagName||"").toLowerCase()},initDragSwipeEventListener:function(){this.$dragSwipe=b(document).find(this.dragSwipeSelectors);var c=!1,a=!1,d=0;this.$dragSwipe.on("mousedown.soft-opt-in",function(){c=!1;a=!0;d=0}).on("mousemove.soft-opt-in",e.throttle(function(){c=!0;a&&c&&(d++,d>this.settings.dragConsentThreshold&&(this.settings.debug?console.log("Is consent"):
this.acceptCookies()))}.bind(this),this.settings.throttleAmount)).on("mouseup.soft-opt-in",function(){a=!1}).on("mouseleave.soft-opt-in",function(){a=!1})},isConsentInteraction:function(c){c=b(c.target);var a=c.attr("class"),d=new RegExp(this.consentInteractionExceptions.join("|"),"g"),f=new RegExp(this.consentInteractionExceptionOverwrites.join("|"),"g"),e=new RegExp(this.consentInteractionTargets.join("|"),"g"),g=c.is("select"),m=c.is("input")||c.is("textarea"),k=0!==c.closest("a").length;e=a?null!==
a.match(e):!1;d=a?null!==a.match(d):!1;a=a?null!==a.match(f):!1;return(d|=0!==c.closest(this.consentInteractionParentExceptions).length)?a:g||m||k||e},acceptCookies:function(){this.exitEventListener();k.consentdrawer.then(function(b){b.acceptSoftOptIn()})}};return new g});
define("core/SnucService",["jquery","lodash","core/Debugger","core/utils/Environment"],function(b,e,k,g){return function(){function c(b){return b.replace(a,"")}var a=/\.sl[A-Z|a-z|0-9|=|\+|\-|_|\$]+/;return{removeExistingSnucSelector:c,getEncodedQuery2:function(a,f,e){var d=e.lat,g=e.lon,h=e.dist,l=e.buno,k=e.pricemin,r=e.pricemax,v=e.hpmin,w=e.hpmax,x=e.paginationpage,u=e.detailsearchmirrorcaps,y=e.detailBonnetStripes,B=e.detailUpholstery;e=e.detailEquipmentSelectionInputs;var z=function(a){return"number"===
typeof a?Number(Math.round(a)).toString(36):"X"},C=function(a){if("string"===typeof a){var b=1;a&&a.includes("PS")&&D&&(b=1/1.36);a&&a.includes("KW")&&!D&&(b=1.36);return Math.floor(NaN*b)}return"number"==typeof a?a:"X"},A=function(a,c){a.each(function(a,d){console.log("inputfield",b(d).val());a=b(d).data(c);console.log("bitindexdataattributename",a)})};var D="KW"==b("[data-snuc-initialpowerunit]").data("snuc-initialpowerunit");if("object"===typeof x&&2==x.length){0==x?0:x;var H=0>=x[0]?0:x[0];var F=
0>=x[1]?0:x[1];H=C(H);F=C(F)}d=C(1E4*d);g=C(1E4*g);h=C(h);if("object"===typeof l&&null!==l){x="";if(l.hasOwnProperty("bunos")&&null!==l.bunos&&l.bunos&&0<l.bunos.length){var G=l.bunos.map(function(a){return z(C(a))});x+=G.join("-")}l.hasOwnProperty("cityArray")&&null!==l.cityArray&&l.cityArray&&0<l.cityArray.length&&(G=l.cityArray.map(function(a){return"c_"+btoa(encodeURI(a))}),x+=x.length?"-"+G.join("-"):G.join("-"));l.hasOwnProperty("multiDealerArray")&&null!==l.multiDealerArray&&l.multiDealerArray&&
0<l.multiDealerArray.length&&(l=l.multiDealerArray.map(function(a){return"m_"+z(C(a))}),x+=x.length?"-"+l.join("-"):l.join("-"));l=x.length?x:z(C(null))}v=C(v);w=C(w);v>w&&(0!=w?(x=w,w=v,v=x):w=2147483647);k>r&&(0!=r?(x=r,r=k,k=x):r=2147483647);k=0!=k?k:0;r=0!=r?r:2147483647;f=A(f)+"$"+z(d)+"$"+z(g)+"$"+z(h)+"$"+l+"$"+z(k)+"$"+z(r)+"$"+z(v)+"$"+z(w)+"$"+z(H)+"$"+z(F)+"$"+function(a){var c="";a.each(function(a,d){a=b(d).val();if(d.selected||d.checked)c+=a+"E"});return c}(e)+"$"+A(u,"bitindex-roofandmirrorcaps")+
"$"+A(y,"bitindex-bonnetstripes")+"$"+A(B,"bitindex-upholstery");a=c(a);a=a.replace(".html",".sl"+f.replace(/\$/g,"#")+".html").replace(/#/g,"$");return{targetUrl:a,snucSelector:f}},getUrlSafeBase64Encoding:function(a){return btoa(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}}}()});
define("core/Slider","jquery lodash slick core/Messagebus core/utils/viewportspy core/componentInitializer core/utils/DirectionRTL".split(" "),function(b,e,k,g,c,a,d){k=function(a,c){if(c)return this.settings=b.extend({rtl:d.isEnabled()},c),this.$element=b(a),this.isSlickInitialized=!1,this.messages={channel:"md:slider",events:{SLIDE_OUT:"slide:out"}},this.init(),{init:this.init.bind(this),destroy:this.destroy.bind(this),refresh:this.refresh.bind(this),isSlickInitialized:this.isSlickInitialized,slick:this.$element.slick("getSlick"),
pause:this.pauseAutoslide.bind(this),play:this.playAutoslide.bind(this)}};k.prototype={init:function(){this.initEvents();this.isSlickInitialized||(this.$element.on("init",this.onSlickInit.bind(this)),this.$element.on("unslick",this.onSlickDestroy.bind(this)),this.$element.on("beforeChange",this.onSlickBeforeChange.bind(this)),this.$element.slick(this.settings));this.updateVideos()},initEvents:function(){null!==this.settings&&1==this.settings.autoplay&&g.subscribe({channel:"md:video",topic:"state:change",
callback:this.onPlayerStateChange.bind(this)});this.$element.find(".md-video-player").on("touchmove.slick mousemove.slick",function(a){a.stopPropagation()})},destroy:function(){this.isSlickInitialized&&this.$element.slick("unslick")},refresh:function(){this.destroy();this.init()},onSlickInit:function(){this.isSlickInitialized=!0},onSlickDestroy:function(){this.isSlickInitialized=!1},onSlickBeforeChange:function(c,d,k,m){var f=b(c.currentTarget).find(".slick-cloned");f.length||(f=b(c.currentTarget).find(".slick-slide"));
c=f.find("[data-loader]").not(".md-component--initialized");0<c.length&&b(c).each(function(c,d){a.initElement(b(d))});k!=m&&(d=b(d.$slides[k]),e.isFunction(b.publish)&&b.publish("md:carousel:slide:out",[d]),g.publish({channel:this.messages.channel,topic:this.messages.events.SLIDE_OUT,data:{container:d}}),a.init(d))},onPlayerStateChange:function(a){b.contains(this.$element[0],a.player.a||a.player.container)&&("1"!=a.state&&"3"!=a.state||this.pauseAutoslide(),"0"!=a.state&&"2"!=a.state||this.playAutoslide())},
pauseAutoslide:function(){this.isSlickInitialized&&this.$element.slick("slickPause")},playAutoslide:function(){this.isSlickInitialized&&this.$element.slick("slickPlay")},updateVideos:function(){this.$element.find(".slick-cloned .md-video-player").each(function(a,d){a=b(d).find(".md-video-item");"undefined"!==typeof a&&(b("\x3cimg /\x3e",{"class":"slick-cover",src:c.viewportData.minwidth.tabletPortrait?a.data("imageWidePath"):a.data("imageNarrowPath")}).insertAfter(d),b(d).remove())});this.$element.find(".slick-cloned .md-youtubeplayer").each(function(a,
c){a=b(c);var d=a.data("yt-id");b('\x3cdiv class\x3d"slick-cover slick-cover-yt"\x3e\x3cimg src\x3d"https://img.youtube.com/vi/'+d+'/mqdefault.jpg" /\x3e\x3c/div\x3e').insertAfter(c);a.remove()})}};return k});
define("core/CosySlider/CosyView",[],function(){return function(b,e,k){var g="WALKAROUND"===k.pov;this.vehicle=b||"";this.PAINT=e.paint||"";this.fabric=e.fabric||"";this.SA=e.sa||[];this.align=e.align||"CENTER";this.cut=e.cut||0;this.height=e.height||"";this.width=e.width||"";this.bkgnd=e.bkgnd;this.w=g?4900:e.w;this.h=g?4900:e.h;this.x=g?2700:e.x;this.y=g?2600:e.y;this.var_plate=e.var_plate||"";this.pov=k.pov||"WALKAROUND";this.angle=k.angle||0}});
define("core/CosySlider",["jquery","core/CosySlider/CosyView","core/Slider","core/utils/cosyImage","bowser"],function(b,e,k,g,c){var a=[{pov:"WALKAROUND",angle:330},{pov:"FRONT",angle:0},{pov:"HEROSIDE",angle:0},{pov:"REARLEFT",angle:0},{pov:"REAR",angle:0}],d=function(a,c,d,e,g){this.$el=b(a);this.modelCode=c;this.images=this.prepareImages(d,e);this.thumbnailsImages=this.prepareImages(d,e);this.SLIDER_CLASS={SLIDER:"cosy-slider",THUMBNAILS:"cosy-slider__thumbnails"};(this.isSliderWithThumbnails=
g&&1280<=b(window).width())?(this.container=this.prepareContainer(),this.thumbnailsContainer=this.prepareThumbnailsContainer(),this.slider=new k(this.container,this.getSettings()),this.thumbnailsSlider=new k(this.thumbnailsContainer,this.getThumbnailsSettings())):(this.container=this.prepareContainer(),this.slider=new k(this.container,this.getSettings()),this.pagination=this.createPagination(),this.container.on("afterChange",function(){this.currentCount.text(this.slider.slick.currentSlide+1)}.bind(this)));
b(window).on("resize",function(){1280>b(window).width()?this.thumbnailsSlider&&(this.thumbnailsImages=null,this.thumbnailsSlider.destroy(),this.thumbnailsSlider=null,this.thumbnailsContainer.remove(),this.thumbnailsContainer=null,this.pagination=this.createPagination(),this.container.on("afterChange",function(){this.currentCount.text(this.slider.slick.currentSlide+1)}.bind(this))):this.thumbnailsSlider?this.thumbnailsSlider.slick.refresh():!this.thumbnailsSlider&&g&&(this.container.off("afterChange",
function(){}.bind(this)),this.pagination.remove(),this.pagination=null,this.container.remove(),this.container=null,this.thumbnailsImages=this.prepareImages(d,e),this.container=this.prepareContainer(),this.thumbnailsContainer=this.prepareThumbnailsContainer(),this.slider=new k(this.container,this.getSettings()),this.thumbnailsSlider=new k(this.thumbnailsContainer,this.getThumbnailsSettings()))}.bind(this))};d.prototype.prepareGeneral=function(a,b){return{paint:b,fabric:"",sa:a||[],h:7E3,w:7E3,x:1700,
y:1700,bkgnd:"TRANSPARENT"}};d.prototype.getSettings=function(){return{adaptiveHeight:!1,variableWidth:!1,autoplay:!1,draggable:!0,infinite:!0,arrows:!0,asNavFor:this.isSliderWithThumbnails?b("."+this.SLIDER_CLASS.THUMBNAILS,this.$el):null,prevArrow:this.$el.find(".js-prev"),nextArrow:this.$el.find(".js-next")}};d.prototype.getThumbnailsSettings=function(){return{slidesToShow:this.thumbnailsImages.length,asNavFor:b("."+this.SLIDER_CLASS.SLIDER,this.$el),dots:!1,centerMode:!1,focusOnSelect:!0}};d.prototype.prepareContainer=
function(){var a=b("\x3cdiv\x3e").addClass(this.SLIDER_CLASS.SLIDER);a.append(this.images);this.$el.append(a);return a};d.prototype.prepareThumbnailsContainer=function(){var a=b("\x3cdiv\x3e").addClass(this.SLIDER_CLASS.THUMBNAILS);a.append(this.thumbnailsImages);this.$el.append(a);return a};d.prototype.prepareImages=function(b,c){var d=this.prepareGeneral(b,c),f=this.modelCode;return a.map(function(a){return this.getSingleSetting(g.generateSrcset(new e(f,d,a)))}.bind(this)).map(function(a){return this.getImage(a.src,
a.srcset)}.bind(this))};d.prototype.getSingleSetting=function(a){return c.msie&&11===c.version?{src:a.split(",")[a.split(" ").length-2],srcset:a.split(",")[a.split(" ").length-2]}:{src:a.split(",")[a.split(" ").length-2],srcset:a}};d.prototype.getImage=function(a,c){a=b("\x3cimg\x3e",{src:a,"data-srcset":c,"data-sizes":"auto",alt:"Preview Image"});return b('\x3cdiv style\x3d"width: 100%; height: 100%; display: flex; align-items: center; justify-content: center"\x3e').append(a)};d.prototype.destroy=
function(){this.slider.destroy();this.container.remove();this.isSliderWithThumbnails?(this.thumbnailsSlider&&this.thumbnailsSlider.destroy(),this.thumbnailsContainer&&this.thumbnailsContainer.remove()):this.pagination.remove()};d.prototype.createPagination=function(){if(!this.currentCount){this.currentCount=b('\x3cspan class\x3d"cosy-slider__current"\x3e1\x3c/div\x3e');var a=b('\x3cdiv class\x3d"cosy-slider__container"\x3e').append(this.currentCount).append(b('\x3cspan class\x3d"cosy-slider__divider"\x3e/\x3c/span\x3e')).append(b('\x3cspan class\x3d"cosy-slider__count"\x3e'+
this.images.length+"\x3c/span\x3e"));this.$el.append(a);return a}return this.pagination};return d});define("core/Messagebus",["postal","postal.preserve"],function(b){return b});
define("core/IntersectionObserverAdapter",["require","core/utils/url","core/IntersectionObserverAdapter/Polyfill"],function(b,e,k){b="IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype;!b||"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return 0<this.intersectionRatio}});var g=b?IntersectionObserver:k;return{_registry:[],
register:function(b,a){this._registry.push(b=new g(b,a));return b},observe:function(b){Array.prototype.concat(b).forEach(this.observe,this);return this},unobserve:function(b){Array.prototype.concat(b).forEach(this.unobserve,this);return this}}});
define("core/IntersectionObserverAdapter/Polyfill",["jquery"],function(b){function e(a){this.time=a.time;this.target=a.target;this.rootBounds=a.rootBounds;this.boundingClientRect=a.boundingClientRect;this.intersectionRect=a.intersectionRect||f();this.isIntersecting=!!a.intersectionRect;a=this.boundingClientRect;a=a.width*a.height;var b=this.intersectionRect;b=b.width*b.height;this.intersectionRatio=a?Number((b/a).toFixed(4)):this.isIntersecting?1:0}function k(a,b){b=b||{};if("function"!==typeof a)throw Error("callback must be a function");
if(b.root&&1!==b.root.nodeType)throw Error("root must be an Element");this._checkForIntersections=g(this._checkForIntersections.bind(this),this.THROTTLE_TIMEOUT);this._callback=a;this._observationTargets=[];this._queuedEntries=[];this._rootMarginValues=this._parseRootMargin(b.rootMargin);this.thresholds=this._initThresholds(b.threshold);this.root=b.root||null;this.rootMargin=this._rootMarginValues.map(function(a){return a.value+a.unit}).join(" ")}function g(a,b){var c=null;return function(){c||(c=
setTimeout(function(){a();c=null},b))}}function c(a,b,c,d){"function"===typeof a.addEventListener?a.addEventListener(b,c,d||!1):"function"===typeof a.attachEvent&&a.attachEvent("on"+b,c)}function a(a,b,c,d){"function"===typeof a.removeEventListener?a.removeEventListener(b,c,d||!1):"function"===typeof a.detatchEvent&&a.detatchEvent("on"+b,c)}function d(a){try{var b=a.getBoundingClientRect()}catch(t){}if(!b)return f();b.width&&b.height||(b={top:b.top,right:b.right,bottom:b.bottom,left:b.left,width:b.right-
b.left,height:b.bottom-b.top});return b}function f(){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}function h(a,b){for(;b;){if(b===a)return!0;b=n(b)}return!1}function n(a){return(a=a.parentNode)&&11===a.nodeType&&a.host?a.host:a&&a.assignedSlot?a.assignedSlot.parentNode:a}var m=[];k.prototype.THROTTLE_TIMEOUT=100;k.prototype.POLL_INTERVAL=null;k.prototype.USE_MUTATION_OBSERVER=!0;k.prototype.observe=function(a){if(!this._observationTargets.some(function(b){return b.element===a})){if(!a||
1!==a.nodeType)throw Error("target must be an Element");this._registerInstance();this._observationTargets.push({element:a,entry:null});this._monitorIntersections();this._checkForIntersections()}};k.prototype.unobserve=function(a){this._observationTargets=this._observationTargets.filter(function(b){return b.element!==a});this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())};k.prototype.disconnect=function(){this._observationTargets=[];this._unmonitorIntersections();
this._unregisterInstance()};k.prototype.takeRecords=function(){var a=this._queuedEntries.slice();this._queuedEntries=[];return a};k.prototype._initThresholds=function(a){a=a||[0];Array.isArray(a)||(a=[a]);return a.sort().filter(function(a,b,c){if("number"!==typeof a||isNaN(a)||0>a||1<a)throw Error("threshold must be a number between 0 and 1 inclusively");return a!==c[b-1]})};k.prototype._parseRootMargin=function(a){a=(a||"0px").split(/\s+/).map(function(a){a=/^(-?\d*\.?\d+)(px|%)$/.exec(a);if(!a)throw Error("rootMargin must be specified in pixels or percent");
return{value:parseFloat(a[1]),unit:a[2]}});a[1]=a[1]||a[0];a[2]=a[2]||a[0];a[3]=a[3]||a[1];return a};k.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(c(window,"resize",this._checkForIntersections,!0),c(document,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in window&&(this._domObserver=new MutationObserver(this._checkForIntersections),
this._domObserver.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))};k.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,a(window,"resize",this._checkForIntersections,!0),a(document,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))};k.prototype._checkForIntersections=function(){var a=
this._rootIsInDom(),b=a?this._getRootRect():f();this._observationTargets.forEach(function(c){var f=c.element,g=d(f),h=this._rootContainsTarget(f),l=c.entry,m=a&&h&&this._computeTargetAndRootIntersection(f,b);c=c.entry=new e({time:window.performance&&performance.now&&performance.now(),target:f,boundingClientRect:g,rootBounds:b,intersectionRect:m});l?a&&h?this._hasCrossedThreshold(l,c)&&this._queuedEntries.push(c):l&&l.isIntersecting&&this._queuedEntries.push(c):this._queuedEntries.push(c)},this);this._queuedEntries.length&&
this._callback(this.takeRecords(),this)};k.prototype._computeTargetAndRootIntersection=function(a,b){if("none"!==window.getComputedStyle(a).display){var c=d(a);a=n(a);for(var f=!1;!f;){var e=null,g=1===a.nodeType?window.getComputedStyle(a):{};if("none"===g.display)return;a===this.root||a===document?(f=!0,e=b):a!==document.body&&a!==document.documentElement&&"visible"!==g.overflow&&(e=d(a));if(e){g=Math.max(e.top,c.top);var h=Math.min(e.bottom,c.bottom),l=Math.max(e.left,c.left);c=Math.min(e.right,
c.right);e=c-l;var m=h-g;c=0<=e&&0<=m&&{top:g,bottom:h,left:l,right:c,width:e,height:m};if(!c)break}a=n(a)}return c}};k.prototype._getRootRect=function(){if(this.root)var a=d(this.root);else{a=document.documentElement;var b=document.body;a={top:0,left:0,right:a.clientWidth||b.clientWidth,width:a.clientWidth||b.clientWidth,bottom:a.clientHeight||b.clientHeight,height:a.clientHeight||b.clientHeight}}return this._expandRectByRootMargin(a)};k.prototype._expandRectByRootMargin=function(a){var b=this._rootMarginValues.map(function(b,
c){return"px"===b.unit?b.value:b.value*(c%2?a.width:a.height)/100});b={top:a.top-b[0],right:a.right+b[1],bottom:a.bottom+b[2],left:a.left-b[3]};b.width=b.right-b.left;b.height=b.bottom-b.top;return b};k.prototype._hasCrossedThreshold=function(a,b){a=a&&a.isIntersecting?a.intersectionRatio||0:-1;b=b.isIntersecting?b.intersectionRatio||0:-1;if(a!==b)for(var c=0;c<this.thresholds.length;c++){var d=this.thresholds[c];if(d===a||d===b||d<a!==d<b)return!0}};k.prototype._rootIsInDom=function(){return!this.root||
h(document,this.root)};k.prototype._rootContainsTarget=function(a){return h(this.root||document,a)};k.prototype._registerInstance=function(){0>m.indexOf(this)&&m.push(this)};k.prototype._unregisterInstance=function(){var a=m.indexOf(this);-1!==a&&m.splice(a,1)};return k});
define("core/Individualization",["jquery","core/Messagebus","core/CookieAdapter"],function(b,e,k){var g={isAllowed:k.isUsageAllowed.bind(k,"cc_digital_individualization"),get:k.getCookie.bind(k,"cc_digital_individualization##persistentData"),set:k.setCookie.bind(k,"cc_digital_individualization##persistentData")};e={_state:{initialized:!1,individualizationAllowed:!0,storageAllowed:!0,lastIndividualizedBodyType:"",storage:{}},messagebus:e.channel("md:individualization"),events:{UPDATE:"update"},_init:function(){this.hasStoragePermission()&&
this._state.individualizationAllowed&&b.extend(this._state,{initialized:!0},JSON.parse(g.get())||{})},_syncWithLocalStorage:function(){this._state.storageAllowed&&this._state.individualizationAllowed&&g.set(JSON.stringify({storage:this._state.storage,lastIndividualizedBodyType:this._state.lastIndividualizedBodyType}))},_publishUpdate:function(){this.messagebus.publish(this.events.UPDATE)},hasStoragePermission:function(){this._state.storageAllowed=g.isAllowed();return this._state.storageAllowed},configure:function(b){this._state.storageAllowed=
this.hasStoragePermission();this._state.individualizationAllowed=b.individualizationAllowed},has:function(b){return this._state.individualizationAllowed?this._state.storage.hasOwnProperty(b):!1},get:function(b){return this._state.individualizationAllowed?("undefined"!==typeof b?this._state.storage.hasOwnProperty(b)?this._state.storage[b]:{}:this._state.storage[this.getLastIndividualizedBodyType()])||{}:{}},set:function(c,a){if(this._state.individualizationAllowed||"undefined"!==typeof a)this._state.storage.hasOwnProperty(c)?
b.extend(!0,this._state.storage[c],a):this._state.storage[c]=b.extend(!0,{},a),this._state.lastIndividualizedBodyType=c,this._syncWithLocalStorage(),this._publishUpdate()},remove:function(b){this._state.individualizationAllowed&&(this._state.storage.hasOwnProperty(b)&&delete this._state.storage[b],this._syncWithLocalStorage(),this._publishUpdate())},getLastIndividualizedBodyType:function(){return this._state.lastIndividualizedBodyType||Object.keys(this._state.storage)[0]||""}};e._init();return e});
define("core/Debugger",["jquery","core/utils/url"],function(b,e){var k={EXPIRE_PAST:(new Date(0)).toUTCString(),EXPIRE_SESSION:0,set:function(b,c){var a=c?k.EXPIRE_SESSION:k.EXPIRE_PAST;document.cookie=b+"\x3d"+escape(c)+"; path\x3d/; expires\x3d"+a},exists:function(b){return-1<document.cookie.indexOf(b+"\x3dtrue")}};return function(){var b=e.retrieveGetParams(),c;for(c in b)if(c.startsWith("debug-")){var a="debug-all"==c?"mini_debug_settings":"mini_debug_"+c.substring(6);"true"==b[c]?k.set(a,!0):
"false"==b[c]&&k.set(a,!1)}return{isDebugEnabled:function(a){return k.exists("mini_debug_settings")||k.exists("mini_debug_"+a)}}}()});
define("core/DealerService",["jquery","bluebird","Contentful","core/Debugger"],function(b,e,k,g){return function(){function c(){return new e(function(a,b){n.getEntries({"sys.id":h.dealerId,include:"10"}).then(function(b){0<b.items.length?a(b.items[0]):console.warn("no data found for entry id ",h.dealerId)})})}function a(){return f.hasOwnProperty(h.dealerId)?new e(function(a,b){a(f[h.dealerId].fields)}):c().then(function(a){m&&console.log(a);f[h.dealerId]=a;return new e(function(a,b){a(f[h.dealerId].fields)})})}
function d(b){return a().then(function(a){return new e(function(c,d){Array.isArray(a[b])?(d=a[b].filter(function(a,b,c){return"undefined"!==typeof a.fields}),c(d)):c(a[b])})})}var f={},h=b("#contentful-config").data(),n=k.createClient({accessToken:h.accessToken,space:h.space,host:h.isPreview?"preview.contentful.com":"cdn.contentful.com"}),m=g.isDebugEnabled("dealer-service"),q=function(){var a={renderMark:{},renderNode:{}};a.renderNode[contentfulRichText.exports.BLOCKS.PARAGRAPH]=function(a,b){return"\x3cp\x3e"+
b(a.content)+"\x3c/p\x3e"};return a}(),l=function(){var a={renderMark:{},renderNode:{}},b=function(a){return a},c=function(a,b){return""+b(a.content)};a.renderMark[contentfulRichText.exports.MARKS.BOLD]=b;a.renderMark[contentfulRichText.exports.MARKS.CODE]=b;a.renderMark[contentfulRichText.exports.MARKS.ITALIC]=b;a.renderMark[contentfulRichText.exports.MARKS.UNDERLINE]=b;a.renderNode[contentfulRichText.exports.BLOCKS.PARAGRAPH]=c;a.renderNode[contentfulRichText.exports.BLOCKS.EMBEDDED_ASSET]=c;a.renderNode[contentfulRichText.exports.BLOCKS.EMBEDDED_ENTRY]=
c;a.renderNode[contentfulRichText.exports.BLOCKS.HEADING_1]=c;a.renderNode[contentfulRichText.exports.BLOCKS.HEADING_2]=c;a.renderNode[contentfulRichText.exports.BLOCKS.HEADING_3]=c;a.renderNode[contentfulRichText.exports.BLOCKS.HEADING_4]=c;a.renderNode[contentfulRichText.exports.BLOCKS.HEADING_5]=c;a.renderNode[contentfulRichText.exports.BLOCKS.HEADING_6]=c;a.renderNode[contentfulRichText.exports.BLOCKS.HR]=c;a.renderNode[contentfulRichText.exports.BLOCKS.LIST_ITEM]=c;a.renderNode[contentfulRichText.exports.BLOCKS.OL_LIST]=
c;a.renderNode[contentfulRichText.exports.BLOCKS.PARAGRAPH]=c;a.renderNode[contentfulRichText.exports.BLOCKS.QUOTE]=c;a.renderNode[contentfulRichText.exports.BLOCKS.UL_LIST]=c;return a}();return{getDealergroupLocations:function(){return d("dealergroupLocations")},getNews:function(){return d("dealerNews")},getNewOffers:function(){return d("dealerOfferTiles")},getTeam:function(){return d("dealerTeam")},getDealerOfferFilterPriceRanges:function(){return d("dealerOfferFilterPriceRanges")},getDealerOfferFilterPowerRanges:function(){return d("dealerOfferFilterPowerRanges")},
getDealerConfiguration:function(){return d("dealerConfiguration")},getServiceOffers:function(){return d("dealerServiceOffers")},getAccessoriesOffers:function(){return d("dealerAccessoryOffers")},getActionOffers:function(){return d("dealerActionOffers")},getDealer:a,renderRichText:function(a){return"undefined"!==typeof a&&""!==a?contentfulRichText.documentToHtmlString(a,q):""},renderFlatRichText:function(a){return"undefined"!==typeof a&&""!==a?contentfulRichText.documentToHtmlString(a,l):""},checkExists:function(a,
b){for(b=b.split(".");b.length;)if(a=a[b.shift()],"undefined"===typeof a)return!1;return!0},checkExists2:function(a,b){for(b=b.split(".");b.length;)if(a=a[b.shift()],"undefined"==typeof a)return"";return a}}}()});define("core/CSRFToken",["jquery"],function(b){return function(){return{get:function(){return new Promise(function(e,k){b.ajax({method:"GET",url:"/libs/granite/csrf/token.json",success:function(b){e(b)},error:function(b){k(Error("Get token request failed"))}})})}}}()});
define("core/components/DumbComponent",["jquery","lodash"],function(b,e){function k(b,a,d,f){this.$el=b;b=this.$el.html();this.data=Object.assign({},a,this.$el.data(),d);!this.data.content&&b.length&&(this.data.content=b);f||this.render()}var g=!1;k.prototype.render=function(){g||(g=this.getTemplates());var c=g[this.data.component];c&&(c=b(c(this.data)),this.data.replace?(this.$el.replaceWith(c),this.$el=c):this.$el.html(c))};k.prototype.setData=function(b,a){this.data=a?b:Object.assign({},this.data,
b);this.render()};k.prototype.getTemplates=function(){return b('script[type\x3d"data/template"]').toArray().reduce(function(c,a){a=b(a);var d=a.data("name");c[d]=e.template(a.html());return c},{})};return k});
define("core/components/HTMLComponentInitializer",["jquery","core/components/DumbComponent"],function(b,e){return function(k,g){this.components=b("[data-component]",k).toArray().reduce(function(c,a){var d=b(a);if(d){var f=d.data("component");a=d.data("name");f&&(d=new (g.hasOwnProperty(f)?g[f]:e)(d),a&&(c[a]=d));return c}},{})}});
define("core/components/InheritedComponent",["core/components/DumbComponent"],function(b){var e=function(e,g){e&&(this.component=new b(e,g),this.$el=this.component.$el,this.renderElements(),this.attachEvents())};e.prototype.attachEvents=function(){};e.prototype.getElements=function(){return{}};e.prototype.createComponents=function(){return{}};e.prototype.renderElements=function(){this.components=this.createComponents();this.$elements=this.getElements()};e.prototype.setData=function(b,e){this.component.setData(b,
e);this.renderElements();this.attachEvents()};return e});
define("core/componentInitializer",["jquery","bluebird"],function(b,e){function k(){null==a&&g();return a}function g(){var e=b("[data-loader]");d+=e.length;b(document).trigger("componentInitialized",[d,f]);e.each(function(a,d){a=b(d);"direct"===a.attr("data-loader")&&(c(a),a.attr("data-loader",""))});a=e.lazy(h)}function c(a){return new e(function(c){var e=a[0],g=a.attr("data-component-path");"true"!==a.attr("data-component-initialized")?(f++,n&&"function"==typeof n.isTrackingDisabled&&a.data("trackingComponent")&&
!n.isTrackingDisabled()&&n.initComponentTracking(a),require([g],function(g){var h=null;"function"===typeof g?(h=new g(e),a.data("controller",h)):"object"===typeof g&&"function"===typeof g.init?(h=g.init.call(e,a),a.data("controller",h)):"object"===typeof g&&!0===g.__esModule&&"function"===typeof g.default&&(h=new g.default(e),a.data("controller",h));a.attr("data-component-initialized","true");a.addClass("md-component--initialized");b(document).trigger("componentInitialized",[d,f]);c(h)})):(g=a.data("controller"),
c(g))})}var a=null,d=0,f=0,h={threshold:0,bind:"event",chainable:!1,amdLoader:function(a){a=b(a);c(a)},direct:function(a){a=b(a);c(a)}},n={};return{init:function(a){n=digital.tracking.getInstance(window.dataLayer);k();void 0!==a&&(a=b(a).find("[data-loader]"),d+=a.length,b(document).trigger("componentInitialized",[d,f]),k().addItems(a),k().update())},initElement:c,getController:function(a,d){console.log("getController");a=b(a);if(!a.hasAttr("data-component-path"))return e.reject(Error("Given base element has no attribute 'data-component-path'"));
if(d)return c(a);a=a.data("controller");return e.resolve(a)},initAll:function(a){var d=b("*[data-component-path]");null!=a&&void 0!=a&&(d=b("*[data-component-path]",a));var f=[];d.each(function(a,d){a=b(d);f.push(c(a))});return e.all(f)},numberOfComponents:d,numberOfLoadedComponents:f}});
var config={baseUrl:"/etc.clientlibs",paths:{"apps/minidigital/components/accordion/clientlib":"minidigital/components/accordion/clientlib.min.20210719223909","apps/minidigital/components/accordion-item/clientlib":"minidigital/components/accordion-item/clientlib.min.20210719223909","apps/minidigital/components/acw-wishlist/clientlib":"minidigital/components/acw-wishlist/clientlib.min.20210719223909","apps/minidigital/components/atoms/animatedimage/clientlib":"minidigital/components/atoms/animatedimage/clientlib.min.20210719223909",
"apps/minidigital/components/atoms/button/clientlib":"minidigital/components/atoms/button/clientlib.min.20210719223909","apps/minidigital/components/atoms/motion/clientlib":"minidigital/components/atoms/motion/clientlib.min.20210719223909","apps/minidigital/components/atoms/richtext/clientlib":"minidigital/components/atoms/richtext/clientlib.min.20210719223909","apps/minidigital/components/atoms/youtube/clientlib":"minidigital/components/atoms/youtube/clientlib.min.20210719223909","apps/minidigital/components/backbutton/clientlib":"minidigital/components/backbutton/clientlib.min.20210719223909",
"apps/minidigital/components/campaigncountryselector/clientlib":"minidigital/components/campaigncountryselector/clientlib.min.20210719223909","apps/minidigital/components/carousel/clientlib":"minidigital/components/carousel/clientlib.min.20210719223909","apps/minidigital/components/configurator-con/clientlib/ConfiguratorCon":"minidigital/components/configurator-con/clientlib.min.20210719223909","apps/minidigital/components/content-stage/clientlib":"minidigital/components/content-stage/clientlib.min.20210719223909",
"apps/minidigital/components/contentcontainer/clientlib":"minidigital/components/contentcontainer/clientlib.min.20210719223909","apps/minidigital/components/cookies-consent/clientlib":"minidigital/components/cookies-consent/clientlib.min.20210719223909","apps/minidigital/components/dealerlocator/clientlib":"minidigital/components/dealerlocator/clientlib.min.20210719223909","apps/minidigital/components/dealerslider/clientlib":"minidigital/components/dealerslider/clientlib.min.20210719223909","apps/minidigital/components/electric-calculator/clientlib":"minidigital/components/electric-calculator/clientlib.min.20210719223909",
"apps/minidigital/components/emission-and-consumption-container/emission-and-consumption/clientlib":"minidigital/components/emission-and-consumption-container/emission-and-consumption/clientlib.min.20210719223909","apps/minidigital/components/fast-facts/clientlib":"minidigital/components/fast-facts/clientlib.min.20210719223909","apps/minidigital/components/fast-facts/content/clientlib":"minidigital/components/fast-facts/content/clientlib.min.20210719223909","apps/minidigital/components/featuregroup/clientlib":"minidigital/components/featuregroup/clientlib.min.20210719223909",
"apps/minidigital/components/glossaryentry/clientlib":"minidigital/components/glossaryentry/clientlib.min.20210719223909","apps/minidigital/components/glossaryindex/clientlib":"minidigital/components/glossaryindex/clientlib.min.20210719223909","apps/minidigital/components/glossarytooltip/clientlib":"minidigital/components/glossarytooltip/clientlib.min.20210719223909","apps/minidigital/components/header-toolbar/clientlib":"minidigital/components/header-toolbar/clientlib.min.20210719223909","apps/minidigital/components/home-dealerlocator/clientlib":"minidigital/components/home-dealerlocator/clientlib.min.20210719223909",
"apps/minidigital/components/home-returning-visitor-teaser/clientlib":"minidigital/components/home-returning-visitor-teaser/clientlib.min.20210719223909","apps/minidigital/components/home-product-strip/clientlib":"minidigital/components/home-product-strip/clientlib.min.20210719223909","apps/minidigital/components/home-teaser-gallery/clientlib":"minidigital/components/home-teaser-gallery/clientlib.min.20210719223909","apps/minidigital/components/homestage/clientlib":"minidigital/components/homestage/clientlib.min.20210719223909",
"apps/minidigital/components/introslider/clientlib":"minidigital/components/introslider/clientlib.min.20210719223909","apps/minidigital/components/legacy-browser-popup/clientlib":"minidigital/components/legacy-browser-popup/clientlib.min.20210719223909","apps/minidigital/components/mastercomponent/clientlib":"minidigital/components/mastercomponent/clientlib.min.20210719223909","apps/minidigital/components/mci-teaser-gallery/clientlib":"minidigital/components/mci-teaser-gallery/clientlib.min.20210719223909",
"apps/minidigital/components/mci-teaser-item/clientlib":"minidigital/components/mci-teaser-item/clientlib.min.20210719223909","apps/minidigital/components/mci-teaser-list/clientlib":"minidigital/components/mci-teaser-list/clientlib.min.20210719223909","apps/minidigital/components/modellineup/clientlib":"minidigital/components/modellineup/clientlib.min.20210719223909","apps/minidigital/components/moment-interaction-ctas/clientlib":"minidigital/components/moment-interaction-ctas/clientlib.min.20210719223909",
"apps/minidigital/components/moment-interaction-services/clientlib":"minidigital/components/moment-interaction-services/clientlib.min.20210719223909","apps/minidigital/components/moment-interaction-toolbox/clientlib":"minidigital/components/moment-interaction-toolbox/clientlib.min.20210719223909","apps/minidigital/components/offer-section/clientlib":"minidigital/components/offer-section/clientlib.min.20210719223909","apps/minidigital/components/offer-section-teaser/clientlib":"minidigital/components/offer-section-teaser/clientlib.min.20210719223909",
"apps/minidigital/components/offer-tile/clientlib":"minidigital/components/offer-tile/clientlib.min.20210719223909","apps/minidigital/components/offer-page/clientlib":"minidigital/components/offer-page/clientlib.min.20210719223909","apps/minidigital/components/page-back-button/clientlib":"minidigital/components/page-back-button/clientlib.min.20210719223909","apps/minidigital/components/panoramaview/clientlib":"minidigital/components/panoramaview/clientlib.min.20210719223909","apps/minidigital/components/preconfigure/clientlib":"minidigital/components/preconfigure/clientlib.min.20210719223909",
"apps/minidigital/components/privacydata/clientlib":"minidigital/components/privacydata/clientlib.min.20210719223909","apps/minidigital/components/product-editorial/clientlib":"minidigital/components/product-editorial/clientlib.min.20210719223909","apps/minidigital/components/product-editorial/toggle-container/clientlib":"minidigital/components/product-editorial/toggle-container/clientlib.min.20210719223909","apps/minidigital/components/product-estimator/clientlib":"minidigital/components/product-estimator/clientlib.min.20210719223909",
"apps/minidigital/components/product-fast-facts/clientlib":"minidigital/components/product-fast-facts/clientlib.min.20210719223909","apps/minidigital/components/product-feature-item/clientlib":"minidigital/components/product-feature-item/clientlib.min.20210719223909","apps/minidigital/components/product-features/clientlib":"minidigital/components/product-features/clientlib.min.20210719223909","apps/minidigital/components/product-gallery/clientlib":"minidigital/components/product-gallery/clientlib.min.20210719223909",
"apps/minidigital/components/product-inpage-navigation/clientlib":"minidigital/components/product-inpage-navigation/clientlib.min.20210719223909","apps/minidigital/components/product-model-summary/clientlib":"minidigital/components/product-model-summary/clientlib.min.20210719223909","apps/minidigital/components/product-page-navigation/clientlib":"minidigital/components/product-page-navigation/clientlib.min.20210719223909","apps/minidigital/components/product-pricing-communication/clientlib":"minidigital/components/product-pricing-communication/clientlib.min.20210719223909",
"apps/minidigital/components/product-selector/clientlib":"minidigital/components/product-selector/clientlib.min.20210719223909","apps/minidigital/components/product-selector/teaser/clientlib":"minidigital/components/product-selector/teaser/clientlib.min.20210719223909","apps/minidigital/components/product-stage/clientlib":"minidigital/components/product-stage/clientlib.min.20210719223909","apps/minidigital/components/progress-bar/clientlib":"minidigital/components/progress-bar/clientlib.min.20210719223909",
"apps/minidigital/components/quick-entries/clientlib":"minidigital/components/quick-entries/clientlib.min.20210719223909","apps/minidigital/components/range-overview/clientlib":"minidigital/components/range-overview/clientlib.min.20210719223909","apps/minidigital/components/remotecontentelement/clientlib":"minidigital/components/remotecontentelement/clientlib.min.20210719223909","apps/minidigital/components/smallmarketsdealer/clientlib":"minidigital/components/smallmarketsdealer/clientlib.min.20210719223909",
"apps/minidigital/components/snuc-carselection/clientlib":"minidigital/components/snuc-carselection/clientlib.min.20210719223909","apps/minidigital/components/snuc-detail/clientlib":"minidigital/components/snuc-detail/clientlib.min.20210719223909","apps/minidigital/components/snuc-filtersearch/clientlib":"minidigital/components/snuc-filtersearch/clientlib.min.20210719223909","apps/minidigital/components/snuc-similarcarsteaser/clientlib":"minidigital/components/snuc-similarcarsteaser/clientlib.min.20210719223909",
"apps/minidigital/components/social/clientlib":"minidigital/components/social/clientlib.min.20210719223909","apps/minidigital/components/split-consent-fallback-teaser/clientlib":"minidigital/components/split-consent-fallback-teaser/clientlib.min.20210719223909","apps/minidigital/components/split-consent-faq/item/clientlib":"minidigital/components/split-consent-faq/item/clientlib.min.20210719223909","apps/minidigital/components/split-consent-stage/clientlib":"minidigital/components/split-consent-stage/clientlib.min.20210719223909",
"apps/minidigital/components/tab-content/clientlib":"minidigital/components/tab-content/clientlib.min.20210719223909","apps/minidigital/components/tab-content/tab/clientlib":"minidigital/components/tab-content/tab/clientlib.min.20210719223909","apps/minidigital/components/tab-content/tabs/clientlib":"minidigital/components/tab-content/tabs/clientlib.min.20210719223909","apps/minidigital/components/tab-navigation-electric/clientlib":"minidigital/components/tab-navigation-electric/clientlib.min.20210719223909",
"apps/minidigital/components/table-item/clientlib":"minidigital/components/table-item/clientlib.min.20210719223909","apps/minidigital/components/accessories/clientlib":"minidigital/components/accessories/clientlib.min.20210719223909","apps/minidigital/components/teaser/clientlib":"minidigital/components/teaser/clientlib.min.20210719223909","apps/minidigital/components/videoplayer/clientlib":"minidigital/components/videoplayer/clientlib.min.20210719223909","apps/minidigital/components/visualizer/clientlib":"minidigital/components/visualizer/clientlib.min.20210719223909",
"apps/minidigital/components/visualizer-plus-electric/clientlib":"minidigital/components/visualizer-plus-electric/clientlib.min.20210719223909","apps/minidigital/components/youtubeplayer/clientlib":"minidigital/components/youtubeplayer/clientlib.min.20210719223909","apps/minidigital/components/_example/clientlib":"minidigital/components/_example/clientlib.min.20210719223909","apps/minidigital/components/snuc-carselection-productpage/clientlib":"minidigital/components/snuc-carselection-productpage/clientlib.min.20210719223909",
"apps/minidigital/components/special-equipment-visualisation/clientlib":"minidigital/components/special-equipment-visualisation/clientlib.min.20210719223909","apps/minidigital/components/pepo/clientlib":"minidigital/components/pepo/clientlib.min.20210719223909","apps/minidigital/components/micro-feedback/clientlib":"minidigital/components/micro-feedback/clientlib.min.20210719223909","apps/minidigital/components/rfo-local/clientlib":"minidigital/components/rfo-local/clientlib.min.20210719223909","apps/minidigital/components/new-modelshelf-container/clientlib":"minidigital/components/new-modelshelf-container/clientlib.min.20210719223909",
"apps/minidigital/components/pricing/clientlib":"minidigital/components/pricing/clientlib.min.20210719223909","apps/minidigital/components/feature-detail-view/clientlib":"apps/minidigital/components/feature-detail-view/clientlib.min.20210719223909","minidigital/components/cardatafaq/clientlib":"minidigital/components/cardatafaq/clientlib.min.20210719223909","apps/minidigital/components/product-compare/clientlib":"minidigital/components/product-compare/clientlib.min.20210719223909","apps/minidigital/minicom/components/doubleimage/clientlib":"minidigital/minicom/components/doubleimage/clientlib.min.20210719223909",
"apps/minidigital/components/electric-charge-animated/clientlib":"minidigital/components/electric-charge-animated/clientlib.min.20210719223909","apps/minidigital/components/genericlist/clientlib":"minidigital/components/genericlist/clientlib.min.20210719223909","apps/minidigital/components/lci/cgi-component/clientlib":"minidigital/components/lci/cgi-component/clientlib.min.20210719223909","apps/minidigital/components/lci/mosaic-gallery/clientlib":"minidigital/components/lci/mosaic-gallery/clientlib.min.20210719223909",
"apps/minidigital/components/lci-package-overview/clientlib":"minidigital/components/lci/lci-package-overview/clientlib.min.20210719223909","apps/minidigital/components/lci-visualizer/clientlib":"minidigital/components/lci/lci-visualizer/clientlib.min.20210719223909","apps/minidigital/components/lci-trim-overview/clientlib":"minidigital/components/lci/lci-trim-overview/clientlib.min.20210719223909","apps/minidigital/components/lci-model-table/clientlib":"minidigital/components/lci/lci-model-table/clientlib.min.20210719223909",
"apps/minidigital/components/lci/stream-navigation/clientlib":"minidigital/components/lci/stream-navigation/clientlib.min.20210719223909","apps/minidigital/components/lci/mit-2.0/clientlib":"minidigital/components/lci/mit-2.0/clientlib.min.20210719223909","apps/minidigital/components/lci/spacer/clientlib":"minidigital/components/lci/spacer/clientlib.min.20210719223909","apps/minidigital/components/lci/stage/clientlib":"minidigital/components/lci/stage/clientlib.min.20210719223909","apps/minidigital/components/lci-model-selection/clientlib":"minidigital/components/lci/lci-model-selection/clientlib.min.20210719223909",
"business.forms.aemform.connector":"business/forms/custom/aemform/clientlibs/connector.min.20210719223909","business.forms.aemform.postal":"business/forms/custom/aemform/clientlibs/settings.min.20210719223909","mini-close-button":"minidigital/components/formsclosebutton/clientlibs.min.20210719223909","mini-forms-payload":"minidigital/pages/formssuccesspage/payload/clientlibs.min.20210719223909","core/minidigital/Tracking":"settings/wcm/designs/minidigital-white/libs-js/core/trackingAdapter.min.20210719223909",
"core/minidigital/Utils":"settings/wcm/designs/minidigital-white/libs-js/core/utils.min.20210719223909",angular:"settings/wcm/designs/minidigital-white/libs-js.legacy/vendor/external/resources/angular.min",animate:"settings/wcm/designs/minidigital-white/libs-js.legacy/vendor/external/resources/angular-animate.min",uiRouter:"settings/wcm/designs/minidigital-white/libs-js.legacy/vendor/external/resources/angular-ui-router.min",slick:"settings/wcm/designs/minidigital-white/libs-js/vendor/slick.min",
velocity:"settings/wcm/designs/minidigital-white/libs-js/vendor/velocity.min",bluebird:"settings/wcm/designs/minidigital-white/libs-js/vendor/bluebird.min",bodymovin:"settings/wcm/designs/minidigital-white/libs-js/vendor/bodymovin.min",bowser:"settings/wcm/designs/minidigital-white/libs-js/vendor/bowser.min",conduitjs:"settings/wcm/designs/minidigital-white/libs-js/vendor/conduitjs.min",Contentful:"settings/wcm/designs/minidigital-white/libs-js/vendor/contentful.min",contentfulRichText:"settings/wcm/designs/minidigital-white/libs-js/vendor/contentfulRichtextrenderer.min",
Fuse:"settings/wcm/designs/minidigital-white/libs-js/vendor/fusejs.min",hammer:"settings/wcm/designs/minidigital-white/libs-js/vendor/hammer.min",handlebars:"settings/wcm/designs/minidigital-white/libs-js/vendor/handlebars.min",iscroll:"settings/wcm/designs/minidigital-white/libs-js/vendor/iscroll.min","jquery.mousewheel":"settings/wcm/designs/minidigital-white/libs-js/vendor/jquery-mousewheel.min","jquery.mCustomScrollbar":"settings/wcm/designs/minidigital-white/libs-js/vendor/jquery-mCustomScrollbar.min",
"jquery.scrollbar":"settings/wcm/designs/minidigital-white/libs-js/vendor/jquery-scrollbar.min",touchswipe:"settings/wcm/designs/minidigital-white/libs-js/vendor/jquery-touchswipe.min","jquery-bridget":"settings/wcm/designs/minidigital-white/libs-js/vendor/jquery-bridget.min","jquery-ui":"settings/wcm/designs/minidigital-white/libs-js/vendor/jquery-ui.min",lodash:"settings/wcm/designs/minidigital-white/libs-js/vendor/lodash.min",lottie:"settings/wcm/designs/minidigital-white/libs-js/vendor/lottie.min",
"lodash-3.10.1":"/etc/clientlibs/frontend-foundation/messagebus/3rdParty/lodash-3.10.1-legacy.min",masonry:"settings/wcm/designs/minidigital-white/libs-js/vendor/masonry.min",mustache:"settings/wcm/designs/minidigital-white/libs-js/vendor/mustache.min",odometer:"settings/wcm/designs/minidigital-white/libs-js/vendor/odometer.min",spritespin:"settings/wcm/designs/minidigital-white/libs-js/vendor/spritespin.min",tooltipster:"settings/wcm/designs/minidigital-white/libs-js/vendor/tooltipster.min",postal:"settings/wcm/designs/minidigital-white/libs-js/vendor/postal.min",
"postal.aem-form":"business/forms/custom/aemform/clientlibs/settings.min.20210719223909","postal.preserve":"settings/wcm/designs/minidigital-white/libs-js/vendor/postal-MODIFIED.min","postal.settings":"/etc/clientlibs/frontend-foundation/messagebus/postal-settings.min.20200709205447","postal.uuid":"/etc/clientlibs/frontend-foundation/messagebus/postal-uuid.min.20200709205447","postal.reqres":"/etc/clientlibs/frontend-foundation/messagebus/3rdParty/postal.request-response-0.3.1-MODIFIED.min.20200709205447",
"postal.federation":"/etc/clientlibs/frontend-foundation/messagebus/3rdParty/postal.federation-0.5.5.min.20200709205447","postal.xframe":"/etc/clientlibs/frontend-foundation/messagebus/3rdParty/postal.xframe-0.5.1.min.20200709205447","regenerator-runtime":"/etc/clientlibs/frontend-foundation/messagebus/3rdParty/regenerator-runtime-0.13.7.js","business/commons/components/emissions-label":"business/commons/components/emissions-label/clientlib.min.20210719223909"},bundles:{"apps/minidigital/components/progress-bar/clientlib":["apps/minidigital/components/progress-bar/clientlib",
"apps/minidigital/components/progress-bar/clientlib/scripts/utils/Messages"],"apps/minidigital/components/accordion/clientlib":["apps/minidigital/components/accordion/clientlib","apps/minidigital/components/accordion/item/clientlib"],"apps/minidigital/components/product-selector/clientlib":"apps/minidigital/components/product-selector/clientlib apps/minidigital/components/product-selector/clientlib/scripts/data/Data apps/minidigital/components/product-selector/clientlib/scripts/data/ModelFeatures apps/minidigital/components/product-selector/clientlib/scripts/utils/Messages apps/minidigital/components/product-selector/clientlib/scripts/utils/Tracking apps/minidigital/components/product-selector/clientlib/scripts/utils/ModelFeaturesCheck apps/minidigital/components/product-selector/clientlib/scripts/views/WizardView apps/minidigital/components/product-selector/clientlib/scripts/views/WizardLayer apps/minidigital/components/product-selector/clientlib/scripts/views/ui/ResetButton apps/minidigital/components/product-selector/model-group-summary/clientlib apps/minidigital/components/product-selector/model-group-summary/clientlib/scripts/components/LabelSelectGroupComponent apps/minidigital/components/product-selector/model-group-summary/clientlib/scripts/components/LabelSelectComponent apps/minidigital/components/product-selector/model-group-summary/clientlib/scripts/components/initializer apps/minidigital/components/product-selector/model-group-summary/clientlib/scripts/components/AccordionListComponent apps/minidigital/components/product-compare/clientlib/scripts/views/Overlay".split(" "),
"apps/minidigital/components/product-selector/teaser/clientlib":["apps/minidigital/components/product-selector/teaser/clientlib","apps/minidigital/components/product-selector/clientlib/scripts/utils/Messages"],"apps/minidigital/components/homestage/clientlib":["apps/minidigital/components/homestage/clientlib","apps/minidigital/components/homestagehelper/clientlib"],"apps/minidigital/components/product-feature-item/clientlib":["apps/minidigital/components/product-feature-item/clientlib","apps/minidigital/components/product-feature-item/details-sidebar/clientlib"],
"apps/minidigital/components/moment-interaction-ctas/clientlib":["apps/minidigital/components/moment-interaction-ctas/clientlib","apps/minidigital/components/moment-interaction-ctas/mit-whishlist-cta/clientlib"],"apps/minidigital/components/acw-wishlist/clientlib":["apps/minidigital/components/acw-wishlist/clientlib","apps/minidigital/components/acw-wishlist/clientlib/utils/UndoManager","apps/minidigital/components/acw-wishlist/acw-wishlist-features/clientlib"],"apps/minidigital/components/product-editorial/toggle-container/clientlib":["apps/minidigital/components/product-editorial/toggle-container/clientlib",
"apps/minidigital/components/product-editorial/toggle-container/clientlib/scripts/utils/Messages"],"apps/minidigital/components/visualizer/clientlib":"apps/minidigital/components/visualizer/clientlib apps/minidigital/components/visualizer/clientlib/scripts/data/ConfigData apps/minidigital/components/visualizer/clientlib/scripts/data/Features apps/minidigital/components/visualizer/clientlib/scripts/utils/Helpers apps/minidigital/components/visualizer/clientlib/scripts/utils/Messages apps/minidigital/components/visualizer/clientlib/scripts/utils/Tracking apps/minidigital/components/visualizer/clientlib/scripts/views/ui/Accordion apps/minidigital/components/visualizer/clientlib/scripts/views/ui/AccordionItem apps/minidigital/components/visualizer/clientlib/scripts/views/ui/AccordionSubitem apps/minidigital/components/visualizer/clientlib/scripts/views/ui/CarImage apps/minidigital/components/visualizer/clientlib/scripts/views/ui/ConfigButton apps/minidigital/components/visualizer/clientlib/scripts/views/ui/PaginationItem apps/minidigital/components/visualizer/clientlib/scripts/views/ui/ResultBackground apps/minidigital/components/visualizer/clientlib/scripts/views/ui/ResultCar apps/minidigital/components/visualizer/clientlib/scripts/views/ui/ResultItem apps/minidigital/components/visualizer/clientlib/scripts/views/ConfigView apps/minidigital/components/visualizer/clientlib/scripts/views/FooterView apps/minidigital/components/visualizer/clientlib/scripts/views/PaginationView apps/minidigital/components/visualizer/clientlib/scripts/views/ResultView apps/minidigital/components/visualizer/clientlib/scripts/views/SwipeView".split(" "),
"jquery-ui":["jquery.ui.touch-punch","jquery.ui"],"apps/minidigital/components/_example/clientlib":["apps/minidigital/components/_example/clientlib","apps/minidigital/components/_example/clientlib/scripts/utils/helpers"],"apps/minidigital/components/visualizer-plus-electric/clientlib":"apps/minidigital/components/visualizer-plus-electric/clientlib apps/minidigital/components/visualizer-plus-electric/clientlib/data/Color apps/minidigital/components/visualizer-plus-electric/clientlib/data/Config apps/minidigital/components/visualizer-plus-electric/clientlib/data/CosyView apps/minidigital/components/visualizer-plus-electric/clientlib/data/Messages apps/minidigital/components/visualizer-plus-electric/clientlib/data/Selection apps/minidigital/components/visualizer-plus-electric/clientlib/data/Wheel apps/minidigital/components/visualizer-plus-electric/clientlib/data/Accordion apps/minidigital/components/visualizer-plus-electric/clientlib/utils/Renderer apps/minidigital/components/visualizer-plus-electric/clientlib/utils/Tracking apps/minidigital/components/visualizer-plus-electric/clientlib/views/OptionsPanel apps/minidigital/components/visualizer-plus-electric/clientlib/views/Overlay apps/minidigital/components/visualizer-plus-electric/clientlib/views/Preview apps/minidigital/components/visualizer-plus-electric/clientlib/views/PreviewImage apps/minidigital/components/visualizer-plus-electric/clientlib/views/RFO apps/minidigital/components/visualizer-plus-electric/trimteaser/clientlib apps/minidigital/components/visualizer-plus-electric/trimteaser/clientlib/utils/Tracking apps/minidigital/components/visualizer-plus-electric/trimteaser/carousel/clientlib apps/minidigital/components/visualizer-plus-electric/technicaldataaccordion/clientlib apps/minidigital/components/visualizer-plus-electric/interior360DegreeZoomView/clientlib".split(" "),
"apps/minidigital/components/snuc-filtersearch/clientlib":"apps/minidigital/components/snuc-filtersearch/clientlib apps/minidigital/components/snuc-filtersearch/clientlib/scripts/data/State apps/minidigital/components/snuc-filtersearch/clientlib/scripts/data/FilterGroup apps/minidigital/components/snuc-filtersearch/clientlib/scripts/data/Filter apps/minidigital/components/snuc-filtersearch/clientlib/scripts/utils/Tracking apps/minidigital/components/snuc-filtersearch/clientlib/scripts/utils/SelectDropdown apps/minidigital/components/snuc-filtersearch/clientlib/scripts/utils/SNUCUrlBuilder apps/minidigital/components/snuc-filtersearch/clientlib/scripts/utils/SearchInput".split(" "),
"apps/minidigital/components/snuc-detail/clientlib":"apps/minidigital/components/snuc-detail/clientlib apps/minidigital/components/snuc-detail/clientlib/scripts/data/ImageData apps/minidigital/components/snuc-detail/clientlib/scripts/utils/Messages apps/minidigital/components/snuc-detail/clientlib/scripts/utils/Tracking apps/minidigital/components/snuc-detail/clientlib/scripts/views/Slideshow apps/minidigital/components/snuc-detail/clientlib/scripts/views/Lightbox apps/minidigital/components/snuc-detail/clientlib/scripts/views/ui/CloseButton apps/minidigital/components/snuc-detail/clientlib/scripts/views/ui/ImageListener".split(" "),
"apps/minidigital/components/offer-page/clientlib":"apps/minidigital/components/offer-page/clientlib/Checkbox apps/minidigital/components/offer-page/clientlib/CheckboxList apps/minidigital/components/offer-page/clientlib/OfferPageStore apps/minidigital/components/offer-page/clientlib/OfferStartModelCard apps/minidigital/components/offer-page/clientlib/OfferStartPage apps/minidigital/components/offer-page/clientlib/RadioButtonList apps/minidigital/components/offer-page/clientlib/RadioButton apps/minidigital/components/offer-page/clientlib/Accordion apps/minidigital/components/offer-page/clientlib/AccordionOffer apps/minidigital/components/offer-page/clientlib/BackButton apps/minidigital/components/offer-page/clientlib/BaseButton apps/minidigital/components/offer-page/clientlib/OfferModelCard apps/minidigital/components/offer-page/clientlib/OfferPageSearch apps/minidigital/components/offer-page/clientlib/OfferDetailsPage apps/minidigital/components/offer-page/clientlib/Filters apps/minidigital/components/offer-page/clientlib/BaseChip apps/minidigital/components/offer-page/clientlib/SkeletonCardLoader apps/minidigital/components/offer-page/clientlib/OfferFilterSidebar apps/minidigital/components/offer-page/clientlib/Select apps/minidigital/components/offer-page/clientlib/CalculatorBox apps/minidigital/components/offer-page/clientlib/OfferPageCalculationSidebar apps/minidigital/components/offer-page/clientlib/Helpers apps/minidigital/components/offer-page/clientlib/RepresantiveExampleAccordion apps/minidigital/components/offer-page/clientlib/BaseModal apps/minidigital/components/offer-page/clientlib/MobileFilter apps/minidigital/components/offer-page/clientlib/ContactRetailerButton apps/minidigital/components/offer-page/clientlib/InfoIcon apps/minidigital/components/offer-page/clientlib/TextInput apps/minidigital/components/offer-page/clientlib/Pagination".split(" "),
"apps/minidigital/components/lci-model-selection/clientlib":"apps/minidigital/components/lci-model-selection/clientlib/BaseConfigureTile apps/minidigital/components/lci-model-selection/clientlib/ConfigureBar apps/minidigital/components/lci-model-selection/clientlib/ConfigureTileList apps/minidigital/components/lci-model-selection/clientlib/EngineConfigureTile apps/minidigital/components/lci-model-selection/clientlib/PaintConfigureTile apps/minidigital/components/lci-model-selection/clientlib/ScrollGallery apps/minidigital/components/lci-model-selection/clientlib/StageLabels apps/minidigital/components/lci-model-selection/clientlib/SummaryTiles apps/minidigital/components/lci-model-selection/clientlib/ConfiguratorHeader apps/minidigital/components/lci-model-selection/clientlib/EngineTileList apps/minidigital/components/lci-model-selection/clientlib/EmissionAndConsumptionBox apps/minidigital/components/lci-model-selection/clientlib/TrimDetailsSidebar apps/minidigital/components/lci-model-selection/clientlib/WLTPDetailsSidebar".split(" "),
"apps/minidigital/components/lci-visualizer/clientlib":["apps/minidigital/components/lci-visualizer/clientlib/lci-360-degree-car-view"],"apps/minidigital/components/product-compare/clientlib":["apps/minidigital/components/product-compare/clientlib","apps/minidigital/components/product-compare/clientlib/scripts/views/Overlay","apps/minidigital/components/product-compare/clientlib/scripts/views/LciCompareOverlay"],"apps/minidigital/components/fast-facts/clientlib":["apps/minidigital/components/fast-facts/clientlib",
"apps/minidigital/components/fast-facts/clientlib/views/Animation"],"apps/minidigital/components/tab-content/tab/clientlib":["apps/minidigital/components/tab-content/tab/clientlib","apps/minidigital/components/tab-content/tabs/clientlib/scripts/utils/Messagebus"],"apps/minidigital/components/tab-content/tabs/clientlib":["apps/minidigital/components/tab-content/tabs/clientlib","apps/minidigital/components/tab-content/tabs/clientlib/scripts/utils/Messagebus"],"apps/minidigital/components/pepo/clientlib":"apps/minidigital/components/pepo/clientlib apps/minidigital/components/pepo/clientlib/pepoApp mdPepoService mdPepoCarDetailsController mdPepoMyCarsController mdPepoNoLoginController pepoDirectives".split(" "),
"core/minidigital/Tracking":"core/trackingAdapter/Tracking core/TrackingAdapter core/TrackingAdapter/TrackingImpression core/trackingAdapter/TrackingMessages core/TrackingAdapter/TrackingTarget core/TrackingAdapter/utils/Dispatcher core/TrackingAdapter/utils/Helper".split(" "),"core/minidigital/Utils":"core/utils/BackHeader core/utils/cosyImage core/utils/CurrencyDecimalFormat core/utils/Deeplinker core/utils/DirectionRTL core/utils/Environment core/utils/HTMLHelper core/utils/lazyImageSpy core/utils/ModelDataService core/utils/networkspy core/utils/scrollspy core/utils/url core/utils/viewportspy core/utils/webp".split(" ")},
map:{"*":{css:"require-css","postal.provider":"core/Messagebus"}},waitSeconds:15,skipDataMain:!0,shim:{angular:{deps:["jquery"],exports:"angular"},animate:{deps:["angular"],exports:"animate"},uiRouter:{deps:["angular"]},"jquery.lazy":{deps:["jquery"],exports:"jQuery"},"jquery.ui":{deps:["jquery"],exports:"jQuery"},"jquery.scrollbar":{deps:["jquery"],exports:"jQuery"},odometer:{deps:["jquery"],exports:"odometer"},slick:{deps:["jquery"],exports:"jQuery"},spritespin:{deps:["jquery"],exports:"spritespin"},
velocity:{deps:["jquery"]},"velocity.ui":{deps:["velocity"]},Contentful:{deps:["contentfulRichText"],exports:"Contentful"},"postal.xframe":{deps:["postal.federation","regenerator-runtime"],exports:"postal"}}},context;try{context=global}catch(b){context=window}void 0!==context.requirejs&&(requirejs.config(config),require.onError=function(b){console.log(b.requireType);console.log("["+b.requireType+"] modules: "+b.requireModules,b)});if(context.global)try{module&&(module.exports=config)}catch(b){console.log(b)}
require("jquery lodash core/componentInitializer core/utils/webp core/utils/scrollspy core/TrackingAdapter core/utils/lazyImageSpy core/utils/Deeplinker".split(" "),function(b,e,k,g,c,a,d,f){digital.tracking=a;a.init(window.dataLayer);c.init(window);k.init();requestAnimationFrame(function(){setTimeout(function(){e.isFunction(mini.digital.initLegacyApp)&&mini.digital.initLegacyApp()},2E3);e.isFunction(b.subscribe)&&b.subscribe("md:componentInitializer:init",k.init);f.update({delay:500,scrollDelay:750});
d.update({delay:3E3,timeoutId:"startup"})})});(function(){})();"use strict";String.prototype.startsWith||(String.prototype.startsWith=function(b){return 0===this.indexOf(b)});(function(b){b.location.origin||(b.location.origin=b.location.protocol+"//"+b.location.hostname+(b.location.port?":"+b.location.port:""))})(window);
window.matchMedia||(window.matchMedia=function(){var b=window.styleMedia||window.media;if(!b){var e=document.createElement("style"),k=document.getElementsByTagName("script")[0],g=null;e.type="text/css";e.id="matchmediajs-test";k.parentNode.insertBefore(e,k);g="getComputedStyle"in window&&window.getComputedStyle(e,null)||e.currentStyle;b={matchMedium:function(b){b="@media "+b+"{ #matchmediajs-test { width: 1px; } }";e.styleSheet?e.styleSheet.cssText=b:e.textContent=b;return"1px"===g.width}}}return function(c){return{matches:b.matchMedium(c||
"all"),media:c||"all"}}}());
(function(){if(window.matchMedia&&window.matchMedia("all").addListener)return!1;var b=window.matchMedia,e=b("only all").matches,k=!1,g=0,c=[],a=function(a){clearTimeout(g);g=setTimeout(function(){for(var a=0,d=c.length;a<d;a++){var e=c[a].mql,g=c[a].listeners||[],k=b(e.media).matches;if(k!==e.matches){e.matches=k;k=0;for(var l=g.length;k<l;k++)g[k].call(window,e)}}},30)};window.matchMedia=function(d){var f=b(d),g=[],n=0;f.addListener=function(b){e&&(k||(k=!0,window.addEventListener("resize",a,!0)),
0===n&&(n=c.push({mql:f,listeners:g})),g.push(b))};f.removeListener=function(a){for(var b=0,c=g.length;b<c;b++)g[b]===a&&g.splice(b,1)};return f}})();
var dateFormat=function(){var b=/d{1,4}|M{1,4}|yy(?:yy)?|([HhmsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,e=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,k=/[^-+\dA-Z]/g,g=function(b,a){b=String(b);for(a=a||2;b.length<a;)b="0"+b;return b};return function(c,a,d){var f=dateFormat;1!=arguments.length||"[object String]"!=Object.prototype.toString.call(c)||/\d/.test(c)||(a=c,c=void 0);c=c?new Date(c):new Date;if(isNaN(c))throw SyntaxError("invalid date");
a=String(f.masks[a]||a||f.masks["default"]);"UTC:"==a.slice(0,4)&&(a=a.slice(4),d=!0);var h=d?"getUTC":"get",n=c[h+"Date"](),m=c[h+"Day"](),q=c[h+"Month"](),l=c[h+"FullYear"](),t=c[h+"Hours"](),r=c[h+"Minutes"](),v=c[h+"Seconds"]();h=c[h+"Milliseconds"]();var w=d?0:c.getTimezoneOffset(),x={d:n,dd:g(n),ddd:f.i18n.dayNames[m],dddd:f.i18n.dayNames[m+7],M:q+1,MM:g(q+1),MMM:f.i18n.monthNames[q],MMMM:f.i18n.monthNames[q+12],yy:String(l).slice(2),yyyy:l,h:t%12||12,hh:g(t%12||12),H:t,HH:g(t),m:r,mm:g(r),
s:v,ss:g(v),l:g(h,3),L:g(99<h?Math.round(h/10):h),t:12>t?"a":"p",tt:12>t?"am":"pm",T:12>t?"A":"P",TT:12>t?"AM":"PM",Z:d?"UTC":(String(c).match(e)||[""]).pop().replace(k,""),o:(0<w?"-":"+")+g(100*Math.floor(Math.abs(w)/60)+Math.abs(w)%60,4),S:["th","st","nd","rd"][3<n%10?0:(10!=n%100-n%10)*n%10]};return a.replace(b,function(a){return a in x?x[a]:a.slice(1,a.length-1)})}}();
dateFormat.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};dateFormat.i18n={dayNames:"Sun Mon Tue Wed Thu Fri Sat Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),monthNames:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec January February March April May June July August September October November December".split(" ")};
Date.prototype.format=function(b,e){return dateFormat(this,b,e)};
(function(b){function e(a,b){var c;b=b||101;var d=[];for(c=0;c<b+1;c++)d[c]=a.call(null,c/b);return function(a){if(1===a)return d[b];a*=b;var c=Math.floor(a),f=d[c];return f+(d[c+1]-f)*(a-c)}}function k(a,b,c,e,g,k){function d(a,b){var c;var d=a;for(c=0;8>c;c++){var e=((f*d+h)*d+m)*d-a;if((0<=e?e:0-e)<b)return d;var g=(3*f*d+2*h)*d+m;if(1E-6>(0<=g?g:0-g))break;d-=e/g}g=0;c=1;d=a;if(d<g)return g;if(d>c)return c;for(;g<c;){e=((f*d+h)*d+m)*d;var l=e-a;if((0<=l?l:0-l)<b)break;a>e?g=d:c=d;d=.5*(c-g)+g}return d}
var f=0,h=0,m=0,n=0,w=0,x=0;m=3*b;h=3*(e-b)-m;f=1-m-h;x=3*c;w=3*(g-c)-x;n=1-x-w;return function(a,b){a=d(a,b);return((n*a+w)*a+x)*a}(a,1/(200*k))}var g="Quad Cubic Quart Quint Sine Expo Circ".split(" ");b.easie=function(a,c,f,g,n,m){n=n||["easie",a,c,f,g].join("-");if(!b.easing[n]||m){var d=e(function(b){return k(b,a,c,f,g,5)});b.easing[n]=function(a,b,c,f){return d.call(null,a)};b.easing[n].params=[a,c,f,g]}return n};var c=b.easie;c(0,0,1,1,"easieLinear");c(.25,.1,.25,1,"easieEase");c(.42,0,1,1,
"easieEaseIn");c(0,0,.58,1,"easieEaseOut");c(.42,0,.58,1,"easieEaseInOut");c(.55,.085,.68,.53,"easieEaseIn"+g[0]);c(.55,.055,.675,.19,"easieEaseIn"+g[1]);c(.895,.03,.685,.22,"easieEaseIn"+g[2]);c(.755,.05,.855,.06,"easieEaseIn"+g[3]);c(.47,0,.745,.715,"easieEaseIn"+g[4]);c(.95,.05,.795,.035,"easieEaseIn"+g[5]);c(.6,.04,.98,.335,"easieEaseIn"+g[6]);c(.25,.46,.45,.94,"easieEaseOut"+g[0]);c(.215,.61,.355,1,"easieEaseOut"+g[1]);c(.165,.84,.44,1,"easieEaseOut"+g[2]);c(.23,1,.32,1,"easieEaseOut"+g[3]);
c(.39,.575,.565,1,"easieEaseOut"+g[4]);c(.19,1,.22,1,"easieEaseOut"+g[5]);c(.075,.82,.165,1,"easieEaseOut"+g[6]);c(.455,.03,.515,.955,"easieEaseInOut"+g[0]);c(.645,.045,.355,1,"easieEaseInOut"+g[1]);c(.77,0,.175,1,"easieEaseInOut"+g[2]);c(.86,0,.07,1,"easieEaseInOut"+g[3]);c(.445,.05,.55,.95,"easieEaseInOut"+g[4]);c(1,0,0,1,"easieEaseInOut"+g[5]);c(.785,.135,.15,.86,"easieEaseInOut"+g[6])})(jQuery);
!function(b){function e(a){return"number"==typeof a&&!isNaN(a)&&isFinite(a)}function k(a,b,c){a.addClass(b);setTimeout(function(){a.removeClass(b)},c)}function g(a){return b.isArray(a)?a:[a]}function c(a,b){return 100*b/(a[1]-a[0])}function a(a,b){for(var c=1;a>=b[c];)c+=1;return c}function d(a,b,c){var d;if("number"==typeof b&&(b=[b]),"[object Array]"!==Object.prototype.toString.call(b))throw Error("noUiSlider: 'range' contains invalid value.");if(d="min"===a?0:"max"===a?100:parseFloat(a),!e(d)||
!e(b[0]))throw Error("noUiSlider: 'range' value isn't numeric.");c.xPct.push(d);c.xVal.push(b[0]);d?c.xSteps.push(isNaN(b[1])?!1:b[1]):isNaN(b[1])||(c.xSteps[0]=b[1])}function f(a,b,d){return b?void(d.xSteps[a]=c([d.xVal[a],d.xVal[a+1]],b)/(100/(d.xPct[a+1]-d.xPct[a]))):!0}function h(a,b,c,e){this.xPct=[];this.xVal=[];this.xSteps=[e||!1];this.xNumSteps=[!1];this.snap=b;this.direction=c;var g;b=[];for(g in a)a.hasOwnProperty(g)&&b.push([a[g],g]);b.sort(function(a,b){return a[0]-b[0]});for(g=0;g<b.length;g++)d(b[g][1],
b[g][0],this);this.xNumSteps=this.xSteps.slice(0);for(g=0;g<this.xNumSteps.length;g++)f(g,this.xNumSteps[g],this)}function n(a,b){if(!e(b))throw Error("noUiSlider: 'step' is not numeric.");a.singleStep=b}function m(a,c){if("object"!=typeof c||b.isArray(c))throw Error("noUiSlider: 'range' is not an object.");if(void 0===c.min||void 0===c.max)throw Error("noUiSlider: Missing 'min' or 'max' in 'range'.");a.spectrum=new h(c,a.snap,a.dir,a.singleStep)}function q(a,c){if(c=g(c),!b.isArray(c)||!c.length||
2<c.length)throw Error("noUiSlider: 'start' option is incorrect.");a.handles=c.length;a.start=c}function l(a,b){if(a.snap=b,"boolean"!=typeof b)throw Error("noUiSlider: 'snap' option must be a boolean.");}function t(a,b){if(a.animate=b,"boolean"!=typeof b)throw Error("noUiSlider: 'animate' option must be a boolean.");}function r(a,b){if("lower"===b&&1===a.handles)a.connect=1;else if("upper"===b&&1===a.handles)a.connect=2;else if(!0===b&&2===a.handles)a.connect=3;else{if(!1!==b)throw Error("noUiSlider: 'connect' option doesn't match handle count.");
a.connect=0}}function v(a,b){switch(b){case "horizontal":a.ort=0;break;case "vertical":a.ort=1;break;default:throw Error("noUiSlider: 'orientation' option is invalid.");}}function w(a,b){if(!e(b))throw Error("noUiSlider: 'margin' option must be numeric.");if(a.margin=a.spectrum.getMargin(b),!a.margin)throw Error("noUiSlider: 'margin' option is only supported on linear sliders.");}function x(a,b){if(!e(b))throw Error("noUiSlider: 'limit' option must be numeric.");if(a.limit=a.spectrum.getMargin(b),
!a.limit)throw Error("noUiSlider: 'limit' option is only supported on linear sliders.");}function u(a,b){switch(b){case "ltr":a.dir=0;break;case "rtl":a.dir=1;a.connect=[0,2,1,3][a.connect];break;default:throw Error("noUiSlider: 'direction' option was not recognized.");}}function y(a,b){if("string"!=typeof b)throw Error("noUiSlider: 'behaviour' must be a string containing options.");var c=0<=b.indexOf("tap"),d=0<=b.indexOf("drag"),f=0<=b.indexOf("fixed");b=0<=b.indexOf("snap");a.events={tap:c||b,
drag:d,fixed:f,snap:b}}function B(a,b){if(a.format=b,"function"==typeof b.to&&"function"==typeof b.from)return!0;throw Error("noUiSlider: 'format' requires 'to' and 'from' methods.");}function z(a){var c,d={margin:0,limit:0,animate:!0,format:U};return c={step:{r:!1,t:n},start:{r:!0,t:q},connect:{r:!0,t:r},direction:{r:!0,t:u},snap:{r:!1,t:l},animate:{r:!1,t:t},range:{r:!0,t:m},orientation:{r:!1,t:v},margin:{r:!1,t:w},limit:{r:!1,t:x},behaviour:{r:!0,t:y},format:{r:!1,t:B}},a=b.extend({connect:!1,
direction:"ltr",behaviour:"tap",orientation:"horizontal"},a),b.each(c,function(b,c){if(void 0===a[b]){if(c.r)throw Error("noUiSlider: '"+b+"' is required.");return!0}c.t(d,a[b])}),d.style=d.ort?"top":"left",d}function C(a,c){var d=b("\x3cdiv\x3e\x3cdiv/\x3e\x3c/div\x3e").addClass(O[2]),f=["-lower","-upper"];return a&&f.reverse(),d.children().addClass(O[3]+" "+O[3]+f[c]),d}function A(a,b,c){switch(a){case 1:b.addClass(O[7]);c[0].addClass(O[6]);break;case 3:c[1].addClass(O[6]);case 2:c[0].addClass(O[7]);
case 0:b.addClass(O[6])}}function D(a,b,c){var d,f=[];for(d=0;a>d;d+=1)f.push(C(b,d).appendTo(c));return f}function H(a,c,d){return d.addClass([O[0],O[8+a],O[4+c]].join(" ")),b("\x3cdiv/\x3e").appendTo(d).addClass(O[1])}function F(a,c,d){function f(){return C[["width","height"][c.ort]]()}function e(a){var b,c=[z.val()];for(b=0;b<a.length;b+=1)z.trigger(a[b],c)}function h(a){return 1===a.length?a[0]:c.dir?a.reverse():a}function l(a){return function(b,c){z.val([a?null:c,a?c:null],!0)}}function m(a){var c=
b.inArray(a,r);z[0].linkAPI&&z[0].linkAPI[a]&&z[0].linkAPI[a].change(y[c],G[c].children(),z)}function n(a,b,d,f){return a=a.replace(/\s/g,L+" ")+L,b.on(a,function(a){if(z.attr("disabled"))a=!1;else{if(z.hasClass(O[14]))var b=!1;else{var e=a;e.preventDefault();var g,h;b=0===e.type.indexOf("touch");var l=0===e.type.indexOf("mouse"),k=0===e.type.indexOf("pointer"),m=e;b=(a=(0===e.type.indexOf("MSPointer")&&(k=!0),e.originalEvent&&(e=e.originalEvent),b&&(g=e.changedTouches[0].pageX,h=e.changedTouches[0].pageY),
(l||k)&&(k||void 0!==window.pageXOffset||(window.pageXOffset=document.documentElement.scrollLeft,window.pageYOffset=document.documentElement.scrollTop),g=e.clientX+window.pageXOffset,h=e.clientY+window.pageYOffset),m.points=[g,h],m.cursor=l,m),a.calcPoint=a.points[c.ort],void d(a,f))}a=b}return a})}function v(a,b){var c=b.handles||G,d=100*(a.calcPoint-b.start)/f();a=c[0][0]!==G[0][0]?1:0;var g=b.positions;b=d+g[0];g=d+g[1];d=1<c.length?(0>b&&(g+=Math.abs(b)),100<g&&(b-=g-100),[Math.max(Math.min(b,
100),0),Math.max(Math.min(g,100),0)]):[b,g];b=q(c[0],d[a],1===c.length);1<c.length&&(b=q(c[1],d[a?0:1],!1)||b);b&&e(["slide"])}function w(a){b("."+O[15]).removeClass(O[15]);a.cursor&&b("body").css("cursor","").off(L);S.off(L);z.removeClass(O[12]);e(["set","change"])}function u(a,c){1===c.handles.length&&c.handles[0].children().addClass(O[15]);a.stopPropagation();n(R.move,S,v,{start:a.calcPoint,handles:c.handles,positions:[B[0],B[G.length-1]]});n(R.end,S,w,null);a.cursor&&(b("body").css("cursor",b(a.target).css("cursor")),
1<G.length&&z.addClass(O[12]),b("body").on("selectstart"+L,!1))}function x(a){var d=a.calcPoint;var g=0;a.stopPropagation();b.each(G,function(){g+=this.offset()[c.style]});g=g/2>d||1===G.length?0:1;d-=C.offset()[c.style];d=100*d/f();c.events.snap||k(z,O[14],300);q(G[g],d);e(["slide","set","change"]);c.events.snap&&u(a,{handles:[G[g]]})}function q(a,b,d){var f=a[0]!==G[0][0]?1:0,e=B[0]+c.margin,g=B[1]-c.margin,h=B[0]+c.limit,l=B[1]-c.limit;return 1<G.length&&(b=f?Math.max(b,e):Math.min(b,g)),!1!==
d&&c.limit&&1<G.length&&(b=f?Math.min(b,h):Math.max(b,l)),b=t.getStep(b),b=Math.max(Math.min(parseFloat(b.toFixed(7)),100),0),b===B[f]?!1:(a.css(c.style,b+"%"),a.is(":first-child")&&a.toggleClass(O[17],50<b),B[f]=b,y[f]=t.fromStepping(b),m(r[f]),!0)}var z=b(a),B=[-1,-1],t=c.spectrum,y=[],r=["lower","upper"].slice(0,c.handles);if(c.dir&&r.reverse(),a.LinkUpdate=m,a.LinkConfirm=function(a,d){a=b.inArray(a,r);return d&&d.appendTo(G[a].children()),c.dir&&1<c.handles&&(a=1===a?0:1),l(a)},a.LinkDefaultFormatter=
c.format,a.LinkDefaultFlag="lower",a.reappend=function(){var a,b;for(a=0;a<r.length;a+=1)this.linkAPI&&this.linkAPI[b=r[a]]&&this.linkAPI[b].reconfirm(b)},z.hasClass(O[0]))throw Error("Slider was already initialized.");var C=H(c.dir,c.ort,z);var G=D(c.handles,c.dir,C);A(c.connect,z,G);(function(a){var b,c;if(!a.fixed)for(b=0;b<G.length;b+=1)n(R.start,G[b].children(),u,{handles:[G[b]]});a.tap&&n(R.start,C,x,{handles:G});a.drag&&(c=C.find("."+O[7]).addClass(O[10]),a.fixed&&(c=c.add(C.children().not(c).children())),
n(R.start,c,u,{handles:G}))})(c.events);a.vSet=function(a){if(z[0].LinkIsEmitting)return this;a=g(a);c.dir&&1<c.handles&&a.reverse();c.animate&&-1!==B[0]&&k(z,O[14],300);var b=1<G.length?3:1;1===a.length&&(b=1);var d;c.limit&&(b+=1);for(d=0;b>d;d+=1){var f=d%2;var h=a[f];null!==h&&!1!==h&&("number"==typeof h&&(h=String(h)),h=c.format.from(h),(!1===h||isNaN(h)||!1===q(G[f],t.toStepping(h),d===3-c.dir))&&m(r[f]))}return e(["set"]),this};a.vGet=function(){var a,b=[];for(a=0;a<c.handles;a+=1)b[a]=c.format.to(y[a]);
return h(b)};a.destroy=function(){return b(this).off(L).removeClass(O.join(" ")).empty(),delete this.LinkUpdate,delete this.LinkConfirm,delete this.LinkDefaultFormatter,delete this.LinkDefaultFlag,delete this.reappend,delete this.vGet,delete this.vSet,delete this.getCurrentStep,delete this.getInfo,delete this.destroy,d};a.getCurrentStep=function(){var a=b.map(B,function(a,b){var c=t.getApplicableStep(a),d=String(c[2]).split("."),f=100===a?null:c[2];b=Number((y[b]-c[2]).toFixed(1<d.length?d[1].length:
0));return[[0===a?null:b>=c[1]?c[2]:c[0]||!1,f]]});return h(a)};a.getOriginalOptions=function(){return d};a.getInfo=function(){return[t,c.style,c.ort]};z.val(c.start)}function G(a){var b=z(a,this);return this.each(function(){F(this,b,a)})}function K(a){return this.each(function(){if(!this.destroy)return void b(this).noUiSlider(a);var c=b(this).val(),d=this.destroy(),f=b.extend({},d,a);b(this).noUiSlider(f);this.reappend();d.start===f.start&&b(this).val(c)})}function I(){return this[0][arguments.length?
"vSet":"vGet"].apply(this[0],arguments)}var S=b(document),J=b.fn.val,L=".nui",R=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},O="noUi-target noUi-base noUi-origin noUi-handle noUi-horizontal noUi-vertical noUi-background noUi-connect noUi-ltr noUi-rtl noUi-dragable  noUi-state-drag  noUi-state-tap noUi-active  noUi-stacking".split(" ");
h.prototype.getMargin=function(a){return 2===this.xPct.length?c(this.xVal,a):!1};h.prototype.toStepping=function(b){var d=this.xVal,f=this.xPct;var e=b;if(e>=d.slice(-1)[0])e=100;else{var g=a(e,d);var h=d[g-1];var l=d[g];d=f[g-1];f=f[g];h=[h,l];e=c(h,0>h[0]?e+Math.abs(h[0]):e-h[0]);e=d+e/(100/(f-d))}return b=e,this.direction&&(b=100-b),b};h.prototype.fromStepping=function(b){this.direction&&(b=100-b);var c=this.xVal;var d=this.xPct;if(100<=b)d=c.slice(-1)[0];else{var f=a(b,d);var e=c[f-1];var g=c[f];
c=d[f-1];e=[e,g];d=100/(d[f]-c)*(b-c)*(e[1]-e[0])/100+e[0]}b=Math.pow(10,7);return Number((Math.round(d*b)/b).toFixed(7))};h.prototype.getStep=function(b){this.direction&&(b=100-b);var c=this.xPct;var d=this.xSteps,f=this.snap,e=b;if(100===e)c=e;else{var g,h,l=a(e,c);f?c=(g=c[l-1],h=c[l],e-g>(h-g)/2?h:g):d[l-1]?(g=d[l-1],c=c[l-1]+Math.round((e-c[l-1])/g)*g):c=e}return b=c,this.direction&&(b=100-b),b};h.prototype.getApplicableStep=function(b){var c=a(b,this.xPct);b=100===b?2:1;return[this.xNumSteps[c-
2],this.xVal[c-b],this.xNumSteps[c-b]]};h.prototype.convert=function(a){return this.getStep(this.toStepping(a))};var U={to:function(a){return a.toFixed(2)},from:Number};b.fn.val=function(a){if(!arguments.length){var c=b(this[0]);return(c.hasClass(O[0])?I:J).call(c)}var d=b.isFunction(a);return this.each(function(c){var f=a,e=b(this);d&&(f=a.call(this,c,e.val()));(e.hasClass(O[0])?I:J).call(e,f)})};b.fn.noUiSlider=function(a,b){switch(a){case "step":return this[0].getCurrentStep();case "options":return this[0].getOriginalOptions()}return(b?
K:G).call(this,a)}}(window.jQuery||window.Zepto);(function(b){var e=b.event,k;var g=e.special.debouncedresize={setup:function(){b(this).on("resize",g.handler)},teardown:function(){b(this).off("resize",g.handler)},handler:function(b,a){var c=this,f=arguments,h=function(){b.type="debouncedresize";e.dispatch.apply(c,f)};k&&clearTimeout(k);a?h():k=setTimeout(h,g.threshold)},threshold:150}})(jQuery);
(function(b,e){var k=b.console||e,g=b.document,c=b.navigator,a=!1,d=b.setTimeout,f=b.clearTimeout,h=b.setInterval,n=b.clearInterval,m=b.JSON,q=b.alert,l=b.History=b.History||{},t=b.history;try{a=b.sessionStorage,a.setItem("TEST","1"),a.removeItem("TEST")}catch(r){a=!1}m.stringify=m.stringify||m.encode;m.parse=m.parse||m.decode;"undefined"===typeof l.init&&(l.init=function(a){if("undefined"===typeof l.Adapter)return!1;"undefined"!==typeof l.initCore&&l.initCore();"undefined"!==typeof l.initHtml4&&
l.initHtml4();return!0},l.initCore=function(r){if("undefined"!==typeof l.initCore.initialized)return!1;l.initCore.initialized=!0;l.options=l.options||{};l.options.hashChangeInterval=l.options.hashChangeInterval||100;l.options.safariPollInterval=l.options.safariPollInterval||500;l.options.doubleCheckInterval=l.options.doubleCheckInterval||500;l.options.disableSuid=l.options.disableSuid||!1;l.options.storeInterval=l.options.storeInterval||1E3;l.options.busyDelay=l.options.busyDelay||250;l.options.debug=
l.options.debug||!1;l.options.initialTitle=l.options.initialTitle||g.title;l.options.html4Mode=l.options.html4Mode||!1;l.options.delayInit=l.options.delayInit||!1;l.intervalList=[];l.clearAllIntervals=function(){var a,b=l.intervalList;if("undefined"!==typeof b&&null!==b){for(a=0;a<b.length;a++)n(b[a]);l.intervalList=null}};l.debug=function(){l.options.debug&&l.log.apply(l,arguments)};l.log=function(){var a=!("undefined"===typeof k||"undefined"===typeof k.log||"undefined"===typeof k.log.apply),b=g.getElementById("log"),
c;if(a){var d=Array.prototype.slice.call(arguments);var f=d.shift();"undefined"!==typeof k.debug?k.debug.apply(k,[f,d]):k.log.apply(k,[f,d])}else f="\n"+arguments[0]+"\n";d=1;for(c=arguments.length;d<c;++d){var e=arguments[d];if("object"===typeof e&&"undefined"!==typeof m)try{e=m.stringify(e)}catch(z){}f+="\n"+e+"\n"}b?(b.value+=f+"\n-----\n",b.scrollTop=b.scrollHeight-b.clientHeight):a||q(f);return!0};l.getInternetExplorerMajorVersion=function(){var a=l.getInternetExplorerMajorVersion;if("undefined"!==
typeof l.getInternetExplorerMajorVersion.cached)var b=l.getInternetExplorerMajorVersion.cached;else{b=3;for(var c=g.createElement("div"),d=c.getElementsByTagName("i");(c.innerHTML="\x3c!--[if gt IE "+ ++b+"]\x3e\x3ci\x3e\x3c/i\x3e\x3c![endif]--\x3e")&&d[0];);b=4<b?b:!1}return a.cached=b};l.isInternetExplorer=function(){return l.isInternetExplorer.cached="undefined"!==typeof l.isInternetExplorer.cached?l.isInternetExplorer.cached:!!l.getInternetExplorerMajorVersion()};l.emulated=l.options.html4Mode?
{pushState:!0,hashChange:!0}:{pushState:!(b.history&&b.history.pushState&&b.history.replaceState&&!/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(c.userAgent)&&!/AppleWebKit\/5([0-2]|3[0-2])/i.test(c.userAgent)),hashChange:!(("onhashchange"in b||"onhashchange"in g)&&!(l.isInternetExplorer()&&8>l.getInternetExplorerMajorVersion()))};l.enabled=!l.emulated.pushState;l.bugs={setHash:!(l.emulated.pushState||"Apple Computer, Inc."!==c.vendor||!/AppleWebKit\/5([0-2]|3[0-3])/.test(c.userAgent)),safariPoll:!(l.emulated.pushState||
"Apple Computer, Inc."!==c.vendor||!/AppleWebKit\/5([0-2]|3[0-3])/.test(c.userAgent)),ieDoubleCheck:!!(l.isInternetExplorer()&&8>l.getInternetExplorerMajorVersion()),hashEscape:!!(l.isInternetExplorer()&&7>l.getInternetExplorerMajorVersion())};l.isEmptyObject=function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0};l.cloneObject=function(a){a?(a=m.stringify(a),a=m.parse(a)):a={};return a};l.getRootUrl=function(){var a=g.location.protocol+"//"+(g.location.hostname||g.location.host);g.location.port&&
(a+=":"+g.location.port);return a+"/"};l.getBaseHref=function(){var a=g.getElementsByTagName("base"),b="";1===a.length&&(a=a[0],b=a.href.replace(/[^\/]+$/,""));(b=b.replace(/\/+$/,""))&&(b+="/");return b};l.getBaseUrl=function(){return l.getBaseHref()||l.getBasePageUrl()||l.getRootUrl()};l.getPageUrl=function(){return((l.getState(!1,!1)||{}).url||l.getLocationHref()).replace(/\/+$/,"").replace(/[^\/]+$/,function(a,b,c){return/\./.test(a)?a:a+"/"})};l.getBasePageUrl=function(){return l.getLocationHref().replace(/[#\?].*/,
"").replace(/[^\/]+$/,function(a,b,c){return/[^\/]$/.test(a)?"":a}).replace(/\/+$/,"")+"/"};l.getFullUrl=function(a,b){var c=a,d=a.substring(0,1);b="undefined"===typeof b?!0:b;/[a-z]+:\/\//.test(a)||(c="/"===d?l.getRootUrl()+a.replace(/^\/+/,""):"#"===d?l.getPageUrl().replace(/#.*/,"")+a:"?"===d?l.getPageUrl().replace(/[\?#].*/,"")+a:b?l.getBaseUrl()+a.replace(/^(\.\/)+/,""):l.getBasePageUrl()+a.replace(/^(\.\/)+/,""));return c.replace(/#$/,"")};l.getShortUrl=function(a){var b=l.getBaseUrl(),c=l.getRootUrl();
l.emulated.pushState&&(a=a.replace(b,""));a=a.replace(c,"/");l.isTraditionalAnchor(a)&&(a="./"+a);return a=a.replace(/^(\.\/)+/g,"./").replace(/#$/,"")};l.getLocationHref=function(a){a=a||g;return a.URL===a.location.href?a.location.href:a.location.href===decodeURIComponent(a.URL)?a.URL:a.location.hash&&decodeURIComponent(a.location.href.replace(/^[^#]+/,""))===a.location.hash||-1==a.URL.indexOf("#")&&-1!=a.location.href.indexOf("#")?a.location.href:a.URL||a.location.href};l.store={};l.idToState=l.idToState||
{};l.stateToId=l.stateToId||{};l.urlToId=l.urlToId||{};l.storedStates=l.storedStates||[];l.savedStates=l.savedStates||[];l.normalizeStore=function(){l.store.idToState=l.store.idToState||{};l.store.urlToId=l.store.urlToId||{};l.store.stateToId=l.store.stateToId||{}};l.getState=function(a,b){"undefined"===typeof a&&(a=!0);"undefined"===typeof b&&(b=!0);var c=l.getLastSavedState();!c&&b&&(c=l.createStateObject());a&&(c=l.cloneObject(c),c.url=c.cleanUrl||c.url);return c};l.getIdByState=function(a){var b=
l.extractId(a.url);if(!b){var c=l.getStateString(a);if("undefined"!==typeof l.stateToId[c])b=l.stateToId[c];else if("undefined"!==typeof l.store.stateToId[c])b=l.store.stateToId[c];else{for(;b=(new Date).getTime()+String(Math.random()).replace(/\D/g,""),"undefined"!==typeof l.idToState[b]||"undefined"!==typeof l.store.idToState[b];);l.stateToId[c]=b;l.idToState[b]=a}}return b};l.normalizeState=function(a){a&&"object"===typeof a||(a={});if("undefined"!==typeof a.normalized)return a;a.data&&"object"===
typeof a.data||(a.data={});var b={normalized:!0};b.title=a.title||"";b.url=l.getFullUrl(a.url?a.url:l.getLocationHref());b.hash=l.getShortUrl(b.url);b.data=l.cloneObject(a.data);b.id=l.getIdByState(b);b.cleanUrl=b.url.replace(/\??&_suid.*/,"");b.url=b.cleanUrl;a=!l.isEmptyObject(b.data);(b.title||a)&&!0!==l.options.disableSuid&&(b.hash=l.getShortUrl(b.url).replace(/\??&_suid.*/,""),/\?/.test(b.hash)||(b.hash+="?"),b.hash+="\x26_suid\x3d"+b.id);b.hashedUrl=l.getFullUrl(b.hash);(l.emulated.pushState||
l.bugs.safariPoll)&&l.hasUrlDuplicate(b)&&(b.url=b.hashedUrl);return b};l.createStateObject=function(a,b,c){a={data:a,title:b,url:c};return a=l.normalizeState(a)};l.getStateById=function(a){a=String(a);return l.idToState[a]||l.store.idToState[a]||e};l.getStateString=function(a){a={data:l.normalizeState(a).data,title:a.title,url:a.url};return m.stringify(a)};l.getStateId=function(a){return l.normalizeState(a).id};l.getHashByState=function(a){return l.normalizeState(a).hash};l.extractId=function(a){a=
-1!=a.indexOf("#")?a.split("#")[0]:a;return((a=/(.*)&_suid=([0-9]+)$/.exec(a))?String(a[2]||""):"")||!1};l.isTraditionalAnchor=function(a){return!/[\/\?\.]/.test(a)};l.extractState=function(a,b){var c=null,d;b=b||!1;(d=l.extractId(a))&&(c=l.getStateById(d));if(!c){var f=l.getFullUrl(a);(d=l.getIdByUrl(f)||!1)&&(c=l.getStateById(d));c||!b||l.isTraditionalAnchor(a)||(c=l.createStateObject(null,null,f))}return c};l.getIdByUrl=function(a){return l.urlToId[a]||l.store.urlToId[a]||e};l.getLastSavedState=
function(){return l.savedStates[l.savedStates.length-1]||e};l.getLastStoredState=function(){return l.storedStates[l.storedStates.length-1]||e};l.hasUrlDuplicate=function(a){var b;return(b=l.extractState(a.url))&&b.id!==a.id};l.storeState=function(a){l.urlToId[a.url]=a.id;l.storedStates.push(l.cloneObject(a));return a};l.isLastSavedState=function(a){var b=!1;l.savedStates.length&&(a=a.id,b=l.getLastSavedState(),b=b.id,b=a===b);return b};l.saveState=function(a){if(l.isLastSavedState(a))return!1;l.savedStates.push(l.cloneObject(a));
return!0};l.getStateByIndex=function(a){return"undefined"===typeof a?l.savedStates[l.savedStates.length-1]:0>a?l.savedStates[l.savedStates.length+a]:l.savedStates[a]};l.getCurrentIndex=function(){return 1>l.savedStates.length?0:l.savedStates.length-1};l.getHash=function(a){a=l.getLocationHref(a);return l.getHashByUrl(a)};l.unescapeHash=function(a){a=l.normalizeHash(a);return a=decodeURIComponent(a)};l.normalizeHash=function(a){return a.replace(/[^#]*#/,"").replace(/#.*/,"")};l.setHash=function(a,
b){var c;if(!1!==b&&l.busy())return l.pushQueue({scope:l,callback:l.setHash,args:arguments,queue:b}),!1;l.busy(!0);(c=l.extractState(a,!0))&&!l.emulated.pushState?l.pushState(c.data,c.title,c.url,!1):l.getHash()!==a&&(l.bugs.setHash?(c=l.getPageUrl(),l.pushState(null,null,c+"#"+a,!1)):g.location.hash=a);return l};l.escapeHash=function(a){a=l.normalizeHash(a);a=b.encodeURIComponent(a);l.bugs.hashEscape||(a=a.replace(/%21/g,"!").replace(/%26/g,"\x26").replace(/%3D/g,"\x3d").replace(/%3F/g,"?"));return a};
l.getHashByUrl=function(a){a=String(a).replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");return a=l.unescapeHash(a)};l.setTitle=function(a){var b=a.title,c;b||(c=l.getStateByIndex(0))&&c.url===a.url&&(b=c.title||l.options.initialTitle);try{g.getElementsByTagName("title")[0].innerHTML=b.replace("\x3c","\x26lt;").replace("\x3e","\x26gt;").replace(" \x26 "," \x26amp; ")}catch(u){}g.title=b;return l};l.queues=[];l.busy=function(a){"undefined"!==typeof a?l.busy.flag=a:"undefined"===typeof l.busy.flag&&(l.busy.flag=
!1);if(!l.busy.flag){f(l.busy.timeout);var b=function(){var a;if(!l.busy.flag)for(a=l.queues.length-1;0<=a;--a){var c=l.queues[a];0!==c.length&&(c=c.shift(),l.fireQueueItem(c),l.busy.timeout=d(b,l.options.busyDelay))}};l.busy.timeout=d(b,l.options.busyDelay)}return l.busy.flag};l.busy.flag=!1;l.fireQueueItem=function(a){return a.callback.apply(a.scope||l,a.args||[])};l.pushQueue=function(a){l.queues[a.queue||0]=l.queues[a.queue||0]||[];l.queues[a.queue||0].push(a);return l};l.queue=function(a,b){"function"===
typeof a&&(a={callback:a});"undefined"!==typeof b&&(a.queue=b);l.busy()?l.pushQueue(a):l.fireQueueItem(a);return l};l.clearQueue=function(){l.busy.flag=!1;l.queues=[];return l};l.stateChanged=!1;l.doubleChecker=!1;l.doubleCheckComplete=function(){l.stateChanged=!0;l.doubleCheckClear();return l};l.doubleCheckClear=function(){l.doubleChecker&&(f(l.doubleChecker),l.doubleChecker=!1);return l};l.doubleCheck=function(a){l.stateChanged=!1;l.doubleCheckClear();l.bugs.ieDoubleCheck&&(l.doubleChecker=d(function(){l.doubleCheckClear();
l.stateChanged||a();return!0},l.options.doubleCheckInterval));return l};l.safariStatePoll=function(){var a=l.extractState(l.getLocationHref());if(!l.isLastSavedState(a))return a||l.createStateObject(),l.Adapter.trigger(b,"popstate"),l};l.back=function(a){if(!1!==a&&l.busy())return l.pushQueue({scope:l,callback:l.back,args:arguments,queue:a}),!1;l.busy(!0);l.doubleCheck(function(){l.back(!1)});t.go(-1);return!0};l.forward=function(a){if(!1!==a&&l.busy())return l.pushQueue({scope:l,callback:l.forward,
args:arguments,queue:a}),!1;l.busy(!0);l.doubleCheck(function(){l.forward(!1)});t.go(1);return!0};l.go=function(a,b){var c;if(0<a)for(c=1;c<=a;++c)l.forward(b);else if(0>a)for(c=-1;c>=a;--c)l.back(b);else throw Error("History.go: History.go requires a positive or negative integer passed.");return l};l.emulated.pushState?(r=function(){},l.pushState=l.pushState||r,l.replaceState=l.replaceState||r):(l.onPopState=function(a,c){var d;l.doubleCheckComplete();if(d=l.getHash())return(a=l.extractState(d||
l.getLocationHref(),!0))?l.replaceState(a.data,a.title,a.url,!1):(l.Adapter.trigger(b,"anchorchange"),l.busy(!1)),l.expectedStateId=!1;(a=(a=l.Adapter.extractEventData("state",a,c)||!1)?l.getStateById(a):l.expectedStateId?l.getStateById(l.expectedStateId):l.extractState(l.getLocationHref()))||(a=l.createStateObject(null,null,l.getLocationHref()));l.expectedStateId=!1;if(l.isLastSavedState(a))return l.busy(!1),!1;l.storeState(a);l.saveState(a);l.setTitle(a);l.Adapter.trigger(b,"statechange");l.busy(!1);
return!0},l.Adapter.bind(b,"popstate",l.onPopState),l.pushState=function(a,c,d,f){if(l.getHashByUrl(d)&&l.emulated.pushState)throw Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(!1!==f&&l.busy())return l.pushQueue({scope:l,callback:l.pushState,args:arguments,queue:f}),!1;l.busy(!0);var e=l.createStateObject(a,c,d);l.isLastSavedState(e)?l.busy(!1):(l.storeState(e),l.expectedStateId=e.id,t.pushState(e.id,e.title,e.url),l.Adapter.trigger(b,"popstate"));return!0},
l.replaceState=function(a,c,d,f){if(l.getHashByUrl(d)&&l.emulated.pushState)throw Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(!1!==f&&l.busy())return l.pushQueue({scope:l,callback:l.replaceState,args:arguments,queue:f}),!1;l.busy(!0);var e=l.createStateObject(a,c,d);l.isLastSavedState(e)?l.busy(!1):(l.storeState(e),l.expectedStateId=e.id,t.replaceState(e.id,e.title,e.url),l.Adapter.trigger(b,"popstate"));return!0});if(a)try{l.store=m.parse(a.getItem("History.store"))||
{}}catch(v){l.store={}}else l.store={};l.normalizeStore();l.Adapter.bind(b,"unload",l.clearAllIntervals);l.saveState(l.storeState(l.extractState(l.getLocationHref(),!0)));a&&(l.onUnload=function(){var b;try{var c=m.parse(a.getItem("History.store"))||{}}catch(x){c={}}c.idToState=c.idToState||{};c.urlToId=c.urlToId||{};c.stateToId=c.stateToId||{};for(b in l.idToState)l.idToState.hasOwnProperty(b)&&(c.idToState[b]=l.idToState[b]);for(b in l.urlToId)l.urlToId.hasOwnProperty(b)&&(c.urlToId[b]=l.urlToId[b]);
for(b in l.stateToId)l.stateToId.hasOwnProperty(b)&&(c.stateToId[b]=l.stateToId[b]);l.store=c;l.normalizeStore();c=m.stringify(c);try{a.setItem("History.store",c)}catch(x){if(x.code===DOMException.QUOTA_EXCEEDED_ERR)a.length&&(a.removeItem("History.store"),a.setItem("History.store",c));else throw x;}},l.intervalList.push(h(l.onUnload,l.options.storeInterval)),l.Adapter.bind(b,"beforeunload",l.onUnload),l.Adapter.bind(b,"unload",l.onUnload));if(!l.emulated.pushState&&(l.bugs.safariPoll&&l.intervalList.push(h(l.safariStatePoll,
l.options.safariPollInterval)),"Apple Computer, Inc."===c.vendor||"Mozilla"===(c.appCodeName||""))&&(l.Adapter.bind(b,"hashchange",function(){l.Adapter.trigger(b,"popstate")}),l.getHash()))l.Adapter.onDomLoad(function(){l.Adapter.trigger(b,"hashchange")})},l.options&&l.options.delayInit||l.init())})(window);
(function(b,e){var k=b.History=b.History||{},g=b.jQuery;if("undefined"!==typeof k.Adapter)throw Error("History.js Adapter has already been loaded...");k.Adapter={bind:function(b,a,d){g(b).bind(a,d)},trigger:function(b,a,d){g(b).trigger(a,d)},extractEventData:function(b,a,d){return a&&a.originalEvent&&a.originalEvent[b]||d&&d[b]||e},onDomLoad:function(b){g(b)}};"undefined"!==typeof k.init&&k.init()})(window);define&&define.nextId("imagesLoaded");
(function(){function b(){}function e(a,b){for(var c=a.length;c--;)if(a[c].listener===b)return c;return-1}function k(a){return function(){return this[a].apply(this,arguments)}}var g=b.prototype,c=this,a=c.EventEmitter;g.getListeners=function(a){var b=this._getEvents(),c;if("object"===typeof a){var d={};for(c in b)b.hasOwnProperty(c)&&a.test(c)&&(d[c]=b[c])}else d=b[a]||(b[a]=[]);return d};g.flattenListeners=function(a){var b=[],c;for(c=0;c<a.length;c+=1)b.push(a[c].listener);return b};g.getListenersAsObject=
function(a){var b=this.getListeners(a);if(b instanceof Array){var c={};c[a]=b}return c||b};g.addListener=function(a,b){a=this.getListenersAsObject(a);var c="object"===typeof b,d;for(d in a)a.hasOwnProperty(d)&&-1===e(a[d],b)&&a[d].push(c?b:{listener:b,once:!1});return this};g.on=k("addListener");g.addOnceListener=function(a,b){return this.addListener(a,{listener:b,once:!0})};g.once=k("addOnceListener");g.defineEvent=function(a){this.getListeners(a);return this};g.defineEvents=function(a){for(var b=
0;b<a.length;b+=1)this.defineEvent(a[b]);return this};g.removeListener=function(a,b){a=this.getListenersAsObject(a);var c;for(c in a)if(a.hasOwnProperty(c)){var d=e(a[c],b);-1!==d&&a[c].splice(d,1)}return this};g.off=k("removeListener");g.addListeners=function(a,b){return this.manipulateListeners(!1,a,b)};g.removeListeners=function(a,b){return this.manipulateListeners(!0,a,b)};g.manipulateListeners=function(a,b,c){var d,f,e=a?this.removeListener:this.addListener;a=a?this.removeListeners:this.addListeners;
if("object"!==typeof b||b instanceof RegExp)for(d=c.length;d--;)e.call(this,b,c[d]);else for(d in b)b.hasOwnProperty(d)&&(f=b[d])&&("function"===typeof f?e.call(this,d,f):a.call(this,d,f));return this};g.removeEvent=function(a){var b=typeof a,c=this._getEvents(),d;if("string"===b)delete c[a];else if("object"===b)for(d in c)c.hasOwnProperty(d)&&a.test(d)&&delete c[d];else delete this._events;return this};g.removeAllListeners=k("removeEvent");g.emitEvent=function(a,b){var c=this.getListenersAsObject(a),
d,f;for(f in c)if(c.hasOwnProperty(f))for(d=c[f].length;d--;){var e=c[f][d];!0===e.once&&this.removeListener(a,e.listener);var g=e.listener.apply(this,b||[]);g===this._getOnceReturnValue()&&this.removeListener(a,e.listener)}return this};g.trigger=k("emitEvent");g.emit=function(a){var b=Array.prototype.slice.call(arguments,1);return this.emitEvent(a,b)};g.setOnceReturnValue=function(a){this._onceReturnValue=a;return this};g._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?
this._onceReturnValue:!0};g._getEvents=function(){return this._events||(this._events={})};b.noConflict=function(){c.EventEmitter=a;return b};"function"===typeof define&&define.amd2?define("eventEmitter/EventEmitter",[],function(){return b}):"object"===typeof module&&module.exports?module.exports=b:this.EventEmitter=b}).call(this);
(function(b){function e(a){var c=b.event;c.target=c.target||c.srcElement||a;return c}var k=document.documentElement,g=function(){};k.addEventListener?g=function(a,b,c){a.addEventListener(b,c,!1)}:k.attachEvent&&(g=function(a,b,c){a[b+c]=c.handleEvent?function(){var b=e(a);c.handleEvent.call(c,b)}:function(){var b=e(a);c.call(a,b)};a.attachEvent("on"+b,a[b+c])});var c=function(){};k.removeEventListener?c=function(a,b,c){a.removeEventListener(b,c,!1)}:k.detachEvent&&(c=function(a,b,c){a.detachEvent("on"+
b,a[b+c]);try{delete a[b+c]}catch(h){a[b+c]=void 0}});k={bind:g,unbind:c};"function"===typeof define&&define.amd2?define("eventie/eventie",k):b.eventie=k})(this);
(function(b,e){"function"===typeof define&&define.amd2?define(["eventEmitter/EventEmitter","eventie/eventie"],function(k,g){return e(b,k,g)}):"object"===typeof exports?module.exports=e(b,require("wolfy87-eventemitter"),require("eventie")):b.imagesLoaded=e(b,b.EventEmitter,b.eventie)})(window,function(b,e,k){function g(a,b){for(var c in b)a[c]=b[c];return a}function c(a){var b=[];if("[object Array]"===q.call(a))b=a;else if("number"===typeof a.length)for(var c=0,d=a.length;c<d;c++)b.push(a[c]);else b.push(a);
return b}function a(b,d,f){if(!(this instanceof a))return new a(b,d);"string"===typeof b&&(b=document.querySelectorAll(b));this.elements=c(b);this.options=g({},this.options);"function"===typeof d?f=d:g(this.options,d);if(f)this.on("always",f);this.getImages();h&&(this.jqDeferred=new h.Deferred);var e=this;setTimeout(function(){e.check()})}function d(a){this.img=a}function f(a){this.src=a;l[a]=this}var h=b.jQuery,n=b.console,m="undefined"!==typeof n,q=Object.prototype.toString;a.prototype=new e;a.prototype.options=
{};a.prototype.getImages=function(){this.images=[];for(var a=0,b=this.elements.length;a<b;a++){var c=this.elements[a];"IMG"===c.nodeName&&this.addImage(c);var d=c.nodeType;if(d&&(1===d||9===d||11===d)){c=c.querySelectorAll("img");d=0;for(var f=c.length;d<f;d++)this.addImage(c[d])}}};a.prototype.addImage=function(a){a=new d(a);this.images.push(a)};a.prototype.check=function(){function a(a,f){b.options.debug&&m&&n.log("confirm",a,f);b.progress(a);c++;c===d&&b.complete();return!0}var b=this,c=0,d=this.images.length;
this.hasAnyBroken=!1;if(d)for(var f=0;f<d;f++){var e=this.images[f];e.on("confirm",a);e.check()}else this.complete()};a.prototype.progress=function(a){this.hasAnyBroken=this.hasAnyBroken||!a.isLoaded;var b=this;setTimeout(function(){b.emit("progress",b,a);b.jqDeferred&&b.jqDeferred.notify&&b.jqDeferred.notify(b,a)})};a.prototype.complete=function(){var a=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var b=this;setTimeout(function(){b.emit(a,b);b.emit("always",b);if(b.jqDeferred)b.jqDeferred[b.hasAnyBroken?
"reject":"resolve"](b)})};h&&(h.fn.imagesLoaded=function(b,c){return(new a(this,b,c)).jqDeferred.promise(h(this))});d.prototype=new e;d.prototype.check=function(){var a=l[this.img.src]||new f(this.img.src);if(a.isConfirmed)this.confirm(a.isLoaded,"cached was confirmed");else if(this.img.complete&&void 0!==this.img.naturalWidth)this.confirm(0!==this.img.naturalWidth,"naturalWidth");else{var b=this;a.on("confirm",function(a,c){b.confirm(a.isLoaded,c);return!0});a.check()}};d.prototype.confirm=function(a,
b){this.isLoaded=a;this.emit("confirm",this,b)};var l={};f.prototype=new e;f.prototype.check=function(){if(!this.isChecked){var a=new Image;k.bind(a,"load",this);k.bind(a,"error",this);a.src=this.src;this.isChecked=!0}};f.prototype.handleEvent=function(a){var b="on"+a.type;if(this[b])this[b](a)};f.prototype.onload=function(a){this.confirm(!0,"onload");this.unbindProxyEvents(a)};f.prototype.onerror=function(a){this.confirm(!1,"onerror");this.unbindProxyEvents(a)};f.prototype.confirm=function(a,b){this.isConfirmed=
!0;this.isLoaded=a;this.emit("confirm",this,b)};f.prototype.unbindProxyEvents=function(a){k.unbind(a.target,"load",this);k.unbind(a.target,"error",this)};return a});define&&define.nextId("moment");
(function(b){function e(a,b,c){switch(arguments.length){case 2:return null!=a?a:b;case 3:return null!=a?a:null!=b?b:c;default:throw Error("Implement me");}}function k(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function g(a){!1===E.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+a)}function c(a,b){var c=!0;return m(function(){c&&
(g(a),c=!1);return b.apply(this,arguments)},b)}function a(a,b){return function(c){return t(a.call(this,c),b)}}function d(a,b){return function(c){return this.localeData().ordinal(a.call(this,c),b)}}function f(){}function h(a,b){!1!==b&&K(a);q(this,a);this._d=new Date(+a._d);!1===eb&&(eb=!0,E.updateOffset(this),eb=!1)}function n(a){a=C(a);var b=a.year||0,c=a.quarter||0,d=a.month||0,f=a.week||0,e=a.day||0;this._milliseconds=+(a.millisecond||0)+1E3*(a.second||0)+6E4*(a.minute||0)+36E5*(a.hour||0);this._days=
+e+7*f;this._months=+d+3*c+12*b;this._data={};this._locale=E.localeData();this._bubble()}function m(a,b){for(var c in b)ja.call(b,c)&&(a[c]=b[c]);ja.call(b,"toString")&&(a.toString=b.toString);ja.call(b,"valueOf")&&(a.valueOf=b.valueOf);return a}function q(a,b){var c;"undefined"!==typeof b._isAMomentObject&&(a._isAMomentObject=b._isAMomentObject);"undefined"!==typeof b._i&&(a._i=b._i);"undefined"!==typeof b._f&&(a._f=b._f);"undefined"!==typeof b._l&&(a._l=b._l);"undefined"!==typeof b._strict&&(a._strict=
b._strict);"undefined"!==typeof b._tzm&&(a._tzm=b._tzm);"undefined"!==typeof b._isUTC&&(a._isUTC=b._isUTC);"undefined"!==typeof b._offset&&(a._offset=b._offset);"undefined"!==typeof b._pf&&(a._pf=b._pf);"undefined"!==typeof b._locale&&(a._locale=b._locale);if(0<ra.length)for(c in ra){var d=ra[c];var f=b[d];"undefined"!==typeof f&&(a[d]=f)}return a}function l(a){return 0>a?Math.ceil(a):Math.floor(a)}function t(a,b,c){for(var d=""+Math.abs(a);d.length<b;)d="0"+d;return(0<=a?c?"+":"":"-")+d}function r(a,
b){var c={milliseconds:0,months:0};c.months=b.month()-a.month()+12*(b.year()-a.year());a.clone().add(c.months,"M").isAfter(b)&&--c.months;c.milliseconds=+b-+a.clone().add(c.months,"M");return c}function v(a,b){b=L(b,a);a.isBefore(b)?a=r(a,b):(a=r(b,a),a.milliseconds=-a.milliseconds,a.months=-a.months);return a}function w(a,b){return function(c,d){if(null!==d&&!isNaN(+d)){Ga[b]||(g("moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period)."),Ga[b]=!0);var f=c;c=d;d=f}c=
E.duration("string"===typeof c?+c:c,d);x(this,c,a);return this}}function x(a,b,c,d){var f=b._milliseconds,e=b._days;b=b._months;d=null==d?!0:d;f&&a._d.setTime(+a._d+f*c);e&&ua(a,"Date",ia(a,"Date")+e*c);b&&za(a,ia(a,"Month")+b*c);d&&E.updateOffset(a,e||b)}function u(a){return"[object Array]"===Object.prototype.toString.call(a)}function y(a){return"[object Date]"===Object.prototype.toString.call(a)||a instanceof Date}function B(a,b,c){var d=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),
e=0,g;for(g=0;g<d;g++)(c&&a[g]!==b[g]||!c&&D(a[g])!==D(b[g]))&&e++;return e+f}function z(a){if(a){var b=a.toLowerCase().replace(/(.)s$/,"$1");a=yb[a]||Da[b]||b}return a}function C(a){var b={},c,d;for(d in a)ja.call(a,d)&&(c=z(d))&&(b[c]=a[d]);return b}function A(a){if(0===a.indexOf("week")){var c=7;var d="day"}else if(0===a.indexOf("month"))c=12,d="month";else return;E[a]=function(f,e){var g=E._locale[a],h=[];"number"===typeof f&&(e=f,f=b);var l=function(a){a=E().utc().set(d,a);return g.call(E._locale,
a,f||"")};if(null!=e)return l(e);for(e=0;e<c;e++)h.push(l(e));return h}}function D(a){a=+a;var b=0;0!==a&&isFinite(a)&&(b=0<=a?Math.floor(a):Math.ceil(a));return b}function H(a,b){return(new Date(Date.UTC(a,b+1,0))).getUTCDate()}function F(a,b,c){return na(E([a,11,31+b-c]),b,c).week}function G(a){return 0===a%4&&0!==a%100||0===a%400}function K(a){if(a._a&&-2===a._pf.overflow){var b=0>a._a[1]||11<a._a[1]?1:1>a._a[2]||a._a[2]>H(a._a[0],a._a[1])?2:0>a._a[3]||24<a._a[3]||24===a._a[3]&&(0!==a._a[4]||0!==
a._a[5]||0!==a._a[6])?3:0>a._a[4]||59<a._a[4]?4:0>a._a[5]||59<a._a[5]?5:0>a._a[6]||999<a._a[6]?6:-1;a._pf._overflowDayOfYear&&(0>b||2<b)&&(b=2);a._pf.overflow=b}}function I(a){null==a._isValid&&(a._isValid=!isNaN(a._d.getTime())&&0>a._pf.overflow&&!a._pf.empty&&!a._pf.invalidMonth&&!a._pf.nullInput&&!a._pf.invalidFormat&&!a._pf.userInvalidated,a._strict&&(a._isValid=a._isValid&&0===a._pf.charsLeftOver&&0===a._pf.unusedTokens.length&&a._pf.bigHour===b));return a._isValid}function S(a){return a?a.toLowerCase().replace("_",
"-"):a}function J(a){var b=null;if(!xa[a]&&X)try{b=E.locale(),require("./locale/"+a),E.locale(b)}catch(Ua){}return xa[a]}function L(a,b){return b._isUTC?(b=b.clone(),a=(E.isMoment(a)||y(a)?+a:+E(a))-+b,b._d.setTime(+b._d+a),E.updateOffset(b,!1),b):E(a).local()}function R(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function O(a){var b=a.match(La),c;var d=0;for(c=b.length;d<c;d++)b[d]=Ca[b[d]]?Ca[b[d]]:R(b[d]);return function(f){var e="";for(d=0;d<c;d++)e+=b[d]instanceof
Function?b[d].call(f,a):b[d];return e}}function U(a,b){if(!a.isValid())return a.localeData().invalidDate();b=N(b,a.localeData());Oa[b]||(Oa[b]=O(b));return Oa[b](a)}function N(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(Fa.lastIndex=0;0<=d&&Fa.test(a);)a=a.replace(Fa,c),Fa.lastIndex=0,--d;return a}function T(a,b){var c=b._strict;switch(a){case "Q":return jb;case "DDDD":return Sa;case "YYYY":case "GGGG":case "gggg":return c?Na:Ia;case "Y":case "G":case "g":return nb;case "YYYYYY":case "YYYYY":case "GGGGG":case "ggggg":return c?
mb:Xa;case "S":if(c)return jb;case "SS":if(c)return Za;case "SSS":if(c)return Sa;case "DDD":return va;case "MMM":case "MMMM":case "dd":case "ddd":case "dddd":return tb;case "a":case "A":return b._locale._meridiemParse;case "x":return hb;case "X":return ib;case "Z":case "ZZ":return Ya;case "T":return gb;case "SSSS":return Ma;case "MM":case "DD":case "YY":case "GG":case "gg":case "HH":case "hh":case "mm":case "ss":case "ww":case "WW":return c?Za:ha;case "M":case "D":case "d":case "H":case "h":case "m":case "s":case "w":case "W":case "e":case "E":return ha;
case "Do":return c?b._locale._ordinalParse:b._locale._ordinalParseLenient;default:return b=RegExp,a=Y(a.replace("\\","")).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$\x26"),a=new b(a)}}function Q(a){a=(a||"").match(Ya)||[];a=((a[a.length-1]||[])+"").match(ob)||["-",0,0];var b=+(60*a[1])+D(a[2]);return"+"===a[0]?b:-b}function da(a){var b=[];if(!a._d){var c=new Date;c=a._useUTC?[c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()]:[c.getFullYear(),c.getMonth(),c.getDate()];if(a._w&&null==a._a[2]&&null==a._a[1]){var d=
a._w;if(null!=d.GG||null!=d.W||null!=d.E){var f=1;var g=4;var h=e(d.GG,a._a[0],na(E(),1,4).year);var l=e(d.W,1);d=e(d.E,1)}else f=a._locale._week.dow,g=a._locale._week.doy,h=e(d.gg,a._a[0],na(E(),f,g).year),l=e(d.w,1),null!=d.d?(d=d.d,d<f&&++l):d=null!=d.e?d.e+f:f;var k=qa(h,0,1).getUTCDay();k=0===k?7:k;g=7*(l-1)+((null!=d?d:f)-f)+(f-k+(k>g?7:0)-(k<f?7:0))+1;f=0<g?h:h-1;h=0<g?g:(G(h-1)?366:365)+g;a._a[0]=f;a._dayOfYear=h}a._dayOfYear&&(h=e(a._a[0],c[0]),a._dayOfYear>(G(h)?366:365)&&(a._pf._overflowDayOfYear=
!0),h=qa(h,0,a._dayOfYear),a._a[1]=h.getUTCMonth(),a._a[2]=h.getUTCDate());for(h=0;3>h&&null==a._a[h];++h)a._a[h]=b[h]=c[h];for(;7>h;h++)a._a[h]=b[h]=null==a._a[h]?2===h?1:0:a._a[h];24===a._a[3]&&0===a._a[4]&&0===a._a[5]&&0===a._a[6]&&(a._nextDay=!0,a._a[3]=0);a._d=(a._useUTC?qa:pa).apply(null,b);null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm);a._nextDay&&(a._a[3]=24)}}function W(a){if(!a._d){var b=C(a._i);a._a=[b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond];da(a)}}
function ca(a){if(a._f===E.ISO_8601)V(a);else{a._a=[];a._pf.empty=!0;var c=""+a._i,d,f,e=c.length,g=0;var h=N(a._f,a._locale).match(La)||[];for(d=0;d<h.length;d++){var l=h[d];if(f=(c.match(T(l,a))||[])[0]){var k=c.substr(0,c.indexOf(f));0<k.length&&a._pf.unusedInput.push(k);c=c.slice(c.indexOf(f)+f.length);g+=f.length}if(Ca[l]){f?a._pf.empty=!1:a._pf.unusedTokens.push(l);k=a;var m=k._a;switch(l){case "Q":null!=f&&(m[1]=3*(D(f)-1));break;case "M":case "MM":null!=f&&(m[1]=D(f)-1);break;case "MMM":case "MMMM":l=
k._locale.monthsParse(f,l,k._strict);null!=l?m[1]=l:k._pf.invalidMonth=f;break;case "D":case "DD":null!=f&&(m[2]=D(f));break;case "Do":null!=f&&(m[2]=D(parseInt(f.match(/\d{1,2}/)[0],10)));break;case "DDD":case "DDDD":null!=f&&(k._dayOfYear=D(f));break;case "YY":m[0]=E.parseTwoDigitYear(f);break;case "YYYY":case "YYYYY":case "YYYYYY":m[0]=D(f);break;case "a":case "A":k._meridiem=f;break;case "h":case "hh":k._pf.bigHour=!0;case "H":case "HH":m[3]=D(f);break;case "m":case "mm":m[4]=D(f);break;case "s":case "ss":m[5]=
D(f);break;case "S":case "SS":case "SSS":case "SSSS":m[6]=D(1E3*("0."+f));break;case "x":k._d=new Date(D(f));break;case "X":k._d=new Date(1E3*parseFloat(f));break;case "Z":case "ZZ":k._useUTC=!0;k._tzm=Q(f);break;case "dd":case "ddd":case "dddd":l=k._locale.weekdaysParse(f);null!=l?(k._w=k._w||{},k._w.d=l):k._pf.invalidWeekday=f;break;case "w":case "ww":case "W":case "WW":case "d":case "e":case "E":l=l.substr(0,1);case "gggg":case "GGGG":case "GGGGG":l=l.substr(0,2);f&&(k._w=k._w||{},k._w[l]=D(f));
break;case "gg":case "GG":k._w=k._w||{},k._w[l]=E.parseTwoDigitYear(f)}}else a._strict&&!f&&a._pf.unusedTokens.push(l)}a._pf.charsLeftOver=e-g;0<c.length&&a._pf.unusedInput.push(c);!0===a._pf.bigHour&&12>=a._a[3]&&(a._pf.bigHour=b);c=a._a;h=a._locale;d=a._a[3];e=a._meridiem;null!=e&&(null!=h.meridiemHour?d=h.meridiemHour(d,e):null!=h.isPM&&((h=h.isPM(e))&&12>d&&(d+=12),h||12!==d||(d=0)));c[3]=d;da(a);K(a)}}function Y(a){return a.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,f){return b||
c||d||f})}function V(a){var b,c=a._i,d=xb.exec(c);if(d){a._pf.iso=!0;var f=0;for(b=bb.length;f<b;f++)if(bb[f][1].exec(c)){a._f=bb[f][0]+(d[6]||" ");break}f=0;for(b=cb.length;f<b;f++)if(cb[f][1].exec(c)){a._f+=cb[f][0];break}c.match(Ya)&&(a._f+="Z");ca(a)}else a._isValid=!1}function la(a){V(a);!1===a._isValid&&(delete a._isValid,E.createFromInputFallback(a))}function sa(a,b){var c=[],d;for(d=0;d<a.length;++d)c.push(b(a[d],d));return c}function ta(a){var c=a._i,d;c===b?a._d=new Date:y(c)?a._d=new Date(+c):
null!==(d=Aa.exec(c))?a._d=new Date(+d[1]):"string"===typeof c?la(a):u(c)?(a._a=sa(c.slice(0),function(a){return parseInt(a,10)}),da(a)):"object"===typeof c?W(a):"number"===typeof c?a._d=new Date(c):E.createFromInputFallback(a)}function pa(a,b,c,d,f,e,g){b=new Date(a,b,c,d,f,e,g);1970>a&&b.setFullYear(a);return b}function qa(a){var b=new Date(Date.UTC.apply(null,arguments));1970>a&&b.setUTCFullYear(a);return b}function ya(a,b,c,d,f){return f.relativeTime(b||1,!!c,a,d)}function na(a,b,c){b=c-b;c-=
a.day();c>b&&(c-=7);c<b-7&&(c+=7);a=E(a).add(c,"d");return{week:Math.ceil(a.dayOfYear()/7),year:a.year()}}function M(a){var c=a._i,d=a._f;a._locale=a._locale||E.localeData(a._l);if(null===c||d===b&&""===c)return E.invalid({nullInput:!0});"string"===typeof c&&(a._i=c=a._locale.preparse(c));if(E.isMoment(c))return new h(c,!0);if(d)if(u(d))if(0===a._f.length)a._pf.invalidFormat=!0,a._d=new Date(NaN);else{for(c=0;c<a._f.length;c++){d=0;var f=q({},a);null!=a._useUTC&&(f._useUTC=a._useUTC);f._pf=k();f._f=
a._f[c];ca(f);if(I(f)&&(d+=f._pf.charsLeftOver,d+=10*f._pf.unusedTokens.length,f._pf.score=d,null==e||d<e)){var e=d;var g=f}}m(a,g||f)}else ca(a);else ta(a);a=new h(a);a._nextDay&&(a.add(1,"d"),a._nextDay=b);return a}function p(a,b){var c;1===b.length&&u(b[0])&&(b=b[0]);if(!b.length)return E();var d=b[0];for(c=1;c<b.length;++c)b[c][a](d)&&(d=b[c]);return d}function za(a,b){if("string"===typeof b&&(b=a.localeData().monthsParse(b),"number"!==typeof b))return a;var c=Math.min(a.date(),H(a.year(),b));
a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c);return a}function ia(a,b){return a._d["get"+(a._isUTC?"UTC":"")+b]()}function ua(a,b,c){return"Month"===b?za(a,c):a._d["set"+(a._isUTC?"UTC":"")+b](c)}function ba(a,b){return function(c){return null!=c?(ua(this,a,c),E.updateOffset(this,b),this):ia(this,a)}}function oa(a){E.duration.fn[a]=function(){return this._data[a]}}function Z(a){"undefined"===typeof ender&&(P=wa.moment,wa.moment=a?c("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",
E):E)}for(var E,wa="undefined"===typeof global||"undefined"!==typeof window&&window!==global.window?this:global,P,ma=Math.round,ja=Object.prototype.hasOwnProperty,ka,xa={},ra=[],X="undefined"!==typeof module&&module&&module.exports,Aa=/^\/?Date\((\-?\d+)/i,Ea=/(\-)?(?:(\d*)\.)?(\d+):(\d+)(?::(\d+)\.?(\d{3})?)?/,aa=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,La=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,
Fa=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ha=/\d\d?/,va=/\d{1,3}/,Ia=/\d{1,4}/,Xa=/[+\-]?\d{1,6}/,Ma=/\d+/,tb=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Ya=/Z|[\+\-]\d\d:?\d\d/gi,gb=/T/i,hb=/[\+\-]?\d+/,ib=/[\+\-]?\d+(\.\d{1,3})?/,jb=/\d/,Za=/\d\d/,Sa=/\d{3}/,Na=/\d{4}/,mb=/[+-]?\d{6}/,nb=/[+-]?\d+/,xb=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,
bb=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],cb=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],ob=/([\+\-]|\d\d)/gi,kb={Milliseconds:1,Seconds:1E3,Minutes:6E4,Hours:36E5,Days:864E5,Months:2592E6,Years:31536E6},yb={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",
M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},Da={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},Oa={},Ba={s:45,m:45,h:22,d:26,M:11},$a="DDD w W M D d".split(" "),db="MDHhmswW".split(""),Ca={M:function(){return this.month()+1},MMM:function(a){return this.localeData().monthsShort(this,a)},MMMM:function(a){return this.localeData().months(this,a)},D:function(){return this.date()},
DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(a){return this.localeData().weekdaysMin(this,a)},ddd:function(a){return this.localeData().weekdaysShort(this,a)},dddd:function(a){return this.localeData().weekdays(this,a)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return t(this.year()%100,2)},YYYY:function(){return t(this.year(),4)},YYYYY:function(){return t(this.year(),5)},YYYYYY:function(){var a=this.year();return(0<=a?"+":
"-")+t(Math.abs(a),6)},gg:function(){return t(this.weekYear()%100,2)},gggg:function(){return t(this.weekYear(),4)},ggggg:function(){return t(this.weekYear(),5)},GG:function(){return t(this.isoWeekYear()%100,2)},GGGG:function(){return t(this.isoWeekYear(),4)},GGGGG:function(){return t(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),
this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return D(this.milliseconds()/100)},SS:function(){return t(D(this.milliseconds()/10),2)},SSS:function(){return t(this.milliseconds(),3)},SSSS:function(){return t(this.milliseconds(),3)},Z:function(){var a=this.utcOffset(),b="+";0>a&&(a=-a,b="-");return b+t(D(a/60),2)+":"+t(D(a)%60,2)},ZZ:function(){var a=this.utcOffset(),
b="+";0>a&&(a=-a,b="-");return b+t(D(a/60),2)+t(D(a)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},Ga={},Ha=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"],eb=!1;$a.length;)ka=$a.pop(),Ca[ka+"o"]=d(Ca[ka],ka);for(;db.length;)ka=db.pop(),Ca[ka+ka]=a(Ca[ka],2);Ca.DDDD=a(Ca.DDD,3);m(f.prototype,{set:function(a){var b;for(b in a){var c=a[b];"function"===
typeof c?this[b]=c:this["_"+b]=c}this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January February March April May June July August September October November December".split(" "),months:function(a){return this._months[a.month()]},_monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),monthsShort:function(a){return this._monthsShort[a.month()]},monthsParse:function(a,b,c){var d;this._monthsParse||(this._monthsParse=[],this._longMonthsParse=
[],this._shortMonthsParse=[]);for(d=0;12>d;d++){var f=E.utc([2E3,d]);c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(f,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=new RegExp("^"+this.monthsShort(f,"").replace(".","")+"$","i"));c||this._monthsParse[d]||(f="^"+this.months(f,"")+"|^"+this.monthsShort(f,""),this._monthsParse[d]=new RegExp(f.replace(".",""),"i"));if(c&&"MMMM"===b&&this._longMonthsParse[d].test(a)||c&&"MMM"===b&&this._shortMonthsParse[d].test(a)||
!c&&this._monthsParse[d].test(a))return d}},_weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),weekdays:function(a){return this._weekdays[a.day()]},_weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),weekdaysShort:function(a){return this._weekdaysShort[a.day()]},_weekdaysMin:"Su Mo Tu We Th Fr Sa".split(" "),weekdaysMin:function(a){return this._weekdaysMin[a.day()]},weekdaysParse:function(a){var b;this._weekdaysParse||(this._weekdaysParse=[]);for(b=0;7>b;b++){if(!this._weekdaysParse[b]){var c=
E([2E3,1]).day(b);c="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,"");this._weekdaysParse[b]=new RegExp(c.replace(".",""),"i")}if(this._weekdaysParse[b].test(a))return b}},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(a){var b=this._longDateFormat[a];!b&&this._longDateFormat[a.toUpperCase()]&&(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,
function(a){return a.slice(1)}),this._longDateFormat[a]=b);return b},isPM:function(a){return"p"===(a+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(a,b,c){return 11<a?c?"pm":"PM":c?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(a,b,c){a=this._calendar[a];return"function"===typeof a?a.apply(b,[c]):a},_relativeTime:{future:"in %s",
past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(a,b,c,d){var f=this._relativeTime[c];return"function"===typeof f?f(a,b,c,d):f.replace(/%d/i,a)},pastFuture:function(a,b){a=this._relativeTime[0<a?"future":"past"];return"function"===typeof a?a(b):a.replace(/%s/i,b)},ordinal:function(a){return this._ordinal.replace("%d",a)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(a){return a},
postformat:function(a){return a},week:function(a){return na(a,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},firstDayOfWeek:function(){return this._week.dow},firstDayOfYear:function(){return this._week.doy},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}});E=function(a,c,d,f){"boolean"===typeof d&&(f=d,d=b);var e={_isAMomentObject:!0};e._i=a;e._f=c;e._l=d;e._strict=f;e._isUTC=!1;e._pf=k();return M(e)};E.suppressDeprecationWarnings=!1;E.createFromInputFallback=
c("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))});E.min=function(){var a=[].slice.call(arguments,0);return p("isBefore",a)};E.max=function(){var a=[].slice.call(arguments,0);return p("isAfter",a)};E.utc=function(a,c,d,f){"boolean"===typeof d&&(f=d,d=b);var e={_isAMomentObject:!0,_useUTC:!0,_isUTC:!0};e._l=
d;e._i=a;e._f=c;e._strict=f;e._pf=k();return M(e).utc()};E.unix=function(a){return E(1E3*a)};E.duration=function(a,b){var c=a,d=null;if(E.isDuration(a))c={ms:a._milliseconds,d:a._days,M:a._months};else if("number"===typeof a)c={},b?c[b]=a:c.milliseconds=a;else if(d=Ea.exec(a)){var f="-"===d[1]?-1:1;c={y:0,d:D(d[2])*f,h:D(d[3])*f,m:D(d[4])*f,s:D(d[5])*f,ms:D(d[6])*f}}else(d=aa.exec(a))?(f="-"===d[1]?-1:1,c=function(a){a=a&&parseFloat(a.replace(",","."));return(isNaN(a)?0:a)*f},c={y:c(d[2]),M:c(d[3]),
d:c(d[4]),h:c(d[5]),m:c(d[6]),s:c(d[7]),w:c(d[8])}):null==c?c={}:"object"===typeof c&&("from"in c||"to"in c)&&(d=v(E(c.from),E(c.to)),c={},c.ms=d.milliseconds,c.M=d.months);c=new n(c);E.isDuration(a)&&ja.call(a,"_locale")&&(c._locale=a._locale);return c};E.version="2.9.0";E.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";E.ISO_8601=function(){};E.momentProperties=ra;E.updateOffset=function(){};E.relativeTimeThreshold=function(a,c){if(Ba[a]===b)return!1;if(c===b)return Ba[a];Ba[a]=c;return!0};E.lang=c("moment.lang is deprecated. Use moment.locale instead.",
function(a,b){return E.locale(a,b)});E.locale=function(a,b){a&&(a="undefined"!==typeof b?E.defineLocale(a,b):E.localeData(a))&&(E.duration._locale=E._locale=a);return E._locale._abbr};E.defineLocale=function(a,b){if(null!==b)return b.abbr=a,xa[a]||(xa[a]=new f),xa[a].set(b),E.locale(a),xa[a];delete xa[a];return null};E.langData=c("moment.langData is deprecated. Use moment.localeData instead.",function(a){return E.localeData(a)});E.localeData=function(a){var b;a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr);
if(!a)return E._locale;if(!u(a)){if(b=J(a))return b;a=[a]}a:{b=0;for(var c,d,f,e;b<a.length;){e=S(a[b]).split("-");c=e.length;for(d=(d=S(a[b+1]))?d.split("-"):null;0<c;){if(f=J(e.slice(0,c).join("-"))){a=f;break a}if(d&&d.length>=c&&B(e,d,!0)>=c-1)break;c--}b++}a=null}return a};E.isMoment=function(a){return a instanceof h||null!=a&&ja.call(a,"_isAMomentObject")};E.isDuration=function(a){return a instanceof n};for(ka=Ha.length-1;0<=ka;--ka)A(Ha[ka]);E.normalizeUnits=function(a){return z(a)};E.invalid=
function(a){var b=E.utc(NaN);null!=a?m(b._pf,a):b._pf.userInvalidated=!0;return b};E.parseZone=function(){return E.apply(null,arguments).parseZone()};E.parseTwoDigitYear=function(a){return D(a)+(68<D(a)?1900:2E3)};E.isDate=y;m(E.fn=h.prototype,{clone:function(){return E(this)},valueOf:function(){return+this._d-6E4*(this._offset||0)},unix:function(){return Math.floor(+this/1E3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?
new Date(+this):this._d},toISOString:function(){var a=E(this).utc();return 0<a.year()&&9999>=a.year()?"function"===typeof Date.prototype.toISOString?this.toDate().toISOString():U(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):U(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){return[this.year(),this.month(),this.date(),this.hours(),this.minutes(),this.seconds(),this.milliseconds()]},isValid:function(){return I(this)},isDSTShifted:function(){return this._a?this.isValid()&&0<B(this._a,(this._isUTC?E.utc(this._a):
E(this._a)).toArray()):!1},parsingFlags:function(){return m({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(a){return this.utcOffset(0,a)},local:function(a){this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(this._dateUtcOffset(),"m"));return this},format:function(a){a=U(this,a||E.defaultFormat);return this.localeData().postformat(a)},add:w(1,"add"),subtract:w(-1,"subtract"),diff:function(a,b,c){a=L(a,this);var d=6E4*(a.utcOffset()-this.utcOffset());b=z(b);
if("year"===b||"month"===b||"quarter"===b){d=12*(a.year()-this.year())+(a.month()-this.month());var f=this.clone().add(d,"months");if(0>a-f){var e=this.clone().add(d-1,"months");a=(a-f)/(f-e)}else e=this.clone().add(d+1,"months"),a=(a-f)/(e-f);a=-(d+a);"quarter"===b?a/=3:"year"===b&&(a/=12)}else a=this-a,a="second"===b?a/1E3:"minute"===b?a/6E4:"hour"===b?a/36E5:"day"===b?(a-d)/864E5:"week"===b?(a-d)/6048E5:a;return c?a:l(a)},from:function(a,b){return E.duration({to:this,from:a}).locale(this.locale()).humanize(!b)},
fromNow:function(a){return this.from(E(),a)},calendar:function(a){a=a||E();var b=L(a,this).startOf("day");b=this.diff(b,"days",!0);b=-6>b?"sameElse":-1>b?"lastWeek":0>b?"lastDay":1>b?"sameDay":2>b?"nextDay":7>b?"nextWeek":"sameElse";return this.format(this.localeData().calendar(b,this,E(a)))},isLeapYear:function(){return G(this.year())},isDST:function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},day:function(a){var b=this._isUTC?
this._d.getUTCDay():this._d.getDay();if(null!=a){var c=this.localeData();"string"===typeof a&&(isNaN(a)?(a=c.weekdaysParse(a),"number"!==typeof a&&(a=null)):a=parseInt(a,10));return this.add(a-b,"d")}return b},month:ba("Month",!0),startOf:function(a){a=z(a);switch(a){case "year":this.month(0);case "quarter":case "month":this.date(1);case "week":case "isoWeek":case "day":this.hours(0);case "hour":this.minutes(0);case "minute":this.seconds(0);case "second":this.milliseconds(0)}"week"===a?this.weekday(0):
"isoWeek"===a&&this.isoWeekday(1);"quarter"===a&&this.month(3*Math.floor(this.month()/3));return this},endOf:function(a){a=z(a);return a===b||"millisecond"===a?this:this.startOf(a).add(1,"isoWeek"===a?"week":a).subtract(1,"ms")},isAfter:function(a,b){b=z("undefined"!==typeof b?b:"millisecond");return"millisecond"===b?(a=E.isMoment(a)?a:E(a),+this>+a):(E.isMoment(a)?+a:+E(a))<+this.clone().startOf(b)},isBefore:function(a,b){b=z("undefined"!==typeof b?b:"millisecond");if("millisecond"===b)return a=
E.isMoment(a)?a:E(a),+this<+a;a=E.isMoment(a)?+a:+E(a);return+this.clone().endOf(b)<a},isBetween:function(a,b,c){return this.isAfter(a,c)&&this.isBefore(b,c)},isSame:function(a,b){b=z(b||"millisecond");if("millisecond"===b)return a=E.isMoment(a)?a:E(a),+this===+a;a=+E(a);return+this.clone().startOf(b)<=a&&a<=+this.clone().endOf(b)},min:c("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(a){a=E.apply(null,arguments);return a<this?this:a}),max:c("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",
function(a){a=E.apply(null,arguments);return a>this?this:a}),zone:c("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",function(a,b){return null!=a?("string"!==typeof a&&(a=-a),this.utcOffset(a,b),this):-this.utcOffset()}),utcOffset:function(a,b){var c=this._offset||0,d;return null!=a?("string"===typeof a&&(a=Q(a)),16>Math.abs(a)&&(a*=60),!this._isUTC&&b&&(d=this._dateUtcOffset()),this._offset=a,this._isUTC=!0,null!=d&&this.add(d,"m"),c!==a&&
(!b||this._changeInProgress?x(this,E.duration(a-c,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,E.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?c:this._dateUtcOffset()},isLocal:function(){return!this._isUTC},isUtcOffset:function(){return this._isUTC},isUtc:function(){return this._isUTC&&0===this._offset},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){this._tzm?this.utcOffset(this._tzm):
"string"===typeof this._i&&this.utcOffset(Q(this._i));return this},hasAlignedHourOffset:function(a){a=a?E(a).utcOffset():0;return 0===(this.utcOffset()-a)%60},daysInMonth:function(){return H(this.year(),this.month())},dayOfYear:function(a){var b=ma((E(this).startOf("day")-E(this).startOf("year"))/864E5)+1;return null==a?b:this.add(a-b,"d")},quarter:function(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)},weekYear:function(a){var b=na(this,this.localeData()._week.dow,
this.localeData()._week.doy).year;return null==a?b:this.add(a-b,"y")},isoWeekYear:function(a){var b=na(this,1,4).year;return null==a?b:this.add(a-b,"y")},week:function(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")},isoWeek:function(a){var b=na(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")},weekday:function(a){var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")},isoWeekday:function(a){return null==a?this.day()||7:this.day(this.day()%
7?a:a-7)},isoWeeksInYear:function(){return F(this.year(),1,4)},weeksInYear:function(){var a=this.localeData()._week;return F(this.year(),a.dow,a.doy)},get:function(a){a=z(a);return this[a]()},set:function(a,b){var c;if("object"===typeof a)for(c in a)this.set(c,a[c]);else if(a=z(a),"function"===typeof this[a])this[a](b);return this},locale:function(a){if(a===b)return this._locale._abbr;a=E.localeData(a);null!=a&&(this._locale=a);return this},lang:c("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",
function(a){return a===b?this.localeData():this.locale(a)}),localeData:function(){return this._locale},_dateUtcOffset:function(){return 15*-Math.round(this._d.getTimezoneOffset()/15)}});E.fn.millisecond=E.fn.milliseconds=ba("Milliseconds",!1);E.fn.second=E.fn.seconds=ba("Seconds",!1);E.fn.minute=E.fn.minutes=ba("Minutes",!1);E.fn.hour=E.fn.hours=ba("Hours",!0);E.fn.date=ba("Date",!0);E.fn.dates=c("dates accessor is deprecated. Use date instead.",ba("Date",!0));E.fn.year=ba("FullYear",!0);E.fn.years=
c("years accessor is deprecated. Use year instead.",ba("FullYear",!0));E.fn.days=E.fn.day;E.fn.months=E.fn.month;E.fn.weeks=E.fn.week;E.fn.isoWeeks=E.fn.isoWeek;E.fn.quarters=E.fn.quarter;E.fn.toJSON=E.fn.toISOString;E.fn.isUTC=E.fn.isUtc;m(E.duration.fn=n.prototype,{_bubble:function(){var a=this._milliseconds,b=this._days,c=this._months,d=this._data;d.milliseconds=a%1E3;a=l(a/1E3);d.seconds=a%60;a=l(a/60);d.minutes=a%60;a=l(a/60);d.hours=a%24;b+=l(a/24);a=l(400*b/146097);b-=l(146097*a/400);c+=l(b/
30);b%=30;a+=l(c/12);d.days=b;d.months=c%12;d.years=a},abs:function(){this._milliseconds=Math.abs(this._milliseconds);this._days=Math.abs(this._days);this._months=Math.abs(this._months);this._data.milliseconds=Math.abs(this._data.milliseconds);this._data.seconds=Math.abs(this._data.seconds);this._data.minutes=Math.abs(this._data.minutes);this._data.hours=Math.abs(this._data.hours);this._data.months=Math.abs(this._data.months);this._data.years=Math.abs(this._data.years);return this},weeks:function(){return l(this.days()/
7)},valueOf:function(){return this._milliseconds+864E5*this._days+this._months%12*2592E6+31536E6*D(this._months/12)},humanize:function(a){var b=!a;var c=this.localeData(),d=E.duration(this).abs(),f=ma(d.as("s")),e=ma(d.as("m")),g=ma(d.as("h")),h=ma(d.as("d")),l=ma(d.as("M"));d=ma(d.as("y"));f=f<Ba.s&&["s",f]||1===e&&["m"]||e<Ba.m&&["mm",e]||1===g&&["h"]||g<Ba.h&&["hh",g]||1===h&&["d"]||h<Ba.d&&["dd",h]||1===l&&["M"]||l<Ba.M&&["MM",l]||1===d&&["y"]||["yy",d];f[2]=b;f[3]=0<+this;f[4]=c;b=ya.apply({},
f);a&&(b=this.localeData().pastFuture(+this,b));return this.localeData().postformat(b)},add:function(a,b){a=E.duration(a,b);this._milliseconds+=a._milliseconds;this._days+=a._days;this._months+=a._months;this._bubble();return this},subtract:function(a,b){a=E.duration(a,b);this._milliseconds-=a._milliseconds;this._days-=a._days;this._months-=a._months;this._bubble();return this},get:function(a){a=z(a);return this[a.toLowerCase()+"s"]()},as:function(a){a=z(a);if("month"===a||"year"===a){var b=this._days+
this._milliseconds/864E5;b=this._months+400*b/146097*12;return"month"===a?b:b/12}b=this._days+Math.round(this._months/12*146097/400);switch(a){case "week":return b/7+this._milliseconds/6048E5;case "day":return b+this._milliseconds/864E5;case "hour":return 24*b+this._milliseconds/36E5;case "minute":return 1440*b+this._milliseconds/6E4;case "second":return 86400*b+this._milliseconds/1E3;case "millisecond":return Math.floor(864E5*b)+this._milliseconds;default:throw Error("Unknown unit "+a);}},lang:E.fn.lang,
locale:E.fn.locale,toIsoString:c("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var a=Math.abs(this.years()),b=Math.abs(this.months()),c=Math.abs(this.days()),d=Math.abs(this.hours()),f=Math.abs(this.minutes()),e=Math.abs(this.seconds()+this.milliseconds()/1E3);return this.asSeconds()?(0>this.asSeconds()?"-":"")+"P"+(a?a+"Y":"")+(b?b+"M":"")+(c?c+"D":"")+(d||f||e?"T":"")+(d?d+"H":"")+(f?f+"M":"")+
(e?e+"S":""):"P0D"},localeData:function(){return this._locale},toJSON:function(){return this.toISOString()}});E.duration.fn.toString=E.duration.fn.toISOString;for(ka in kb)ja.call(kb,ka)&&oa(ka.toLowerCase());E.duration.fn.asMilliseconds=function(){return this.as("ms")};E.duration.fn.asSeconds=function(){return this.as("s")};E.duration.fn.asMinutes=function(){return this.as("m")};E.duration.fn.asHours=function(){return this.as("h")};E.duration.fn.asDays=function(){return this.as("d")};E.duration.fn.asWeeks=
function(){return this.as("weeks")};E.duration.fn.asMonths=function(){return this.as("M")};E.duration.fn.asYears=function(){return this.as("y")};E.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10;b=1===D(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+b}});X?module.exports=E:"function"===typeof define&&define.amd?(define(function(a,b,c){c.config&&c.config()&&!0===c.config().noGlobal&&(wa.moment=P);return E}),Z(!0)):Z()}).call(this);define&&define.nextId("pikaday");
(function(b,e){if("object"===typeof exports){try{var k=require("moment")}catch(g){}module.exports=e(k)}else"function"===typeof define&&define.amd&&define(function(b){try{k=b("moment")}catch(c){}return e(k)}),b.Pikaday=e(b.moment)})(this,function(b){var e="function"===typeof b,k=!!window.addEventListener,g=window.document,c=window.setTimeout,a=function(a,b,c,d){k?a.addEventListener(b,c,!!d):a.attachEvent("on"+b,c)},d=function(a,b,c,d){k?a.removeEventListener(b,c,!!d):a.detachEvent("on"+b,c)},f=function(a,
b,c){if(g.createEvent){var d=g.createEvent("HTMLEvents");d.initEvent(b,!0,!1);d=l(d,c);a.dispatchEvent(d)}else g.createEventObject&&(d=g.createEventObject(),d=l(d,c),a.fireEvent("on"+b,d))},h=function(a,b){return-1!==(" "+a.className+" ").indexOf(" "+b+" ")},n=function(a){return/Array/.test(Object.prototype.toString.call(a))},m=function(a){return/Date/.test(Object.prototype.toString.call(a))&&!isNaN(a.getTime())},q=function(a){m(a)&&a.setHours(0,0,0,0)},l=function(a,b,c){var d,f;for(d in b)if((f=
void 0!==a[d])&&"object"===typeof b[d]&&null!==b[d]&&void 0===b[d].nodeName)m(b[d])?c&&(a[d]=new Date(b[d].getTime())):n(b[d])?c&&(a[d]=b[d].slice(0)):a[d]=l({},b[d],c);else if(c||!f)a[d]=b[d];return a},t=function(a){0>a.month&&(a.year-=Math.ceil(Math.abs(a.month)/12),a.month+=12);11<a.month&&(a.year+=Math.floor(Math.abs(a.month)/12),a.month-=12);return a},r={field:null,bound:void 0,position:"bottom left",reposition:!0,format:"YYYY-MM-DD",defaultDate:null,setDefaultDate:!1,firstDay:0,minDate:null,
maxDate:null,yearRange:10,showWeekNumber:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:"January February March April May June July August September October November December".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" ")},theme:null,
onSelect:null,onOpen:null,onClose:null,onDraw:null},v=function(a,b,c){for(b+=a.firstDay;7<=b;)b-=7;return c?a.i18n.weekdaysShort[b]:a.i18n.weekdays[b]},w=function(a,b,c,d,f,e,g){if(g)return'\x3ctd class\x3d"is-empty"\x3e\x3c/td\x3e';g=[];e&&g.push("is-disabled");f&&g.push("is-today");d&&g.push("is-selected");return'\x3ctd data-day\x3d"'+a+'" class\x3d"'+g.join(" ")+'"\x3e\x3cbutton class\x3d"pika-button pika-day" type\x3d"button" data-pika-year\x3d"'+c+'" data-pika-month\x3d"'+b+'" data-pika-day\x3d"'+
a+'"\x3e'+a+"\x3c/button\x3e\x3c/td\x3e"},x=function(a,b,c){var d=new Date(c,0,1);return'\x3ctd class\x3d"pika-week"\x3e'+Math.ceil(((new Date(c,b,a)-d)/864E5+d.getDay()+1)/7)+"\x3c/td\x3e"},u=function(a,b){return"\x3ctr\x3e"+(b?a.reverse():a).join("")+"\x3c/tr\x3e"},y=function(a,b,c,d,f){var e,g=a._o,h=c===g.minYear,l=c===g.maxYear,k='\x3cdiv class\x3d"pika-title"\x3e',m=!0,u=!0;var x=[];for(e=0;12>e;e++)x.push('\x3coption value\x3d"'+(c===f?e-b:12+e-b)+'"'+(e===d?" selected":"")+(h&&e<g.minMonth||
l&&e>g.maxMonth?"disabled":"")+"\x3e"+g.i18n.months[e]+"\x3c/option\x3e");f='\x3cdiv class\x3d"pika-label"\x3e'+g.i18n.months[d]+'\x3cselect class\x3d"pika-select pika-select-month" tabindex\x3d"-1"\x3e'+x.join("")+"\x3c/select\x3e\x3c/div\x3e";if(n(g.yearRange)){e=g.yearRange[0];var w=g.yearRange[1]+1}else e=c-g.yearRange,w=1+c+g.yearRange;for(x=[];e<w&&e<=g.maxYear;e++)e>=g.minYear&&x.push('\x3coption value\x3d"'+e+'"'+(e===c?" selected":"")+"\x3e"+e+"\x3c/option\x3e");c='\x3cdiv class\x3d"pika-label"\x3e'+
c+g.yearSuffix+'\x3cselect class\x3d"pika-select pika-select-year" tabindex\x3d"-1"\x3e'+x.join("")+"\x3c/select\x3e\x3c/div\x3e";k=g.showMonthAfterYear?k+(c+f):k+(f+c);h&&(0===d||g.minMonth>=d)&&(m=!1);l&&(11===d||g.maxMonth<=d)&&(u=!1);0===b&&(k+='\x3cbutton class\x3d"pika-prev'+(m?"":" is-disabled")+'" type\x3d"button"\x3e'+g.i18n.previousMonth+"\x3c/button\x3e");b===a._o.numberOfMonths-1&&(k+='\x3cbutton class\x3d"pika-next'+(u?"":" is-disabled")+'" type\x3d"button"\x3e'+g.i18n.nextMonth+"\x3c/button\x3e");
return k+"\x3c/div\x3e"},B=function(d){var f=this,l=f.config(d);f._onMouseDown=function(a){if(f._v){a=a||window.event;var b=a.target||a.srcElement;if(b){if(!h(b.parentNode,"is-disabled")){if(h(b,"pika-button")&&!h(b,"is-empty")){f.setDate(new Date(b.getAttribute("data-pika-year"),b.getAttribute("data-pika-month"),b.getAttribute("data-pika-day")));l.bound&&c(function(){f.hide();l.field&&l.field.blur()},100);return}h(b,"pika-prev")?f.prevMonth():h(b,"pika-next")&&f.nextMonth()}if(h(b,"pika-select"))f._c=
!0;else if(a.preventDefault)a.preventDefault();else return a.returnValue=!1}}};f._onChange=function(a){a=a||window.event;(a=a.target||a.srcElement)&&(h(a,"pika-select-month")?f.gotoMonth(a.value):h(a,"pika-select-year")&&f.gotoYear(a.value))};f._onInputChange=function(a){a.firedBy!==f&&(a=e?(a=b(l.field.value,l.format))&&a.isValid()?a.toDate():null:new Date(Date.parse(l.field.value)),m(a)&&f.setDate(a),f._v||f.show())};f._onInputFocus=function(){f.show()};f._onInputClick=function(){f.show()};f._onInputBlur=
function(){var a=g.activeElement;do if(h(a,"pika-single"))return;while(a=a.parentNode);f._c||(f._b=c(function(){f.hide()},50));f._c=!1};f._onClick=function(b){b=b||window.event;var c=b=b.target||b.srcElement;if(b){k||!h(b,"pika-select")||b.onchange||(b.setAttribute("onchange","return;"),a(b,"change",f._onChange));do if(h(c,"pika-single")||c===l.trigger)return;while(c=c.parentNode);f._v&&b!==l.trigger&&c!==l.trigger&&f.hide()}};f.el=g.createElement("div");f.el.className="pika-single"+(l.isRTL?" is-rtl":
"")+(l.theme?" "+l.theme:"");a(f.el,"ontouchend"in g?"touchend":"mousedown",f._onMouseDown,!0);a(f.el,"change",f._onChange);l.field&&(l.container?l.container.appendChild(f.el):l.bound?g.body.appendChild(f.el):l.field.parentNode.insertBefore(f.el,l.field.nextSibling),a(l.field,"change",f._onInputChange),l.defaultDate||(l.defaultDate=e&&l.field.value?b(l.field.value,l.format).toDate():new Date(Date.parse(l.field.value)),l.setDefaultDate=!0));d=l.defaultDate;m(d)?l.setDefaultDate?f.setDate(d,!0):f.gotoDate(d):
f.gotoDate(new Date);l.bound?(this.hide(),f.el.className+=" is-bound",a(l.trigger,"click",f._onInputClick),a(l.trigger,"focus",f._onInputFocus),a(l.trigger,"blur",f._onInputBlur)):this.show()};B.prototype={config:function(a){this._o||(this._o=l({},r,!0));a=l(this._o,a,!0);a.isRTL=!!a.isRTL;a.field=a.field&&a.field.nodeName?a.field:null;a.theme="string"==typeof a.theme&&a.theme?a.theme:null;a.bound=!!(void 0!==a.bound?a.field&&a.bound:a.field);a.trigger=a.trigger&&a.trigger.nodeName?a.trigger:a.field;
a.disableWeekends=!!a.disableWeekends;a.disableDayFn="function"==typeof a.disableDayFn?a.disableDayFn:null;var b=parseInt(a.numberOfMonths,10)||1;a.numberOfMonths=4<b?4:b;m(a.minDate)||(a.minDate=!1);m(a.maxDate)||(a.maxDate=!1);a.minDate&&a.maxDate&&a.maxDate<a.minDate&&(a.maxDate=a.minDate=!1);a.minDate&&this.setMinDate(a.minDate);a.maxDate&&(q(a.maxDate),a.maxYear=a.maxDate.getFullYear(),a.maxMonth=a.maxDate.getMonth());n(a.yearRange)?(b=(new Date).getFullYear()-10,a.yearRange[0]=parseInt(a.yearRange[0],
10)||b,a.yearRange[1]=parseInt(a.yearRange[1],10)||b):(a.yearRange=Math.abs(parseInt(a.yearRange,10))||r.yearRange,100<a.yearRange&&(a.yearRange=100));return a},toString:function(a){return m(this._d)?e?b(this._d).format(a||this._o.format):this._d.toDateString():""},getMoment:function(){return e?b(this._d):null},setMoment:function(a,c){e&&b.isMoment(a)&&this.setDate(a.toDate(),c)},getDate:function(){return m(this._d)?new Date(this._d.getTime()):null},setDate:function(a,b){if(!a)return this._d=null,
this._o.field&&(this._o.field.value="",f(this._o.field,"change",{firedBy:this})),this.draw();"string"===typeof a&&(a=new Date(Date.parse(a)));if(m(a)){var c=this._o.minDate,d=this._o.maxDate;m(c)&&a<c?a=c:m(d)&&a>d&&(a=d);this._d=new Date(a.getTime());q(this._d);this.gotoDate(this._d);this._o.field&&(this._o.field.value=this.toString(),f(this._o.field,"change",{firedBy:this}));b||"function"!==typeof this._o.onSelect||this._o.onSelect.call(this,this.getDate())}},gotoDate:function(a){var b=!0;if(m(a)){if(this.calendars){b=
new Date(this.calendars[0].year,this.calendars[0].month,1);var c=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),d=a.getTime();c.setMonth(c.getMonth()+1);c.setDate(c.getDate()-1);b=d<b.getTime()||c.getTime()<d}b&&(this.calendars=[{month:a.getMonth(),year:a.getFullYear()}],"right"===this._o.mainCalendar&&(this.calendars[0].month+=1-this._o.numberOfMonths));this.adjustCalendars()}},adjustCalendars:function(){this.calendars[0]=t(this.calendars[0]);
for(var a=1;a<this._o.numberOfMonths;a++)this.calendars[a]=t({month:this.calendars[0].month+a,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(a){isNaN(a)||(this.calendars[0].month=parseInt(a,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++;this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--;this.adjustCalendars()},gotoYear:function(a){isNaN(a)||(this.calendars[0].year=parseInt(a,10),this.adjustCalendars())},
setMinDate:function(a){q(a);this._o.minDate=a;this._o.minYear=a.getFullYear();this._o.minMonth=a.getMonth()},setMaxDate:function(a){this._o.maxDate=a},draw:function(a){if(this._v||a){var b=this._o,d=b.minYear,f=b.maxYear,e=b.minMonth,g=b.maxMonth;a="";this._y<=d&&(this._y=d,!isNaN(e)&&this._m<e&&(this._m=e));this._y>=f&&(this._y=f,!isNaN(g)&&this._m>g&&(this._m=g));for(d=0;d<b.numberOfMonths;d++)a+='\x3cdiv class\x3d"pika-lendar"\x3e'+y(this,d,this.calendars[d].year,this.calendars[d].month,this.calendars[0].year)+
this.render(this.calendars[d].year,this.calendars[d].month)+"\x3c/div\x3e";this.el.innerHTML=a;b.bound&&"hidden"!==b.field.type&&c(function(){b.trigger.focus()},1);if("function"===typeof this._o.onDraw){var h=this;c(function(){h._o.onDraw.call(h)},0)}}},adjustPosition:function(){if(!this._o.container){var a=this._o.trigger,b=a,c=this.el.offsetWidth,d=this.el.offsetHeight,f=window.innerWidth||g.documentElement.clientWidth,e=window.innerHeight||g.documentElement.clientHeight,h=window.pageYOffset||g.body.scrollTop||
g.documentElement.scrollTop;if("function"===typeof a.getBoundingClientRect){b=a.getBoundingClientRect();var l=b.left+window.pageXOffset;var k=b.bottom+window.pageYOffset}else for(l=b.offsetLeft,k=b.offsetTop+b.offsetHeight;b=b.offsetParent;)l+=b.offsetLeft,k+=b.offsetTop;if(this._o.reposition&&l+c>f||-1<this._o.position.indexOf("right")&&0<l-c+a.offsetWidth)l=l-c+a.offsetWidth;if(this._o.reposition&&k+d>e+h||-1<this._o.position.indexOf("top")&&0<k-d-a.offsetHeight)k=k-d-a.offsetHeight;this.el.style.position=
"absolute";this.el.style.left=l+"px";this.el.style.top=k+"px"}},render:function(a,b){var c=this._o,d=new Date;var f=[31,0===a%4&&0!==a%100||0===a%400?29:28,31,30,31,30,31,31,30,31,30,31][b];var e=(new Date(a,b,1)).getDay(),g=[],h=[];q(d);0<c.firstDay&&(e-=c.firstDay,0>e&&(e+=7));for(var l=f+e,k=l;7<k;)k-=7;l+=7-k;for(var n=k=0;k<l;k++){var B=new Date(a,b,1+(k-e));if(m(this._d)){var z=this._d;z=B.getTime()===z.getTime()}else z=!1;var y=d;y=B.getTime()===y.getTime();var t=k<e||k>=f+e,r;!(r=c.minDate&&
B<c.minDate||c.maxDate&&B>c.maxDate)&&(r=c.disableWeekends)&&(r=B.getDay(),r=0===r||6===r);B=r||c.disableDayFn&&c.disableDayFn(B);h.push(w(1+(k-e),b,a,z,y,B,t));7===++n&&(c.showWeekNumber&&h.unshift(x(k-e,b,a)),g.push(u(h,c.isRTL)),h=[],n=0)}b=[];c.showWeekNumber&&b.push("\x3cth\x3e\x3c/th\x3e");for(a=0;7>a;a++)b.push('\x3cth scope\x3d"col"\x3e\x3cabbr title\x3d"'+v(c,a)+'"\x3e'+v(c,a,!0)+"\x3c/abbr\x3e\x3c/th\x3e");return'\x3ctable cellpadding\x3d"0" cellspacing\x3d"0" class\x3d"pika-table"\x3e'+
("\x3cthead\x3e"+(c.isRTL?b.reverse():b).join("")+"\x3c/thead\x3e")+("\x3ctbody\x3e"+g.join("")+"\x3c/tbody\x3e")+"\x3c/table\x3e"},isVisible:function(){return this._v},show:function(){if(!this._v){var b=this.el;var c=(" "+b.className+" ").replace(" is-hidden "," ");c=c.trim?c.trim():c.replace(/^\s+|\s+$/g,"");b.className=c;this._v=!0;this.draw();this._o.bound&&(a(g,"click",this._onClick),this.adjustPosition());"function"===typeof this._o.onOpen&&this._o.onOpen.call(this)}},hide:function(){var a=
this._v;if(!1!==a){this._o.bound&&d(g,"click",this._onClick);this.el.style.position="static";this.el.style.left="auto";this.el.style.top="auto";var b=this.el;h(b,"is-hidden")||(b.className=""===b.className?"is-hidden":b.className+" is-hidden");this._v=!1;void 0!==a&&"function"===typeof this._o.onClose&&this._o.onClose.call(this)}},destroy:function(){this.hide();d(this.el,"mousedown",this._onMouseDown,!0);d(this.el,"change",this._onChange);this._o.field&&(d(this._o.field,"change",this._onInputChange),
this._o.bound&&(d(this._o.trigger,"click",this._onInputClick),d(this._o.trigger,"focus",this._onInputFocus),d(this._o.trigger,"blur",this._onInputBlur)));this.el.parentNode&&this.el.parentNode.removeChild(this.el)}};return B});
(function e$jscomp$0(b,e,k){function c(d,h){if(!e[d]){if(!b[d]){var f="function"==typeof require&&require;if(!h&&f)return f(d,!0);if(a)return a(d,!0);h=Error("Cannot find module '"+d+"'");throw h.code="MODULE_NOT_FOUND",h;}h=e[d]={exports:{}};b[d][0].call(h.exports,function(a){var f=b[d][1][a];return c(f?f:a)},h,h.exports,e$jscomp$0,b,e,k)}return e[d].exports}for(var a="function"==typeof require&&require,d=0;d<k.length;d++)c(k[d]);return c})({1:[function(b,e,k){(function(b){!function(c){function a(a){throw RangeError(L[a]);
}function d(a,b){for(var c=a.length;c--;)a[c]=b(a[c]);return a}function f(a,b){return d(a.split(J),b).join(".")}function g(a){for(var b,c,d=[],f=0,e=a.length;e>f;)b=a.charCodeAt(f++),55296<=b&&56319>=b&&e>f?(c=a.charCodeAt(f++),56320==(64512&c)?d.push(((1023&b)<<10)+(1023&c)+65536):(d.push(b),f--)):d.push(b);return d}function n(a){return d(a,function(a){var b="";return 65535<a&&(a-=65536,b+=U(a>>>10&1023|55296),a=56320|1023&a),b+U(a)}).join("")}function m(a){return 10>a-48?a-22:26>a-65?a-65:26>a-
97?a-97:z}function q(a,b){return a+22+75*(26>a)-((0!=b)<<5)}function l(a,b,c){var d=0;a=c?O(a/H):a>>1;for(a+=O(a/b);a>R*A>>1;d+=z)a=O(a/R);return O(d+(R+1)*a/(a+D))}function t(b){var c,d,f,e,g=[],h=b.length,k=0,u=G,x=F;var w=b.lastIndexOf(K);0>w&&(w=0);for(c=0;w>c;++c)128<=b.charCodeAt(c)&&a("not-basic"),g.push(b.charCodeAt(c));for(w=0<w?w+1:0;h>w;){c=k;var q=1;for(d=z;w>=h&&a("invalid-input"),f=m(b.charCodeAt(w++)),(f>=z||f>O((B-k)/q))&&a("overflow"),k+=f*q,e=x>=d?C:d>=x+A?A:d-x,!(e>f);d+=z){var v=
z-e;q>O(B/v)&&a("overflow");q*=v}q=g.length+1;x=l(k-c,q,0==c);O(k/q)>B-u&&a("overflow");u+=O(k/q);k%=q;g.splice(k++,0,u)}return n(g)}function r(b){var c,d,f,e,h=[];b=g(b);var k=b.length;var m=G;var n=0;var u=F;for(f=0;k>f;++f){var x=b[f];128>x&&h.push(U(x))}for((c=d=h.length)&&h.push(K);k>c;){var w=B;for(f=0;k>f;++f)x=b[f],x>=m&&w>x&&(w=x);var v=c+1;w-m>O((B-n)/v)&&a("overflow");n+=(w-m)*v;m=w;for(f=0;k>f;++f)if(x=b[f],m>x&&++n>B&&a("overflow"),x==m){var y=n;for(w=z;e=u>=w?C:w>=u+A?A:w-u,!(e>y);w+=
z){var t=y-e;y=z-e;h.push(U(q(e+t%y,0)));y=O(t/y)}h.push(U(q(y,0)));u=l(n,v,c==d);n=0;++c}++n;++m}return h.join("")}var v="object"==typeof k&&k,w="object"==typeof e&&e&&e.exports==v&&e,x="object"==typeof b&&b;x.global!==x&&x.window!==x||(c=x);var u,y,B=2147483647,z=36,C=1,A=26,D=38,H=700,F=72,G=128,K="-",I=/^xn--/,S=/[^ -~]/,J=/\x2E|\u3002|\uFF0E|\uFF61/g,L={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input \x3e\x3d 0x80 (not a basic code point)","invalid-input":"Invalid input"},
R=z-C,O=Math.floor,U=String.fromCharCode;if(u={version:"1.2.4",ucs2:{decode:g,encode:n},decode:t,encode:r,toASCII:function(a){return f(a,function(a){return S.test(a)?"xn--"+r(a):a})},toUnicode:function(a){return f(a,function(a){return I.test(a)?t(a.slice(4).toLowerCase()):a})}},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return u});else if(v&&!v.nodeType)if(w)w.exports=u;else for(y in u)u.hasOwnProperty(y)&&(v[y]=u[y]);else c.punycode=u}(this)}).call(this,
"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],2:[function(b,e,k){e.exports=function(b,a,d,f){d=d||"\x3d";var c={};if("string"!=typeof b||0===b.length)return c;var e=/\+/g;b=b.split(a||"\x26");a=1E3;f&&"number"==typeof f.maxKeys&&(a=f.maxKeys);f=b.length;0<a&&f>a&&(f=a);for(a=0;f>a;++a){var k,q;var l=b[a].replace(e,"%20");var t=l.indexOf(d);0<=t?(k=l.substr(0,t),q=l.substr(t+1)):(k=l,q="");l=decodeURIComponent(k);t=decodeURIComponent(q);
Object.prototype.hasOwnProperty.call(c,l)?g(c[l])?c[l].push(t):c[l]=[c[l],t]:c[l]=t}return c};var g=Array.isArray||function(b){return"[object Array]"===Object.prototype.toString.call(b)}},{}],3:[function(b,e,k){function g(a,b){if(a.map)return a.map(b);for(var c=[],d=0;d<a.length;d++)c.push(b(a[d],d));return c}var c=function(a){switch(typeof a){case "string":return a;case "boolean":return a?"true":"false";case "number":return isFinite(a)?a:"";default:return""}};e.exports=function(b,e,k,m){return e=
e||"\x26",k=k||"\x3d",null===b&&(b=void 0),"object"==typeof b?g(d(b),function(d){var f=encodeURIComponent(c(d))+k;return a(b[d])?g(b[d],function(a){return f+encodeURIComponent(c(a))}).join(e):f+encodeURIComponent(c(b[d]))}).join(e):m?encodeURIComponent(c(m))+k+encodeURIComponent(c(b)):""};var a=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},d=Object.keys||function(a){var b=[],c;for(c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.push(c);return b}},{}],4:[function(b,
e,k){k.decode=k.parse=b("./decode");k.encode=k.stringify=b("./encode")},{"./decode":2,"./encode":3}],5:[function(b,e,k){function g(){this.href=this.path=this.pathname=this.query=this.search=this.hash=this.hostname=this.port=this.host=this.auth=this.slashes=this.protocol=null}function c(b,c,d){if(b&&a(b)&&b instanceof g)return b;var f=new g;return f.parse(b,c,d),f}function a(a){return"object"==typeof a&&null!==a}var d=b("punycode");k.parse=c;k.resolve=function(a,b){return c(a,!1,!0).resolve(b)};k.resolveObject=
function(a,b){return a?c(a,!1,!0).resolveObject(b):b};k.format=function(a){return"string"==typeof a&&(a=c(a)),a instanceof g?a.format():g.prototype.format.call(a)};k.Url=g;var f=/^([a-z0-9.+-]+:)/i,h=/:[0-9]*$/;e="{}|\\^`".split("").concat('\x3c\x3e"` \r\n\t'.split(""));var n=["'"].concat(e),m=["%","/","?",";","#"].concat(n),q=["/","?","#"],l=/^[a-z0-9A-Z_-]{0,63}$/,t=/^([a-z0-9A-Z_-]{0,63})(.*)$/,r={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},w={http:!0,https:!0,ftp:!0,gopher:!0,
file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},x=b("querystring");g.prototype.parse=function(a,b,c){if("string"!=typeof a)throw new TypeError("Parameter 'url' must be a string, not "+typeof a);a=a.trim();var e=f.exec(a);if(e){e=e[0];var g=e.toLowerCase();this.protocol=g;a=a.substr(e.length)}if(c||e||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var h="//"===a.substr(0,2);!h||e&&v[e]||(a=a.substr(2),this.slashes=!0)}if(!v[e]&&(h||e&&!w[e])){h=-1;for(c=0;c<q.length;c++)e=a.indexOf(q[c]),-1!==
e&&(-1===h||h>e)&&(h=e);var k;c=-1===h?a.lastIndexOf("@"):a.lastIndexOf("@",h);-1!==c&&(k=a.slice(0,c),a=a.slice(c+1),this.auth=decodeURIComponent(k));h=-1;for(c=0;c<m.length;c++)e=a.indexOf(m[c]),-1!==e&&(-1===h||h>e)&&(h=e);-1===h&&(h=a.length);this.host=a.slice(0,h);a=a.slice(h);this.parseHost();this.hostname=this.hostname||"";k="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!k){var u=this.hostname.split(/\./);c=0;for(h=u.length;h>c;c++)if((e=u[c])&&!e.match(l)){for(var B=
"",y=0,K=e.length;K>y;y++)B+=127<e.charCodeAt(y)?"x":e[y];if(!B.match(l)){h=u.slice(0,c);c=u.slice(c+1);(e=e.match(t))&&(h.push(e[1]),c.unshift(e[2]));c.length&&(a="/"+c.join(".")+a);this.hostname=h.join(".");break}}}if(this.hostname=255<this.hostname.length?"":this.hostname.toLowerCase(),!k){e=this.hostname.split(".");u=[];for(c=0;c<e.length;++c)h=e[c],u.push(h.match(/[^A-Za-z0-9_-]/)?"xn--"+d.encode(h):h);this.hostname=u.join(".")}c=this.port?":"+this.port:"";this.host=(this.hostname||"")+c;this.href+=
this.host;k&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==a[0]&&(a="/"+a))}if(!r[g])for(c=0,h=n.length;h>c;c++)k=n[c],e=encodeURIComponent(k),e===k&&(e=escape(k)),a=a.split(k).join(e);c=a.indexOf("#");-1!==c&&(this.hash=a.substr(c),a=a.slice(0,c));c=a.indexOf("?");if(-1!==c?(this.search=a.substr(c),this.query=a.substr(c+1),b&&(this.query=x.parse(this.query)),a=a.slice(0,c)):b&&(this.search="",this.query={}),a&&(this.pathname=a),w[g]&&this.hostname&&!this.pathname&&(this.pathname=
"/"),this.pathname||this.search)c=this.pathname||"",h=this.search||"",this.path=c+h;return this.href=this.format(),this};g.prototype.format=function(){var b=this.auth||"";b&&(b=encodeURIComponent(b),b=b.replace(/%3A/i,":"),b+="@");var c=this.protocol||"",d=this.pathname||"",f=this.hash||"",e=!1,g="";this.host?e=b+this.host:this.hostname&&(e=b+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(e+=":"+this.port));this.query&&a(this.query)&&Object.keys(this.query).length&&
(g=x.stringify(this.query));b=this.search||g&&"?"+g||"";return c&&":"!==c.substr(-1)&&(c+=":"),this.slashes||(!c||w[c])&&!1!==e?(e="//"+(e||""),d&&"/"!==d.charAt(0)&&(d="/"+d)):e||(e=""),f&&"#"!==f.charAt(0)&&(f="#"+f),b&&"?"!==b.charAt(0)&&(b="?"+b),d=d.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),b=b.replace("#","%23"),c+e+d+b+f};g.prototype.resolve=function(a){return this.resolveObject(c(a,!1,!0)).format()};g.prototype.resolveObject=function(a){if("string"==typeof a){var b=new g;
b.parse(a,!1,!0);a=b}var c=new g;if(Object.keys(this).forEach(function(a){c[a]=this[a]},this),c.hash=a.hash,""===a.href)return c.href=c.format(),c;if(a.slashes&&!a.protocol)return Object.keys(a).forEach(function(b){"protocol"!==b&&(c[b]=a[b])}),w[c.protocol]&&c.hostname&&!c.pathname&&(c.path=c.pathname="/"),c.href=c.format(),c;if(a.protocol&&a.protocol!==c.protocol){if(!w[a.protocol])return Object.keys(a).forEach(function(b){c[b]=a[b]}),c.href=c.format(),c;if(c.protocol=a.protocol,a.host||v[a.protocol])c.pathname=
a.pathname;else{for(var d=(a.pathname||"").split("/");d.length&&!(a.host=d.shift()););a.host||(a.host="");a.hostname||(a.hostname="");""!==d[0]&&d.unshift("");2>d.length&&d.unshift("");c.pathname=d.join("/")}if(c.search=a.search,c.query=a.query,c.host=a.host||"",c.auth=a.auth,c.hostname=a.hostname||a.host,c.port=a.port,c.pathname||c.search)c.path=(c.pathname||"")+(c.search||"");return c.slashes=c.slashes||a.slashes,c.href=c.format(),c}b=c.pathname&&"/"===c.pathname.charAt(0);var f=a.host||a.pathname&&
"/"===a.pathname.charAt(0),e=b=f||b||c.host&&a.pathname,h=c.pathname&&c.pathname.split("/")||[];d=a.pathname&&a.pathname.split("/")||[];var l=c.protocol&&!w[c.protocol];if(l&&(c.hostname="",c.port=null,c.host&&(""===h[0]?h[0]=c.host:h.unshift(c.host)),c.host="",a.protocol&&(a.hostname=null,a.port=null,a.host&&(""===d[0]?d[0]=a.host:d.unshift(a.host)),a.host=null),b=b&&(""===d[0]||""===h[0])),f)c.host=a.host||""===a.host?a.host:c.host,c.hostname=a.hostname||""===a.hostname?a.hostname:c.hostname,c.search=
a.search,c.query=a.query,h=d;else if(d.length)h||(h=[]),h.pop(),h=h.concat(d),c.search=a.search,c.query=a.query;else if(null!=a.search)return l&&(c.hostname=c.host=h.shift(),(l=c.host&&0<c.host.indexOf("@")?c.host.split("@"):!1)&&(c.auth=l.shift(),c.host=c.hostname=l.shift())),c.search=a.search,c.query=a.query,null===c.pathname&&null===c.search||(c.path=(c.pathname?c.pathname:"")+(c.search?c.search:"")),c.href=c.format(),c;if(!h.length)return c.pathname=null,c.path=c.search?"/"+c.search:null,c.href=
c.format(),c;f=h.slice(-1)[0];d=(c.host||a.host)&&("."===f||".."===f)||""===f;for(var k=0,m=h.length;0<=m;m--)f=h[m],"."==f?h.splice(m,1):".."===f?(h.splice(m,1),k++):k&&(h.splice(m,1),k--);if(!b&&!e)for(;k--;k)h.unshift("..");!b||""===h[0]||h[0]&&"/"===h[0].charAt(0)||h.unshift("");d&&"/"!==h.join("/").substr(-1)&&h.push("");e=""===h[0]||h[0]&&"/"===h[0].charAt(0);l&&(c.hostname=c.host=e?"":h.length?h.shift():"",(l=c.host&&0<c.host.indexOf("@")?c.host.split("@"):!1)&&(c.auth=l.shift(),c.host=c.hostname=
l.shift()));return b=b||c.host&&h.length,b&&!e&&h.unshift(""),h.length?c.pathname=h.join("/"):(c.pathname=null,c.path=null),null===c.pathname&&null===c.search||(c.path=(c.pathname?c.pathname:"")+(c.search?c.search:"")),c.auth=a.auth||c.auth,c.slashes=c.slashes||a.slashes,c.href=c.format(),c};g.prototype.parseHost=function(){var a=this.host,b=h.exec(a);b&&(b=b[0],":"!==b&&(this.port=b.substr(1)),a=a.substr(0,a.length-b.length));a&&(this.hostname=a)}},{punycode:1,querystring:4}],6:[function(b,e,k){e.exports=
function(b){return{popup:!0,shareText:{de:"teilen",en:"share",es:"compartir"},name:"facebook",faName:"fa-facebook",title:{de:"Bei Facebook teilen",en:"Share on Facebook",es:"Compartir en Facebook"},shareUrl:"https://www.facebook.com/sharer/sharer.php?u\x3d"+encodeURIComponent(b.getURL())+b.getReferrerTrack()}}},{}],7:[function(b,e,k){e.exports=function(b){return{popup:!0,shareText:"+1",name:"googleplus",faName:"fa-google-plus",title:{de:"Bei Google+ teilen",en:"Share on Google+",es:"Compartir en Google+"},
shareUrl:"https://plus.google.com/share?url\x3d"+encodeURIComponent(b.getURL())+b.getReferrerTrack()}}},{}],8:[function(b,e,k){e.exports=function(b){return{popup:!1,shareText:"Info",name:"info",faName:"fa-info",title:{de:"weitere Informationen",en:"more information",es:"M\u00e1s informaciones"},shareUrl:b.getInfoUrl()}}},{}],9:[function(b,e,k){var g=b("url");e.exports=function(b){b=g.parse(b.getMailUrl(),!0);return b.query.view="mail",delete b.search,{popup:!0,shareText:"mail",name:"mail",faName:"fa-envelope",
title:{de:"Per E-Mail versenden",en:"Send by email",es:"Enviar por email"},shareUrl:g.format(b)}}},{url:5}],10:[function(b,e,k){var g=b("url");e.exports=function(b){var a=g.parse("https://twitter.com/intent/tweet",!0);return a.query.text=decodeURIComponent(b.getShareText()),a.query.url=b.getURL(),null!==b.options.twitterVia&&(a.query.via=b.options.twitterVia),delete a.search,{popup:!0,shareText:"tweet",name:"twitter",faName:"fa-twitter",title:{de:"Bei Twitter teilen",en:"Share on Twitter",es:"Compartir en Twitter"},
shareUrl:g.format(a)+b.getReferrerTrack()}}},{url:5}],11:[function(b,e,k){e.exports=function(b){var c=encodeURIComponent(b.getURL());return{popup:!0,shareText:{de:"teilen",en:"share",es:"compartir"},name:"whatsapp",faName:"fa-whatsapp",title:{de:"Bei Whatsapp teilen",en:"Share on Whatsapp",es:"Compartir en Whatsapp"},shareUrl:"whatsapp://send?text\x3d"+b.getShareText()+"%20"+c+b.getReferrerTrack()}}},{}],12:[function(b,e,k){(function(g){var c="undefined"!==typeof window?window.jQuery:"undefined"!==
typeof g?g.jQuery:null,a=b("url"),d=function(a,d){var f=this;this.element=a;this.options=c.extend({},this.defaults,d,c(a).data());var e=[b("./services/facebook"),b("./services/googleplus"),b("./services/twitter"),b("./services/whatsapp"),b("./services/mail"),b("./services/info")];this.services=c.map(this.options.services,function(a){var b;return e.forEach(function(c){return c=c(f),c.name===a?(b=c,null):void 0}),b});this._addButtonList();null!==this.options.backendUrl&&this.getShares().then(c.proxy(this._updateCounts,
this))};d.prototype={defaults:{theme:"color",backendUrl:null,infoUrl:"http://ct.de/-2467514",lang:"de",orientation:"horizontal",referrerTrack:null,services:["twitter","facebook","googleplus","info"],twitterVia:null,url:function(){var a=g.document.location.href,b=c("link[rel\x3dcanonical]").attr("href")||this.getMeta("og:url")||"";return 0<b.length&&(0>b.indexOf("http")&&(b=g.document.location.protocol+"//"+g.document.location.host+b),a=b),a}},$socialshareElement:function(){return c(this.element)},
getLocalized:function(a,b){return"object"==typeof a[b]?a[b][this.options.lang]:"string"==typeof a[b]?a[b]:void 0},getMeta:function(a){return c('meta[name\x3d"'+a+'"],[property\x3d"'+a+'"]').attr("content")||""},getInfoUrl:function(){return this.options.infoUrl},getMailUrl:function(){return this.options.mailUrl},getURL:function(){var a=this.options.url;return"function"==typeof a?c.proxy(a,this)():a},getReferrerTrack:function(){return this.options.referrerTrack||""},getShares:function(){var b=a.parse(this.options.backendUrl,
!0);return b.query.url=this.getURL(),delete b.search,c.getJSON(a.format(b))},_updateCounts:function(a){var b=this;c.each(a,function(a,d){1E3<=d&&(d=Math.round(d/1E3)+"k");c(b.element).find("."+a+" a").append('\x3cspan class\x3d"share_count"\x3e'+d)})},_addButtonList:function(){var a=this,b=this.$socialshareElement(),d="theme-"+this.options.theme,e="orientation-"+this.options.orientation,k=c("\x3cul\x3e").addClass(d).addClass(e);this.services.forEach(function(b){var d=c('\x3cli class\x3d"shariff-button"\x3e').addClass(b.name),
f='\x3cspan class\x3d"share_text"\x3e'+a.getLocalized(b,"shareText");f=c("\x3ca\x3e").attr("href",b.shareUrl).append(f);"undefined"!=typeof b.faName&&f.prepend('\x3cspan class\x3d"fa '+b.faName+'"\x3e');"mail"!==b.name?b.popup?f.attr("rel","popup"):f.attr("target","_blank"):f.attr("data-mail","mail");f.attr("title",a.getLocalized(b,"title"));d.append(f);k.append(d)});k.on("click",'[rel\x3d"popup"]',function(a){a.preventDefault();a=c(this).attr("href");g.window.open(a,"_blank","width\x3d600,height\x3d460")});
b.append(k)},abbreviateText:function(a,b){var d=c("\x3cdiv/\x3e").html(a).text();if(d.length<=b)return a;a=d.substring(0,b-1).lastIndexOf(" ");return encodeURIComponent(d.substring(0,a))+"\u2026"},getShareText:function(){var a=this.getMeta("DC.title"),b=this.getMeta("DC.creator");return 0<a.length&&0<b.length?a+=" - "+b:a=c("title").text(),encodeURIComponent(this.abbreviateText(a,120))}};e.exports=d;g.Shariff=d;c(".shariff").each(function(){this.hasOwnProperty("shariff")||(this.shariff=new d(this))})}).call(this,
"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./services/facebook":6,"./services/googleplus":7,"./services/info":8,"./services/mail":9,"./services/twitter":10,"./services/whatsapp":11,url:5}]},{},[12]);define.nextId("promises");
(function(){function b(){return function(){process.nextTick(a)}}function e(){return function(){G(a)}}function k(){var b=0,c=new L(a),d=document.createTextNode("");c.observe(d,{characterData:!0});return function(){d.data=b=++b%2}}function g(){var b=new MessageChannel;b.port1.onmessage=a;return function(){b.port2.postMessage(0)}}function c(){return function(){setTimeout(a,1)}}function a(){for(var a=0;a<F;a+=2)(0,O[a])(O[a+1]),O[a]=void 0,O[a+1]=void 0;F=0}function d(){try{var a=require("vertx");G=a.runOnLoop||
a.runOnContext;return e()}catch(pa){return c()}}function f(){}function h(a){try{return a.then}catch(pa){return Y.error=pa,Y}}function n(a,b,c,d){try{a.call(b,c,d)}catch(na){return na}}function m(a,b,c){I(function(a){var d=!1,f=n(c,b,function(c){d||(d=!0,b!==c?t(a,c):v(a,c))},function(b){d||(d=!0,w(a,b))},"Settle: "+(a._label||" unknown promise"));!d&&f&&(d=!0,w(a,f))},a)}function q(a,b){b._state===W?v(a,b._result):b._state===ca?w(a,b._result):x(b,void 0,function(b){t(a,b)},function(b){w(a,b)})}function l(a,
b,c){b.constructor===a.constructor&&c===N&&constructor.resolve===T?q(a,b):c===Y?w(a,Y.error):void 0===c?v(a,b):"function"===typeof c?m(a,b,c):v(a,b)}function t(a,b){a===b?w(a,new TypeError("You cannot resolve a promise with itself")):"function"===typeof b||"object"===typeof b&&null!==b?l(a,b,h(b)):v(a,b)}function r(a){a._onerror&&a._onerror(a._result);u(a)}function v(a,b){a._state===da&&(a._result=b,a._state=W,0!==a._subscribers.length&&I(u,a))}function w(a,b){a._state===da&&(a._state=ca,a._result=
b,I(r,a))}function x(a,b,c,d){var f=a._subscribers,e=f.length;a._onerror=null;f[e]=b;f[e+W]=c;f[e+ca]=d;0===e&&a._state&&I(u,a)}function u(a){var b=a._subscribers,c=a._state;if(0!==b.length){for(var d,f,e=a._result,g=0;g<b.length;g+=3)d=b[g],f=b[g+c],d?B(c,d,f,e):f(e);a._subscribers.length=0}}function y(){this.error=null}function B(a,b,c,d){var f="function"===typeof c;if(f){try{var e=c(d)}catch(ua){V.error=ua,e=V}if(e===V){var g=!0;var h=e.error;e=null}else var l=!0;if(b===e){w(b,new TypeError("A promises callback cannot return that same promise."));
return}}else e=d,l=!0;b._state===da&&(f&&l?t(b,e):g?w(b,h):a===W?v(b,e):a===ca&&w(b,e))}function z(a,b){try{b(function(b){t(a,b)},function(b){w(a,b)})}catch(qa){w(a,qa)}}function C(a){a[Q]=la++;a._state=void 0;a._result=void 0;a._subscribers=[]}function A(a){this[Q]=la++;this._result=this._state=void 0;this._subscribers=[];if(f!==a){if("function"!==typeof a)throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(this instanceof A)z(this,a);else throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");
}}function D(a,b){this._instanceConstructor=a;this.promise=new a(f);this.promise[Q]||C(this.promise);H(b)?(this._input=b,this._remaining=this.length=b.length,this._result=Array(this.length),0===this.length?v(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&v(this.promise,this._result))):w(this.promise,Error("Array Methods must be provided an Array"))}var H=Array.isArray?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},
F=0,G,K,I=function(b,c){O[F]=b;O[F+1]=c;F+=2;2===F&&(K?K(a):U())},S="undefined"!==typeof window?window:void 0,J=S||{},L=J.MutationObserver||J.WebKitMutationObserver;J="undefined"===typeof self&&"undefined"!==typeof process&&"[object process]"==={}.toString.call(process);var R="undefined"!==typeof Uint8ClampedArray&&"undefined"!==typeof importScripts&&"undefined"!==typeof MessageChannel,O=Array(1E3);var U=J?b():L?k():R?g():void 0===S&&"function"===typeof require?d():c();var N=function(a,b){var c=this,
d=new this.constructor(f);void 0===d[Q]&&C(d);var e=c._state;if(e){var g=arguments[e-1];I(function(){B(e,d,g,c._result)})}else x(c,d,a,b);return d},T=function(a){if(a&&"object"===typeof a&&a.constructor===this)return a;var b=new this(f);t(b,a);return b},Q=Math.random().toString(36).substring(16),da=void 0,W=1,ca=2,Y=new y,V=new y,la=0;A.all=function(a){return(new sa(this,a)).promise};A.race=function(a){var b=this;return H(a)?new b(function(c,d){for(var f=a.length,e=0;e<f;e++)b.resolve(a[e]).then(c,
d)}):new b(function(a,b){b(new TypeError("You must pass an array to race."))})};A.resolve=T;A.reject=function(a){var b=new this(f);w(b,a);return b};A._setScheduler=function(a){K=a};A._setAsap=function(a){I=a};A._asap=I;A.prototype={constructor:A,then:N,"catch":function(a){return this.then(null,a)}};var sa=D;D.prototype._enumerate=function(){for(var a=this.length,b=this._input,c=0;this._state===da&&c<a;c++)this._eachEntry(b[c],c)};D.prototype._eachEntry=function(a,b){var c=this._instanceConstructor,
d=c.resolve;d===T?(d=h(a),d===N&&a._state!==da?this._settledAt(a._state,b,a._result):"function"!==typeof d?(this._remaining--,this._result[b]=a):c===A?(c=new c(f),l(c,a,d),this._willSettleAt(c,b)):this._willSettleAt(new c(function(b){b(a)}),b)):this._willSettleAt(d(a),b)};D.prototype._settledAt=function(a,b,c){var d=this.promise;d._state===da&&(this._remaining--,a===ca?w(d,c):this._result[b]=c);0===this._remaining&&v(d,this._result)};D.prototype._willSettleAt=function(a,b){var c=this;x(a,void 0,function(a){c._settledAt(W,
b,a)},function(a){c._settledAt(ca,b,a)})};S=function(){if("undefined"!==typeof global)var a=global;else if("undefined"!==typeof self)a=self;else try{a=Function("return this")()}catch(qa){throw Error("polyfill failed because global object is unavailable in this environment");}var b=a.Promise;if(!b||"[object Promise]"!==Object.prototype.toString.call(b.resolve())||b.cast)a.Promise=A};A.Promise=A;A.polyfill=S;"function"===typeof define&&define.amd?define(function(){return A}):"undefined"!==typeof module&&
module.exports?module.exports=A:"undefined"!==typeof this&&(this.Promise=A);S()}).call(this);
!function(b){function e(a){return a=+a,0===a||isNaN(a)?a:0<a?1:-1}function k(a){return new Promise(function(b,c){var d=function(f){setTimeout(function(){a&&a.data?b():20<=f?c():d(++f)},50)};d(0)})}function g(){t=l?(b.screen.orientation.angle||0)*n:(b.orientation||0)*n}function c(a){q.orientation.data=a;for(var b in q.orientation.callbacks)q.orientation.callbacks[b].call(this)}function a(a){q.motion.data=a;for(var b in q.motion.callbacks)q.motion.callbacks[b].call(this)}if(void 0===b.FULLTILT||null===
b.FULLTILT){var d=Math.PI,f=d/2,h=2*d,n=d/180,m=180/d,q={orientation:{active:!1,callbacks:[],data:void 0},motion:{active:!1,callbacks:[],data:void 0}},l=b.screen&&b.screen.orientation&&void 0!==b.screen.orientation.angle&&null!==b.screen.orientation.angle?!0:!1,t=(l?b.screen.orientation.angle:b.orientation||0)*n,r=h/3,v=-f,w={version:"0.5.3",getDeviceOrientation:function(a){return new Promise(function(b,c){var d=new w.DeviceOrientation(a);d.start();(new k(q.orientation)).then(function(){d._alphaAvailable=
q.orientation.data.alpha&&null!==q.orientation.data.alpha;d._betaAvailable=q.orientation.data.beta&&null!==q.orientation.data.beta;d._gammaAvailable=q.orientation.data.gamma&&null!==q.orientation.data.gamma;b(d)})["catch"](function(){d.stop();c("DeviceOrientation is not supported")})})},getDeviceMotion:function(a){return new Promise(function(b,c){var d=new w.DeviceMotion(a);d.start();(new k(q.motion)).then(function(){d._accelerationXAvailable=q.motion.data.acceleration&&q.motion.data.acceleration.x;
d._accelerationYAvailable=q.motion.data.acceleration&&q.motion.data.acceleration.y;d._accelerationZAvailable=q.motion.data.acceleration&&q.motion.data.acceleration.z;d._accelerationIncludingGravityXAvailable=q.motion.data.accelerationIncludingGravity&&q.motion.data.accelerationIncludingGravity.x;d._accelerationIncludingGravityYAvailable=q.motion.data.accelerationIncludingGravity&&q.motion.data.accelerationIncludingGravity.y;d._accelerationIncludingGravityZAvailable=q.motion.data.accelerationIncludingGravity&&
q.motion.data.accelerationIncludingGravity.z;d._rotationRateAlphaAvailable=q.motion.data.rotationRate&&q.motion.data.rotationRate.alpha;d._rotationRateBetaAvailable=q.motion.data.rotationRate&&q.motion.data.rotationRate.beta;d._rotationRateGammaAvailable=q.motion.data.rotationRate&&q.motion.data.rotationRate.gamma;b(d)})["catch"](function(){d.stop();c("DeviceMotion is not supported")})})},Quaternion:function(a,b,c,d){var f;this.set=function(a,b,c,d){this.x=a||0;this.y=b||0;this.z=c||0;this.w=d||1};
this.copy=function(a){this.x=a.x;this.y=a.y;this.z=a.z;this.w=a.w};this.setFromEuler=function(){var a,b,c,d,f,e,g,h,l,k,m,w;return function(x){return x=x||{},c=(x.alpha||0)*n,a=(x.beta||0)*n,b=(x.gamma||0)*n,e=c/2,d=a/2,f=b/2,g=Math.cos(d),h=Math.cos(f),l=Math.cos(e),k=Math.sin(d),m=Math.sin(f),w=Math.sin(e),this.set(k*h*l-g*m*w,g*m*l+k*h*w,g*h*w+k*m*l,g*h*l-k*m*w),this.normalize(),this}}();this.setFromRotationMatrix=function(){var a;return function(b){return a=b.elements,this.set(.5*Math.sqrt(1+
a[0]-a[4]-a[8])*e(a[7]-a[5]),.5*Math.sqrt(1-a[0]+a[4]-a[8])*e(a[2]-a[6]),.5*Math.sqrt(1-a[0]-a[4]+a[8])*e(a[3]-a[1]),.5*Math.sqrt(1+a[0]+a[4]+a[8])),this}}();this.multiply=function(a){return f=w.Quaternion.prototype.multiplyQuaternions(this,a),this.copy(f),this};this.rotateX=function(a){return f=w.Quaternion.prototype.rotateByAxisAngle(this,[1,0,0],a),this.copy(f),this};this.rotateY=function(a){return f=w.Quaternion.prototype.rotateByAxisAngle(this,[0,1,0],a),this.copy(f),this};this.rotateZ=function(a){return f=
w.Quaternion.prototype.rotateByAxisAngle(this,[0,0,1],a),this.copy(f),this};this.normalize=function(){return w.Quaternion.prototype.normalize(this)};this.set(a,b,c,d)}};w.Quaternion.prototype={constructor:w.Quaternion,multiplyQuaternions:function(){var a=new w.Quaternion;return function(b,c){var d=b.x,f=b.y,e=b.z;b=b.w;var g=c.x,h=c.y,l=c.z;c=c.w;return a.set(d*c+b*g+f*l-e*h,f*c+b*h+e*g-d*l,e*c+b*l+d*h-f*g,b*c-d*g-f*h-e*l),a}}(),normalize:function(a){var b=Math.sqrt(a.x*a.x+a.y*a.y+a.z*a.z+a.w*a.w);
return 0===b?(a.x=0,a.y=0,a.z=0,a.w=1):(b=1/b,a.x*=b,a.y*=b,a.z*=b,a.w*=b),a},rotateByAxisAngle:function(){var a,b,c=new w.Quaternion,d=new w.Quaternion;return function(f,e,g){return a=(g||0)/2,b=Math.sin(a),d.set((e[0]||0)*b,(e[1]||0)*b,(e[2]||0)*b,Math.cos(a)),c=w.Quaternion.prototype.multiplyQuaternions(f,d),w.Quaternion.prototype.normalize(c)}}()};w.RotationMatrix=function(a,b,c,d,f,e,g,h,l){var k;this.elements=new Float32Array(9);this.identity=function(){return this.set(1,0,0,0,1,0,0,0,1),this};
this.set=function(a,b,c,d,f,e,g,h,l){this.elements[0]=a||1;this.elements[1]=b||0;this.elements[2]=c||0;this.elements[3]=d||0;this.elements[4]=f||1;this.elements[5]=e||0;this.elements[6]=g||0;this.elements[7]=h||0;this.elements[8]=l||1};this.copy=function(a){this.elements[0]=a.elements[0];this.elements[1]=a.elements[1];this.elements[2]=a.elements[2];this.elements[3]=a.elements[3];this.elements[4]=a.elements[4];this.elements[5]=a.elements[5];this.elements[6]=a.elements[6];this.elements[7]=a.elements[7];
this.elements[8]=a.elements[8]};this.setFromEuler=function(){var a,b,c,d,f,e,g,h,l;return function(k){return k=k||{},c=(k.alpha||0)*n,a=(k.beta||0)*n,b=(k.gamma||0)*n,d=Math.cos(a),f=Math.cos(b),e=Math.cos(c),g=Math.sin(a),h=Math.sin(b),l=Math.sin(c),this.set(e*f-l*g*h,-d*l,f*l*g+e*h,f*l+e*g*h,e*d,l*h-e*f*g,-d*h,g,d*f),this.normalize(),this}}();this.setFromQuaternion=function(){var a,b,c,d;return function(f){return a=f.w*f.w,b=f.x*f.x,c=f.y*f.y,d=f.z*f.z,this.set(a+b-c-d,2*(f.x*f.y-f.w*f.z),2*(f.x*
f.z+f.w*f.y),2*(f.x*f.y+f.w*f.z),a-b+c-d,2*(f.y*f.z-f.w*f.x),2*(f.x*f.z-f.w*f.y),2*(f.y*f.z+f.w*f.x),a-b-c+d),this}}();this.multiply=function(a){return k=w.RotationMatrix.prototype.multiplyMatrices(this,a),this.copy(k),this};this.rotateX=function(a){return k=w.RotationMatrix.prototype.rotateByAxisAngle(this,[1,0,0],a),this.copy(k),this};this.rotateY=function(a){return k=w.RotationMatrix.prototype.rotateByAxisAngle(this,[0,1,0],a),this.copy(k),this};this.rotateZ=function(a){return k=w.RotationMatrix.prototype.rotateByAxisAngle(this,
[0,0,1],a),this.copy(k),this};this.normalize=function(){return w.RotationMatrix.prototype.normalize(this)};this.set(a,b,c,d,f,e,g,h,l)};w.RotationMatrix.prototype={constructor:w.RotationMatrix,multiplyMatrices:function(){var a,b,c=new w.RotationMatrix;return function(d,f){return a=d.elements,b=f.elements,c.set(a[0]*b[0]+a[1]*b[3]+a[2]*b[6],a[0]*b[1]+a[1]*b[4]+a[2]*b[7],a[0]*b[2]+a[1]*b[5]+a[2]*b[8],a[3]*b[0]+a[4]*b[3]+a[5]*b[6],a[3]*b[1]+a[4]*b[4]+a[5]*b[7],a[3]*b[2]+a[4]*b[5]+a[5]*b[8],a[6]*b[0]+
a[7]*b[3]+a[8]*b[6],a[6]*b[1]+a[7]*b[4]+a[8]*b[7],a[6]*b[2]+a[7]*b[5]+a[8]*b[8]),c}}(),normalize:function(a){var b=a.elements,c=b[0]*b[4]*b[8]-b[0]*b[5]*b[7]-b[1]*b[3]*b[8]+b[1]*b[5]*b[6]+b[2]*b[3]*b[7]-b[2]*b[4]*b[6];return b[0]/=c,b[1]/=c,b[2]/=c,b[3]/=c,b[4]/=c,b[5]/=c,b[6]/=c,b[7]/=c,b[8]/=c,a.elements=b,a},rotateByAxisAngle:function(){var a,b,c=new w.RotationMatrix,d=new w.RotationMatrix,f=!1;return function(e,g,h){return d.identity(),f=!1,a=Math.sin(h),b=Math.cos(h),1===g[0]&&0===g[1]&&0===
g[2]?(f=!0,d.elements[4]=b,d.elements[5]=-a,d.elements[7]=a,d.elements[8]=b):1===g[1]&&0===g[0]&&0===g[2]?(f=!0,d.elements[0]=b,d.elements[2]=a,d.elements[6]=-a,d.elements[8]=b):1===g[2]&&0===g[0]&&0===g[1]&&(f=!0,d.elements[0]=b,d.elements[1]=-a,d.elements[3]=a,d.elements[4]=b),f?(c=w.RotationMatrix.prototype.multiplyMatrices(e,d),c=w.RotationMatrix.prototype.normalize(c)):c=e,c}}()};w.Euler=function(a,b,c){this.set=function(a,b,c){this.alpha=a||0;this.beta=b||0;this.gamma=c||0};this.copy=function(a){this.alpha=
a.alpha;this.beta=a.beta;this.gamma=a.gamma};this.setFromRotationMatrix=function(){var a,b,c,e;return function(g){a=g.elements;0<a[8]?(b=Math.atan2(-a[1],a[4]),c=Math.asin(a[7]),e=Math.atan2(-a[6],a[8])):0>a[8]?(b=Math.atan2(a[1],-a[4]),c=-Math.asin(a[7]),c+=0<=c?-d:d,e=Math.atan2(a[6],-a[8])):0<a[6]?(b=Math.atan2(-a[1],a[4]),c=Math.asin(a[7]),e=-f):0>a[6]?(b=Math.atan2(a[1],-a[4]),c=-Math.asin(a[7]),c+=0<=c?-d:d,e=-f):(b=Math.atan2(a[3],a[0]),c=0<a[7]?f:-f,e=0);0>b&&(b+=h);b*=m;c*=m;e*=m;this.set(b,
c,e)}}();this.setFromQuaternion=function(){var a,b,c;return function(e){var g=e.w*e.w,l=e.x*e.x,k=e.y*e.y,n=e.z*e.z,w=g+l+k+n,q=e.w*e.x+e.y*e.z;if(q>.499999*w)a=2*Math.atan2(e.y,e.w),b=f,c=0;else if(-.499999*w>q)a=-2*Math.atan2(e.y,e.w),b=-f,c=0;else{var x=g-l+k-n,v=2*(e.w*e.z-e.x*e.y);g=g-l-k+n;e=2*(e.w*e.y-e.x*e.z);0<g?(a=Math.atan2(v,x),b=Math.asin(2*q/w),c=Math.atan2(e,g)):(a=Math.atan2(-v,-x),b=-Math.asin(2*q/w),b+=0>b?d:-d,c=Math.atan2(-e,-g))}0>a&&(a+=h);a*=m;b*=m;c*=m;this.set(a,b,c)}}();
this.rotateX=function(a){return w.Euler.prototype.rotateByAxisAngle(this,[1,0,0],a),this};this.rotateY=function(a){return w.Euler.prototype.rotateByAxisAngle(this,[0,1,0],a),this};this.rotateZ=function(a){return w.Euler.prototype.rotateByAxisAngle(this,[0,0,1],a),this};this.set(a,b,c)};w.Euler.prototype={constructor:w.Euler,rotateByAxisAngle:function(){var a=new w.RotationMatrix;return function(b,c,d){return a.setFromEuler(b),a=w.RotationMatrix.prototype.rotateByAxisAngle(a,c,d),b.setFromRotationMatrix(a),
b}}()};w.DeviceOrientation=function(a){this.options=a||{};var c=0,d=0;if(this.alphaOffsetScreen=0,this.alphaOffsetDevice=void 0,"game"===this.options.type){var f=function(a){return null!==a.alpha&&(this.alphaOffsetDevice=new w.Euler(a.alpha,0,0),this.alphaOffsetDevice.rotateZ(-t),10<=++d)?void b.removeEventListener("deviceorientation",f,!1):void(200<=++c&&b.removeEventListener("deviceorientation",f,!1))}.bind(this);b.addEventListener("deviceorientation",f,!1)}else if("world"===this.options.type){var e=
function(a){return!0!==a.absolute&&void 0!==a.webkitCompassAccuracy&&null!==a.webkitCompassAccuracy&&0<=+a.webkitCompassAccuracy&&50>+a.webkitCompassAccuracy&&(this.alphaOffsetDevice=new w.Euler(a.webkitCompassHeading,0,0),this.alphaOffsetDevice.rotateZ(t),this.alphaOffsetScreen=t,10<=++d)?void b.removeEventListener("deviceorientation",e,!1):void(200<=++c&&b.removeEventListener("deviceorientation",e,!1))}.bind(this);b.addEventListener("deviceorientation",e,!1)}};w.DeviceOrientation.prototype={constructor:w.DeviceOrientation,
start:function(a){a&&"[object Function]"==Object.prototype.toString.call(a)&&q.orientation.callbacks.push(a);l?b.screen.orientation.addEventListener("change",g,!1):b.addEventListener("orientationchange",g,!1);q.orientation.active||(b.addEventListener("deviceorientation",c,!1),q.orientation.active=!0)},stop:function(){q.orientation.active&&(b.removeEventListener("deviceorientation",c,!1),q.orientation.active=!1)},listen:function(a){this.start(a)},getFixedFrameQuaternion:function(){var a=new w.Euler,
b=new w.RotationMatrix,c=new w.Quaternion;return function(){var d=q.orientation.data||{alpha:0,beta:0,gamma:0},f=d.alpha;return this.alphaOffsetDevice&&(b.setFromEuler(this.alphaOffsetDevice),b.rotateZ(-this.alphaOffsetScreen),a.setFromRotationMatrix(b),0>a.alpha&&(a.alpha+=360),a.alpha%=360,f-=a.alpha),a.set(f,d.beta,d.gamma),c.setFromEuler(a),c}}(),getScreenAdjustedQuaternion:function(){var a;return function(){return a=this.getFixedFrameQuaternion(),a.rotateZ(-t),a}}(),getFixedFrameMatrix:function(){var a=
new w.Euler,b=new w.RotationMatrix;return function(){var c=q.orientation.data||{alpha:0,beta:0,gamma:0},d=c.alpha;return this.alphaOffsetDevice&&(b.setFromEuler(this.alphaOffsetDevice),b.rotateZ(-this.alphaOffsetScreen),a.setFromRotationMatrix(b),0>a.alpha&&(a.alpha+=360),a.alpha%=360,d-=a.alpha),a.set(d,c.beta,c.gamma),b.setFromEuler(a),b}}(),getScreenAdjustedMatrix:function(){var a;return function(){return a=this.getFixedFrameMatrix(),a.rotateZ(-t),a}}(),getFixedFrameEuler:function(){var a,b=new w.Euler;
return function(){return a=this.getFixedFrameMatrix(),b.setFromRotationMatrix(a),b}}(),getScreenAdjustedEuler:function(){var a,b=new w.Euler;return function(){return a=this.getScreenAdjustedMatrix(),b.setFromRotationMatrix(a),b}}(),isAbsolute:function(){return q.orientation.data&&!0===q.orientation.data.absolute?!0:!1},getLastRawEventData:function(){return q.orientation.data||{}},_alphaAvailable:!1,_betaAvailable:!1,_gammaAvailable:!1,isAvailable:function(a){switch(a){case this.ALPHA:return this._alphaAvailable;
case this.BETA:return this._betaAvailable;case this.GAMMA:return this._gammaAvailable}},ALPHA:"alpha",BETA:"beta",GAMMA:"gamma"};w.DeviceMotion=function(a){this.options=a||{}};w.DeviceMotion.prototype={constructor:w.DeviceMotion,start:function(c){c&&"[object Function]"==Object.prototype.toString.call(c)&&q.motion.callbacks.push(c);l?b.screen.orientation.addEventListener("change",g,!1):b.addEventListener("orientationchange",g,!1);q.motion.active||(b.addEventListener("devicemotion",a,!1),q.motion.active=
!0)},stop:function(){q.motion.active&&(b.removeEventListener("devicemotion",a,!1),q.motion.active=!1)},listen:function(a){this.start(a)},getScreenAdjustedAcceleration:function(){var a=q.motion.data&&q.motion.data.acceleration?q.motion.data.acceleration:{x:0,y:0,z:0},b={};switch(t){case f:b.x=-a.y;b.y=a.x;break;case d:b.x=-a.x;b.y=-a.y;break;case r:case v:b.x=a.y;b.y=-a.x;break;default:b.x=a.x,b.y=a.y}return b.z=a.z,b},getScreenAdjustedAccelerationIncludingGravity:function(){var a=q.motion.data&&q.motion.data.accelerationIncludingGravity?
q.motion.data.accelerationIncludingGravity:{x:0,y:0,z:0},b={};switch(t){case f:b.x=-a.y;b.y=a.x;break;case d:b.x=-a.x;b.y=-a.y;break;case r:case v:b.x=a.y;b.y=-a.x;break;default:b.x=a.x,b.y=a.y}return b.z=a.z,b},getScreenAdjustedRotationRate:function(){var a=q.motion.data&&q.motion.data.rotationRate?q.motion.data.rotationRate:{alpha:0,beta:0,gamma:0},b={};switch(t){case f:b.beta=-a.gamma;b.gamma=a.beta;break;case d:b.beta=-a.beta;b.gamma=-a.gamma;break;case r:case v:b.beta=a.gamma;b.gamma=-a.beta;
break;default:b.beta=a.beta,b.gamma=a.gamma}return b.alpha=a.alpha,b},getLastRawEventData:function(){return q.motion.data||{}},_accelerationXAvailable:!1,_accelerationYAvailable:!1,_accelerationZAvailable:!1,_accelerationIncludingGravityXAvailable:!1,_accelerationIncludingGravityYAvailable:!1,_accelerationIncludingGravityZAvailable:!1,_rotationRateAlphaAvailable:!1,_rotationRateBetaAvailable:!1,_rotationRateGammaAvailable:!1,isAvailable:function(a){switch(a){case this.ACCELERATION_X:return this._accelerationXAvailable;
case this.ACCELERATION_Y:return this._accelerationYAvailable;case this.ACCELERATION_Z:return this._accelerationZAvailable;case this.ACCELERATION_INCLUDING_GRAVITY_X:return this._accelerationIncludingGravityXAvailable;case this.ACCELERATION_INCLUDING_GRAVITY_Y:return this._accelerationIncludingGravityYAvailable;case this.ACCELERATION_INCLUDING_GRAVITY_Z:return this._accelerationIncludingGravityZAvailable;case this.ROTATION_RATE_ALPHA:return this._rotationRateAlphaAvailable;case this.ROTATION_RATE_BETA:return this._rotationRateBetaAvailable;
case this.ROTATION_RATE_GAMMA:return this._rotationRateGammaAvailable}},ACCELERATION_X:"accelerationX",ACCELERATION_Y:"accelerationY",ACCELERATION_Z:"accelerationZ",ACCELERATION_INCLUDING_GRAVITY_X:"accelerationIncludingGravityX",ACCELERATION_INCLUDING_GRAVITY_Y:"accelerationIncludingGravityY",ACCELERATION_INCLUDING_GRAVITY_Z:"accelerationIncludingGravityZ",ROTATION_RATE_ALPHA:"rotationRateAlpha",ROTATION_RATE_BETA:"rotationRateBeta",ROTATION_RATE_GAMMA:"rotationRateGamma"};b.FULLTILT=w}}(window);
(function(b,e,k,g,c){function a(a){return a!==c&&null!==a}var d=k.history,f=d.pushState!==c,h=c,n=k.onpopstate,m=!1;k.onpopstate=function(b){var d=f;f=!1;var g=b.state;if(a(g)&&a(g.elementId)){var l=e("#"+g.elementId);0<l.length&&l.trigger(g.clickEvent)}else a(h)&&h.settings.open&&(!h.$elem||h.$elem.data("ctaAutoLoaded")||h.$overlayWrapper&&0<h.$overlayWrapper.find(".md-dealerlocator").length&&!m?h.$elem.removeData("ctaAutoLoaded"):h.closeOverlay());f=d;n!==c&&null!==n&&n(b)};var q=0,l=function(a,
c,d){this.$html=e("html");this.$body=e("body");this.$parent=d;this.$elem=e(a);this.transitionend=b.transitionEndEvent;this.$overlay={};this.$overlayHeader={};this.$overlayWrapper={};this.$overlayTitle={};this.$overlayFooter={};this.$closeLink={};this.$closeText={};this.$overlayContent={};this.$overlayContentWrapper={};this.$xhr;this.options=c;this.settings={};this.metadata=this.$elem.data("plugin-options");this.uniqueId=Math.floor(Math.random()*(new Date).getTime());this.hasMediaSupport=this.isNarrow=
!0;this.veilProps={id:this.uniqueId,zIndex:this.options.veilZIndex};this.veilIdsToClose=[];d&&0<e(d).length&&(this.$body=d);this.selector={overlay:".md-custom-overlay",overlayWrapper:".md-custom-overlay-wrapper",overlayContentWrapper:".md-custom-overlay-main-wrapper",overlayContent:".md-custom-overlay-main",overlayHeader:".md-custom-overlay-header",overlayFooter:".md-custom-overlay-footer",overlayTitle:".md-custom-overlay-title",closeLink:".md-custom-overlay-close",closeText:".md-custom-overlay-close-text"};
this.cssClass={overlay:"md-custom-overlay",closeButton:"md-icn-close",isOpen:"md-custom-overlay-open",footerEnabled:"md-overlay-footer-enabled",layoutSmall:"md-custom-overlay-type-sml",layoutMedium:"md-custom-overlay-type-med",layoutLarge:"md-custom-overlay-type-lrg",hidden:"md-hidden",contentLoader:"md-custom-overlay-loader",disableScroll:"md-custom-overlay-disable-scroll"};this.events={resize:"md:resize",toggleOverlay:"click.click-overlay-link",clickOverlay:"click.md-custom-overlay",clickClose:"click.click-overlay-close",
overlayContentLoaded:"md:overlay:contentLoaded",overlayOpened:"md:overlay:opened",overlayClosed:"md:overlay:closed",overlayScroll:"md:overlay:scroll",overlayOpening:"md:overlay:opening",overlayClosing:"md:overlay:closing",overlayClose:"md:overlay:close"};this.ratio={wide:{width:52,height:54},narrow:{width:100,height:80}};this.display={};this.init.apply(this)};l.prototype={defaults:{open:!1,ajax:!1,titleFromContent:!1,titleSelector:"",source:".md-custom-overlay-source",initialiseSource:!1,title:"",
footer:"",textCloseButton:"",classEnabled:"md-enabled",classVisible:"md-visible",classOverlayIn:"md-overlay-in",contentType:"content",type:"overlay",style:"sml",veilZIndex:null,deepClone:!1,history:!1,historyForwardHandler:c,ajaxTimeout:3E4,fireScrollEvents:!1},redrawPage:function(a){a.offsetLeft},bind:function(a,b){return function(){return a[b].apply(a,arguments)}},createOverlay:function(){this.$overlay=e(this.selector.overlay);if(0===this.$overlay.length){var a='\x3cdiv class\x3d"'+this.selector.overlay.substr(1)+
'"\x3e';a+='\x3cdiv class\x3d"'+this.selector.overlayWrapper.substr(1)+'"\x3e';a+='\x3cdiv class\x3d"'+this.selector.overlayHeader.substr(1)+'"\x3e';a+='\x3cdiv class\x3d"'+this.selector.overlayTitle.substr(1)+'"\x3e\x3c/div\x3e';a=a+"\x3c/div\x3e"+('\x3cbutton class\x3d"md-btn md-custom-overlay-close" name\x3d"close"\x3e\x3cspan class\x3d"md-custom-overlay-close-text"\x3e'+this.settings.textCloseButton+"\x3c/span\x3e\x3c/button\x3e");a+='\x3cdiv class\x3d"'+this.selector.overlayContentWrapper.substr(1)+
'"\x3e';a+='\x3cdiv class\x3d"'+this.selector.overlayContent.substr(1)+'"\x3e\x3c/div\x3e';a=a+"\x3c/div\x3e"+('\x3cdiv class\x3d"'+this.selector.overlayFooter.substr(1)+'"\x3e\x3c/div\x3e');this.$overlay=e(a+"\x3c/div\x3e\x3c/div\x3e").prependTo(this.$body)}this.mapOverlayInstance();this.initGeneratedEvents()},mapOverlayInstance:function(){this.$overlayWrapper=this.$overlay.find(this.selector.overlayWrapper);this.$overlayContentWrapper=this.$overlay.find(this.selector.overlayContentWrapper);this.$overlayContent=
this.$overlay.find(this.selector.overlayContent);this.$overlayHeader=this.$overlay.find(this.selector.overlayHeader);this.$overlayFooter=this.$overlay.find(this.selector.overlayFooter);this.$overlayTitle=this.$overlay.find(this.selector.overlayTitle);this.$closeLink=this.$overlay.find(this.selector.closeLink);this.$closeText=this.$overlay.find(this.selector.closeText)},checkContents:function(){var a="",b=this;a=this.$overlay.attr("data-id");this.$overlayContent.empty();a&&this.veilIdsToClose.push(parseInt(a,
10));a=this.$overlayWrapper.attr("class").split(" ");e.each(a,function(a,c){if(0===c.indexOf(b.cssClass.overlay+"-type-"))return b.$overlayWrapper.removeClass(c),!1});this.$overlayWrapper.addClass(this.cssClass.overlay+"-type-"+this.settings.style);this.$closeText.text(this.settings.textCloseButton);this.$overlayFooter.toggleClass(this.cssClass.footerEnabled,""!==this.settings.footer);this.settings.ajax?this.ajaxContents():this.inlineContents()},setContentsCallback:function(){var a=this.settings.source;
a={requester:this.$elem,overlayContent:this.$overlayContent,ajaxUrl:this.settings.ajax?a:c};this.settings.ajax||(this.$overlayTitle.text(this.overlayTitle),this.$overlayFooter.html(this.overlayFooter),this.$overlayContent.append(this.$source.clone(this.settings.deepClone)));e.publish(this.events.overlayContentLoaded,[a]);if(this.settings.ajax){this.settings.titleFromContent&&this.setTitleFromContent();var d=this.$overlayContent[0];b.initialise(d);require(["core/componentInitializer"],function(a){a.init(d)})}else this.settings.initialiseSource&&
b.initialise(this.$overlayContent[0]),this.$overlayFooter.toggleClass(this.cssClass.footerEnabled,""!==this.settings.footer);e.publish(this.events.overlayOpened,[a])},inlineContents:function(){this.setContentsCallback()},ajaxContents:function(){var a=this,b=this.settings.source;this.$overlayContent.addClass(this.cssClass.contentLoader);var c={type:"GET",url:b,dataType:"html",timeout:this.settings.ajaxTimeout,error:function(a,b,d){console.log('WARN: mdOverlay.ajaxContents: ajax-call returned error "'+
b+'" using call settings:',c)}};this.$xhr=e.ajax(c).done(function(b){a.$overlayTitle.text("");a.$overlayContent.append(b);a.setContentsCallback()}).fail(function(b,c){"abort"!==c&&(a.$overlayContent.append(a.$body.data().mdMessageAjaxfail),a.$overlay.attr("data-id",a.uniqueId))}).always(function(){a.$overlayContent.removeClass(a.cssClass.contentLoader)})},hideVeil:function(){b.veil.manageVeil("close",this.veilProps,this.$parent)},showVeil:function(){b.veil.manageVeil("open",this.veilProps,this.$parent)},
removePreviousVeils:function(){for(var a;this.veilIdsToClose.length;)a=this.veilIdsToClose.pop(),b.veil.manageVeil("close",{id:a})},moveOut:function(){var a=e.Deferred();if(k.Modernizr.csstransitions)this.$overlayWrapper.one(this.transitionend,a.resolve);a.resolve();this.$overlayWrapper.attr("data-position",this.winHeight);this.$overlayWrapper.removeClass(this.settings.classOverlayIn);a.promise().done(function(){this.$overlay.removeClass(this.settings.classEnabled);this.settings.ajax&&this.$overlayTitle.text("");
e.publish(this.events.overlayClosed,[{requester:this.$elem,overlayContent:this.$overlayContent}])}.bind(this))},moveIn:function(){var a=this;if(k.Modernizr.csstransitions)this.$overlay.one(this.transitionend,function(){a.$overlayWrapper.addClass(a.settings.classOverlayIn)});else this.$overlayWrapper.addClass(this.settings.classOverlayIn);this.$overlay.addClass(this.settings.classEnabled);this.$overlayWrapper.attr("data-position","0");e(".md-custom-overlay.md-enabled").on("mouseup",this.triggerCloseEventForOutsideClick)},
triggerCloseEventForOutsideClick:function(a){e(".md-custom-overlay.md-enabled").off("mouseup",this.triggerCloseEventForOutsideClick);"md-custom-overlay md-enabled"==e(a.target).attr("class")&&e(".md-btn.md-custom-overlay-close").trigger("click")},getHeightRatio:function(a){return Math.round(a/this.display.width*this.display.height)},setContainerLayout:function(){if(this.isNarrow){var a=parseInt(this.winHeight*this.display.height/100,10);this.$overlay.height(a)}},setContentLayout:function(){var a=
this.$overlayHeader.outerHeight(!0),b=this.$overlayFooter.outerHeight(!0);this.$overlayHeader.text().includes("Empty Heading")&&(a=0);this.$overlayContentWrapper.css({top:a,"padding-bottom":""!==this.settings.footer?b+20:""})},setLayout:function(){this.setContentLayout()},manageLayout:function(){var a=e(k);this.hasMediaSupport=k.Modernizr.mq("only all");this.display=(this.isNarrow=!k.Modernizr.mq("only screen and (min-width: 768px)"))?this.ratio.narrow:this.ratio.wide;this.winWidth=a.width();this.winHeight=
a.height();this.setLayout()},manageState:function(){this.settings.open?(this.checkContents(),this.manageLayout(),this.removePreviousVeils(),this.showVeil(),this.moveIn(),b.overlay.disableScrollBehind(this.$overlay,this.$overlayWrapper),this.$parent?this.$parent.addClass(this.cssClass.isOpen):this.$html.addClass(this.cssClass.isOpen),this.pushHistory(),h=this):(this.hideVeil(),this.moveOut(),this.$parent?this.$parent.removeClass(this.cssClass.isOpen):this.$html.removeClass(this.cssClass.isOpen),b.overlay.enableScrollBehind(this.$overlay,
this.$overlayWrapper),this.popHistory(),h=c)},pushHistory:function(){f&&this.settings.historyForwardInfo!==c&&!b.browser.isIE&&(d.replaceState(null,"",""),d.pushState(this.settings.historyForwardInfo,"",""))},popHistory:function(){f&&this.settings.historyForwardInfo!==c&&this.settings.open&&!this.isConfiguratorStarted()&&(b.browser.isIE||d.back())},isConfiguratorStarted:function(){var a=!1,b=k.location.hash;b&&(a=-1<b.indexOf("configurator"));return a},toggleOverlay:function(a){a.preventDefault();
this.settings.open=!this.settings.open;if(this.settings.open)this.$closeLink.on(this.events.clickClose,this,this.onCloseOverlay);else this.$closeLink.off(this.events.clickClose,this.onCloseOverlay);this.manageState()},openOverlay:function(){this.settings.open=!0;this.$closeLink.on(this.events.clickClose,this,this.onCloseOverlay);e.publish(this.events.overlayOpening);this.manageState()},closeOverlay:function(){this.settings.open=!1;this.$xhr&&4!==this.$xhr.readyState&&this.$xhr.abort();this.$closeLink.off(this.events.clickClose,
this.onCloseOverlay);e.publish(this.events.overlayClosing,[{requester:this.$elem,overlayContent:this.$overlayContent}]);this.manageState()},onCloseOverlay:function(a){var b=a.data,c=e(a.target);if(c.hasClass(b.selector.closeLink.substr(1))||c.hasClass(b.selector.closeText.substr(1)))m=!0,b.closeOverlay(),a.preventDefault()},initGeneratedEvents:function(){var a=this;e.subscribe(this.events.resize,a.bind(a,"manageLayout"));if(this.settings.fireScrollEvents)this.$overlay.find(this.selector.overlayContent).on("scroll",
function(){e.publish(a.events.overlayScroll)});e.subscribe(this.events.overlayClose,this.closeOverlay.bind(this))},setTitleFromContent:function(){if(this.settings.titleFromContent){var a=this.$overlayContent.find(this.settings.titleSelector);if(this.$overlayContent.find("#aemFormFrame").length){var b=this.$overlayHeader.outerHeight(!0);this.$overlayTitle.closest(".md-custom-overlay-wrapper").addClass("aemForm");a.text().includes("Empty Heading")&&(b=0);this.$overlayContentWrapper.css({top:b});a.text()?
this.$overlayTitle.text(a.text()):this.$overlayTitle.remove()}else this.$overlayTitle.text(a.text());a.addClass(this.cssClass.hidden)}},setDefaults:function(){this.settings.ajax||(this.$source=this.settings.source instanceof e?this.settings.source:e(this.settings.source,this.$body),this.overlayTitle=this.settings.title||this.$elem.text(),this.overlayFooter=this.settings.footer);if(this.settings.history&&this.settings.historyForwardInfo===c){var a=this.$elem;if(a===c||null===a||0===a.length)a=c;else{var b=
a.attr("id");b===c&&(b="overlay-"+q++,a.attr("id",b));a=b}a!==c&&(this.settings.historyForwardInfo={elementId:a,clickEvent:"click"})}},destroy:function(){this.$overlay.attr("data-id")===this.uniqueId.toString()&&(this.hideVeil(),this.settings.open=!1,this.$overlay.removeClass(this.settings.classEnabled).removeClass(this.cssClass.disableScroll).attr({style:"","data-id":""}),this.$overlayWrapper.removeClass(this.settings.classOverlayIn).removeClass(this.cssClass.layoutSmall).removeClass(this.cssClass.layoutMedium).removeClass(this.cssClass.layoutLarge).removeClass(this.cssClass.overlay+
"-type-"+this.settings.style).attr("style",""),this.$overlayContentWrapper.attr("style",""),e.unsubscribe(this.events.resize,this.bind(this,"manageState")),this.$elem.data("overlay")!==c&&e.removeData(this.$elem[0],"overlay"))},init:function(){null!=this.$body.data()&&(this.defaults.textCloseButton=this.$body.data().mdMessageClose);this.settings=e.extend({},this.defaults,this.options,this.metadata);this.setDefaults();this.createOverlay();this.settings.open&&this.manageState()}};e.fn.overlay=function(a){return this.each(function(){var b=
e(this).parents(".md-external-share");e.data(this,"overlay")?(e.data(this,"overlay").settings=e.extend(e.data(this,"overlay").settings,a),e.data(this,"overlay").setDefaults()):e.data(this,"overlay",new l(this,a,b))})};e.mdOverlay=function(a,b,c){return new l(b,a,c)}})(mini.digital.util,mini.digital.$,window,document);
(function(b,e,k){var g=function(c,a){this.$elem=b(c);this.$html=b("html");this.$body=b("body");this.options=a;this.settings={};this.metadata=this.$elem.data("plugin-options");this.transitionend=e.transitionEndEvent;this.uniqueId=Math.floor(Math.random()*(new Date).getTime());this.subResize=[];this.$veil={};this.$layer={};this.$layerWrapper={};this.$layerContentWrapper={};this.$layerContent={};this.$layerHeader={};this.$layerTitle={};this.$closeLink={};this.selector={layer:".md-custom-layer",veil:".md-custom-layer-veil",
layerWrapper:".md-custom-layer-wrapper",layerContentWrapper:".md-custom-layer-main-wrapper",layerContent:".md-custom-layer-main",layerHeader:".md-custom-layer-header",layerTitle:".md-custom-layer-title",closeLink:".md-icn-close"};this.cssClass={layerIn:"md-custom-layer-in",enabled:"md-enabled",layer:"md-custom-layer",layoutDefault:"md-custom-layer-type-default",isOpen:"md-custom-overlay-open"};this.events={layerContentLoaded:"md:layer:contentLoaded",layerOpened:"md:layer:opened",layerClosed:"md:layer:closed",
layerMoveComplete:"md:layer:move:complete"};this.init.apply(this)};g.prototype={defaults:{open:!1,ajax:!1,initialiseSource:!1,constrain:null,source:null,title:null,style:"default",textCloseButton:"Close",group:"layer",height:null},createLayer:function(){var b=this.$constrain.find("."+this.selector.veil.substr(1)+'[data-layer-group\x3d"'+this.settings.group+'"]'),a=this.$constrain.find("."+this.selector.layer.substr(1)+'[data-layer-group\x3d"'+this.settings.group+'"]'),d=this.cssClass.layer+"-type-"+
this.settings.style,f="";0===b.length&&(f+='\x3cdiv class\x3d"'+this.selector.veil.substr(1)+'" data-layer-group\x3d"'+this.settings.group+'"\x3e\x3c/div\x3e');0===a.length&&(f+='\x3cdiv class\x3d"'+this.selector.layer.substr(1)+" "+d+'" data-layer-group\x3d"'+this.settings.group+'" data-layer-id\x3d"'+this.uniqueId+'"\x3e',f+='\x3cdiv class\x3d"'+this.selector.layerWrapper.substr(1)+'"\x3e',f+='\x3cdiv class\x3d"'+this.selector.layerHeader.substr(1)+'"\x3e',f+='\x3cdiv class\x3d"'+this.selector.layerTitle.substr(1)+
'"\x3e\x3c/div\x3e',f+='\x3cbutton class\x3d"md-custom-layer-btn md-icn-close"\x3e\x3cspan class\x3d"md-icn-alt"\x3e'+this.settings.textCloseButton+"\x3c/span\x3e\x3c/button\x3e",f=f+"\x3c/div\x3e"+('\x3cdiv class\x3d"'+this.selector.layerContentWrapper.substr(1)+'"\x3e'),f+='\x3cdiv class\x3d"'+this.selector.layerContent.substr(1)+'"\x3e\x3c/div\x3e',f+="\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e");0!==b.length&&0!==a.length||this.$constrain.prepend(f);this.setLayerInternals()},setLayerInternals:function(){this.$veil=
this.$constrain.find(this.selector.veil+'[data-layer-group\x3d"'+this.settings.group+'"]');this.$layer=this.$constrain.find(this.selector.layer+'[data-layer-group\x3d"'+this.settings.group+'"]');this.$layerWrapper=this.$layer.find(this.selector.layerWrapper);this.$layerContentWrapper=this.$layer.find(this.selector.layerContentWrapper);this.$layerContent=this.$layer.find(this.selector.layerContent);this.$layerHeader=this.$layer.find(this.selector.layerHeader);this.$layerTitle=this.$layer.find(this.selector.layerTitle);
this.$closeLink=this.$layer.find(this.selector.closeLink);if(this.settings.title){var c=this.settings.title instanceof b?this.settings.title.text():this.settings.title;this.$layerTitle.text(c)}},inlineContents:function(){this.$layerTitle.text(this.layerTitle);this.$layerContent.append(this.$source.clone());b.publish(this.events.layerContentLoaded,[{requester:this.$elem,layerContent:this.$layerContent}]);this.settings.initialiseSource&&e.initialise(this.$layerContent[0]);b.publish(this.events.layerOpened,
[{requester:this.$elem,layerContent:this.$layerContent}])},hideVeil:function(){this.$veil.removeClass(this.cssClass.enabled)},showVeil:function(){this.$veil.addClass(this.cssClass.enabled)},moveIn:function(){var c=b.Deferred();if(k.Modernizr.csstransitions)this.$layer.one(this.transitionend,c.resolve);else c.resolve();this.$layer.addClass(this.cssClass.enabled);this.$layerWrapper.attr("data-position","0");c.promise().done(function(){this.$layerWrapper.one(this.transitionend,function(){b.publish(this.events.layerMoveComplete,
[{requester:this.$elem,state:this.settings.open}])}.bind(this)).addClass(this.cssClass.layerIn)}.bind(this))},moveOut:function(){var c=b.Deferred();if(k.Modernizr.csstransitions)this.$layerWrapper.one(this.transitionend,c.resolve);else this.$layer.removeClass(this.cssClass.enabled),c.resolve();this.$layerWrapper.attr("data-position",this.winHeight).removeClass(this.cssClass.layerIn);c.promise().done(function(){this.$layer.removeClass(this.cssClass.enabled);b.publish(this.events.layerClosed,[{requester:this.$elem,
layerContent:this.$layerContent}])}.bind(this))},setLayout:function(c){var a=this.$layerHeader.outerHeight(!0)||0,d=this.$layerWrapper.outerHeight(!0)||0;this.settings.height?a=this.settings.height:(a=d-a,1===a%2&&(a+=1));this.$layerContentWrapper.height(a);c&&(c.veilHeight&&this.$veil.height(c.veilHeight),c.customLayerPaddingTop&&c.customLayerTop&&(this.$layer.height(b(k).height()-c.customLayerPaddingTop),this.$layer.css("top",c.customLayerTop+c.customLayerPaddingTop)))},manageLayout:function(b){this.isNarrow=
!e.matchmedia.wide.matches;this.setLayout(b)},checkContents:function(){this.$layer.attr("data-layer-id")!==this.uniqueId&&(this.$layerContent.empty(),this.$layer.removeClass(this.cssClass.layoutDefault).addClass(this.cssClass.layer+"-type-"+this.settings.style),this.settings.ajax||this.inlineContents())},manageState:function(b){this.settings.open?(this.checkContents(),this.manageLayout(b),e.overlay.disableScrollBehindBase(this.$layer,this.$layerWrapper),this.initInstanceEvents(),this.showVeil(),this.moveIn()):
(this.disableInstanceEvents(),this.hideVeil(),this.moveOut(),e.overlay.enableScrollBehindBase(this.$layer,this.$layerWrapper),this.$layerContentWrapper.height("auto"))},toggle:function(b){this.settings.open=!this.settings.open;this.manageState(b)},open:function(){this.settings.open=!0;this.manageState()},close:function(){this.settings.open=!1;this.manageState()},onCloseLayer:function(b){console.log("onCloseLayer called");b.preventDefault();b.stopPropagation();b.data===this&&b.data.close()},initInstanceEvents:function(){this.$constrain.on("click",
this.selector.veil,this,this.onCloseLayer.bind(this));this.$constrain.on("click",this.selector.closeLink,this,this.onCloseLayer.bind(this));this.subResize=b.subscribe(this.events.resize,this.manageLayout.bind(this))},disableInstanceEvents:function(){this.$constrain.off("click",this.selector.veil,this,this.onCloseLayer.bind(this));this.$constrain.off("click",this.selector.closeLink,this,this.onCloseLayer.bind(this));b.unsubscribe(this.subResize)},setDefaults:function(){this.$constrain=this.settings.constrain instanceof
b?this.settings.constrain:b(this.settings.constrain);this.$source=this.settings.source instanceof b?this.settings.source:b(this.settings.source)},init:function(){this.settings=b.extend({},this.defaults,this.options,this.metadata);this.settings.constrain&&(this.setDefaults(),this.createLayer(),this.settings.open&&this.manageState())}};b.fn.layer=function(c){return this.each(function(){b.data(this,"layer")||b.data(this,"layer",new g(this,c))})}})(mini.digital.$,mini.digital.util,window,document);
(function(b,e){var k={preventMove:[]},g=[],c=[],a=function(a,c){this.$element=b(a);this.options=c;this.gesture="";this.touchStartTriggered=!1;this.touchEndPointY=this.touchEndPointX=this.touchStartPointY=this.touchStartPointX=0;this.init()};a.prototype={init:function(){this.settings=b.extend({},k,this.options);this.$element.on("touchstart",this.touchStart.bind(this)).on("touchmove",this.touchMove.bind(this)).on("touchend",this.touchEnd.bind(this))},touchStart:function(a){a=a.originalEvent.changedTouches[0];
this.touchStartPointX=a.pageX;this.touchStartPointY=a.pageY;this.touchStartTriggered=!0},touchMove:function(a){var d=a.originalEvent.changedTouches;if(1===d.length){this.touchEndPointX=d[0].pageX-this.touchStartPointX;this.touchEndPointY=d[0].pageY-this.touchStartPointY;g.push(Math.abs(this.touchEndPointX));c.push(Math.abs(this.touchEndPointY));d=this.averageDistanceTravelled(g);var e=this.averageDistanceTravelled(c);this.gesture=10<d&&10>e?0>this.touchEndPointX?"swipeLeft":"swipeRight":0>this.touchEndPointY?
"swipeUp":"swipeDown"}-1<b.inArray(this.gesture,this.settings.preventMove)&&a.preventDefault()},touchEnd:function(){this.touchStartTriggered&&(this.touchStartTriggered=!1,this.touchEndPointX===this.touchStartPointX&&this.touchEndPointY===this.touchStartPointY&&(this.gesture="tap"),this.gesture&&(this.$element.trigger(this.gesture,[this]),this.gesture="",g=[],c=[]))},averageDistanceTravelled:function(a){return a.reduce(function(b,c){return(b+c)/a.length})}};b.fn.touchEvents=function(b){if(e.touch)return this.each(function(){new a(this,
b)})}})(mini.digital.$,Modernizr);(function(b){b.fn.removeClassRegex=function(e){return b(this).removeClass(function(b,g){return(g.match(e)||[]).join(" ")})}})(mini.digital.$);
(function(b,e,k){var g=function(c,a){this.$elem=e(c);this.$numberContainer={};this.options=a;this.settings={};this.digits=[];this.number=0;this.transitionend=b.transitionEndEvent;this.init.apply(this)};g.prototype={defaults:{digitPlaces:2,selectors:{numberContainer:".md-nsf-container",numberDigit:".md-nsf-digit",numberFlipCard:".md-nsf-card",numberDigitTop:".md-nsf-digit-top",numberDigitBottom:".md-nsf-digit-bottom",numberDigitText:".md-nsf-digit-text",numberDigitTopText:".md-nsf-digit-top .md-nsf-digit-text",
numberDigitBottomText:".md-nsf-digit-bottom .md-nsf-digit-text",numberFlipCardFront:".md-nsf-card-front",numberFlipCardBack:".md-nsf-card-back",numberFlipCardFrontText:".md-nsf-card-front .md-nsf-digit-text",numberFlipCardBackText:".md-nsf-card-back .md-nsf-digit-text",numberFlipCardActive:".md-nsf-flip"},cssClass:{screenReader:"md-nsf-screenreader-digit",play:"md-nsf-play"}},createDigits:function(){var b='\x3cdiv class\x3d"'+this.settings.selectors.numberContainer.substr(1)+'"\x3e\x3c/div\x3e';var a=
'\x3cdiv class\x3d"'+this.settings.selectors.numberDigit.substr(1)+'" aria-hidden\x3d"true"\x3e',d='\x3cdiv class\x3d"'+this.settings.cssClass.screenReader+'"\x3e0\x3c/div\x3e';a+='\x3cdiv class\x3d"'+this.settings.selectors.numberDigitTop.substr(1)+'"\x3e';a+='\x3cdiv class\x3d"'+this.settings.selectors.numberDigitText.substr(1)+'"\x3e0\x3c/div\x3e';a=a+"\x3c/div\x3e"+('\x3cdiv class\x3d"'+this.settings.selectors.numberDigitBottom.substr(1)+'"\x3e');a+='\x3cdiv class\x3d"'+this.settings.selectors.numberDigitText.substr(1)+
'"\x3e0\x3c/div\x3e';a=a+"\x3c/div\x3e"+('\x3cdiv class\x3d"'+this.settings.selectors.numberFlipCard.substr(1)+'"\x3e');a+='\x3cdiv class\x3d"'+this.settings.selectors.numberFlipCardFront.substr(1)+'"\x3e';a+='\x3cdiv class\x3d"'+this.settings.selectors.numberDigitText.substr(1)+'"\x3e0\x3c/div\x3e';a=a+"\x3c/div\x3e"+('\x3cdiv class\x3d"'+this.settings.selectors.numberFlipCardBack.substr(1)+'"\x3e');a+='\x3cdiv class\x3d"'+this.settings.selectors.numberDigitText.substr(1)+'"\x3e1\x3c/div\x3e';a+=
"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e";this.$numberContainer=e(b).appendTo(this.$elem);for(var f=0;f<this.settings.digitPlaces;f++)b=e(a),this.digits.push({$sandbox:b,$flipCard:b.find(this.settings.selectors.numberFlipCard),$cardFrontText:b.find(this.settings.selectors.numberFlipCardFrontText),$cardBackText:b.find(this.settings.selectors.numberFlipCardBackText),$digitTopText:b.find(this.settings.selectors.numberDigitTopText),$digitBottomText:b.find(this.settings.selectors.numberDigitBottomText),number:0,
target:0,isFlipping:!1,hideCheckTimer:null}),this.$numberContainer.prepend(this.digits[f].$sandbox);this.$screenReader=e(d).prependTo(this.$numberContainer)},flipCard:function(b){var a=this,c=e.Deferred(),f=e.Deferred();if(window.Modernizr.csstransitions&&b.$sandbox.is(":visible"))b.$sandbox.one(a.transitionend,f.resolve);else window.setTimeout(f.resolve,30);b.$sandbox.addClass(a.settings.cssClass.play);window.setTimeout(function(){b.$digitTopText.text(b.number);b.$flipCard.addClass(a.settings.selectors.numberFlipCardActive.substr(1))},
20);f.promise().done(function(){b.$digitBottomText.text(b.number);window.setTimeout(function(){b.$sandbox.removeClass(a.settings.cssClass.play);window.setTimeout(function(){b.$flipCard.removeClass(a.settings.selectors.numberFlipCardActive.substr(1));window.setTimeout(c.resolve,0)},0)},20)});return e.when(f,c)},incrementDigit:function(b){var a=this;b.number!==b.target?(b.isFlipping=!0,b.$cardFrontText.text(b.number),b.number=9===b.number?0:b.number+1,b.$cardBackText.text(b.number),this.flipCard(b).done(function(){a.incrementDigit(b)})):
b.isFlipping=!1},setNumber:function(b){var a=this;if(isNaN(b)||0>b)return!1;b=Math.floor(b);this.$screenReader.text(b);e.each(this.digits,function(c,f){f.target=b%10;f.isFlipping&&null!==f.hideCheckTimer||(a.startFixLoop(f),a.incrementDigit(f));b=Math.floor(b/10)})},startFixLoop:function(b){var a=this;b.hideCheckTimer=window.setInterval(function(){!b.$sandbox.is(":visible")&&b.isFlipping&&(window.clearInterval(b.hideCheckTimer),b.hideCheckTimer=null,a.fixDigit(b));b.number===b.target&&(window.clearInterval(b.hideCheckTimer),
b.hideCheckTimer=null)},10)},fixDigit:function(b){b.$sandbox.off(this.transitionend);b.$sandbox.removeClass(this.settings.cssClass.play);b.$flipCard.removeClass(this.settings.selectors.numberFlipCardActive.substr(1));b.number=b.target;b.$digitTopText.text(b.number);b.$digitBottomText.text(b.number);b.$cardFrontText.text(b.number);b.$cardBackText.text(b.number+1);b.isFlipping=!1},init:function(){this.settings=e.extend({},this.defaults,this.options);this.createDigits()}};e.fn.numberSplitFlap=function(b){return this.each(function(){e.data(this,
"numberSplitFlap")||e.data(this,"numberSplitFlap",new g(this,b))})}})(mini.digital.util,mini.digital.$);
(function(b,e,k,g,c){var a,d=function(b,d,n){function f(){x.$viewport.each(function(a){var b=x.$viewport.eq(a).parent().width();x.$carousel.eq(a).width(b)})}function h(a,b,d){if(a!==c){b||x.$viewport.addClass("md-is-loading");if(!d){var f={type:"GET",url:B.urls[a],timeout:B.ajaxTimeout,error:function(a,b,c){console.log('WARN: ajaxCarousel.getSlide: ajax-call returned error "'+b+'" using call settings:',f)}};C[a]=C[a]||e.ajax(f).then(function(a){var b=[a];a&&"function"===typeof B.beforeLoad&&(b=B.beforeLoad(a));
return b}).then(function(b){b=l(a,b);var c=h(a);w(a,c);"function"===typeof B.afterLoad&&B.afterLoad(b);return b})}if(C[a])return C[a].then(function(a){x.$viewport.removeClass("md-is-loading");return a})}}function l(a,b){var c=e([]),d=t(a),f="number"===typeof d?h(d):!1;x.$carousel.each(function(g){var h=x.$carousel.eq(g),l=e(z.slide).html(b?b[g]||"":"");f?f.then(function(b){l[d<a?"insertAfter":"insertBefore"](b.eq(g))}):l.appendTo(h);c=c.add(l)});return c}function t(a){var b=C.length,c=function(c){for(var d=
a+c;0<=d&&d<=b;d+=c)if(C[d])return d;return!1};return c(1)||c(-1)}function r(a,b){h(a).then(function(a){x.$carousel.each(function(c){var d=a.eq(c),f=g.prefixed("transform");d.length&&x.$carousel.eq(c).toggleClass("md-is-animate",b).css(f,"translateX("+-1*d.position().left+"px)")})})}function v(a){var b=h(a,!1,!0);b&&w(a,b)}function w(a,b){b.then(function(b){-1<A.indexOf(a)?b.removeClass(y):b.addClass(y)})}var x=this,u="md-"+d,y=u+"-item-hide",B=e.extend({},x.defaults,n),z={viewport:'\x3cdiv class\x3d"'+
u+'" /\x3e',carousel:'\x3cul class\x3d"'+u+'-items" /\x3e',slide:'\x3cli class\x3d"'+u+'-item" /\x3e'},C=[],A=[],D;x.slideTo=function(a,b){if(x.$carousel){b===c&&(b=!0);var d=h(a);d&&d.then(function(){r(a,b);x.currSlide=a;var d=A.indexOf(x.currSlide);x.$nav.toggle(1<A.length);x.$next.prop("disabled",A[d+1]===c);x.$prev.prop("disabled",A[d-1]===c);h(A[A.indexOf(a)+1],!0)})}};x.updateActive=function(a){var b=x.currSlide;A=a;e.each(C,v);-1===A.indexOf(b)&&(b=A[0]);x.$nav.hide();x.slideTo(b,!1)};(function(){x.currSlide=
0;A=B.active.length?B.active:B.urls.map(function(a,b){return b});D=B.defaultSlide||A[0];x.$nav=e('\x3cdiv class\x3d"'+u+'-nav" /\x3e');x.$next=e('\x3cbutton type\x3d"button" class\x3d"'+u+'-next" title\x3d"'+B.i18n.next+'" /\x3e');x.$prev=e('\x3cbutton type\x3d"button" class\x3d"'+u+'-prev" title\x3d"'+B.i18n.prev+'" /\x3e');x.$buttons=x.$prev.add(x.$next);x.$viewport=e([]);x.$carousel=e([]);b.each(function(a){var c=b.eq(a);x.$viewport=x.$viewport.add(e(z.viewport).appendTo(c));x.$carousel=x.$carousel.add(e(z.carousel).appendTo(x.$viewport.eq(a)))});
0<B.urls.length&&(x.$nav.append(x.$buttons).appendTo(x.$viewport.eq(B.navContainer)),x.$buttons.on("click."+d,function(a){a=a.currentTarget===x.$next[0];a=A.indexOf(x.currSlide)+(a?1:-1);x.slideTo(A[a])}));f();a.on("resize."+d+" orientationchange."+d,k.throttle(function(){f();r(x.currSlide,!1)}));x.slideTo(D,!1)})()};d.prototype.defaults={urls:[],active:[],defaultSlide:0,beforeLoad:c,afterLoad:c,navContainer:0,ajaxTimeout:3E4,i18n:{next:"Next",prev:"Previous"}};e.fn.ajaxCarousel=function(c){var f=
this.data("ajaxcarousel");a=a||e(b);return f?this:this.data("ajaxcarousel",new d(this,"ajaxcarousel",c))}})(window,mini.digital.$,mini.digital.util,Modernizr);(function(b){b.loadImage=function(e){return b.Deferred(function(b){function g(){c.onload=null;c.onerror=null;c.onabort=null;b.reject(c)}var c=new Image;c.onload=function(){c.onload=null;c.onerror=null;c.onabort=null;b.resolve(c)};c.onerror=g;c.onabort=g;c.src=e}).promise()}})(mini.digital.$);
(function(b,e,k){var g=function(c,a,d){this.$elem=b(c);this.$toggleLink={};this.$veil={};this.options=a;this.settings={};this.metadata=this.$elem.data("plugin-options");this.uniqueId=Math.floor(Math.random()*(new Date).getTime());this.disableEvents=this.initialized=!1;this.scrollSpeed=300;this.parent=d;this.parent||(this.parent=b("body"));this.cssClass={veil:"md-pagesplit-veil",visible:"md-visible",enabled:"md-enabled",after:"md-after",before:"md-before"};this.events={clickVeil:"click.click-veil",
clickToggleLink:"click.click-toggle-pagesplit",close:"md:pagesplit:close",closeNoScroll:"md:pagesplit:close:noscroll",heightChange:"md:pagesplit:height:change",resize:"md:resize"};this.$elem.attr("data-debug-id",this.uniqueId);this.init.apply(this)};g.prototype={defaults:{open:!1,scrollIntoView:!0,veil:!1,closeSiblings:!0,closeChildren:!0,direction:"both",toggleLink:"",classAnimate:"md-open",classEnabled:"md-active",key:"",level:0},getScrollPosition:function(c,a,d){switch(c){case "up":c=a+d-b(k).height();
break;case "both":c=a+d/2-b(k).height()/2;d>=b(k).height()&&(c=a);break;default:c=a}return c},setScrollPosition:function(c){b("html, body").animate({scrollTop:c},this.scrollSpeed)},getHeightAndOffset:function(c){c=b(c);return{height:c.children().height(),top:c.offset().top}},createVeil:function(){var c=b("."+this.cssClass.veil);if(0===c.length){switch(this.settings.direction){case "up":c=b('\x3cdiv class\x3d"'+this.cssClass.veil+" "+this.cssClass.before+'"\x3e\x3c/div\x3e');break;case "down":c=b('\x3cdiv class\x3d"'+
this.cssClass.veil+" "+this.cssClass.after+'"\x3e\x3c/div\x3e');break;case "both":c=b('\x3cdiv class\x3d"'+this.cssClass.veil+" "+this.cssClass.before+'"\x3e\x3c/div\x3e\x3cdiv class\x3d"'+this.cssClass.veil+" "+this.cssClass.after+'"\x3e\x3c/div\x3e')}b(this.parent).prepend(c)}this.$veil=c},setVeilLayout:function(){var c=this.getHeightAndOffset(this.$elem),a=this.$veil.filter("."+this.cssClass.after);this.$veil.filter("."+this.cssClass.before).css({height:c.top});0<a.length&&a.css({height:b(this.parent).height()-
(c.top+c.height),top:c.top+c.height})},closeNoScroll:function(){this.hideVeil();this.$elem.one(e,this.onHideComplete.bind(this)).removeClass(this.settings.classAnimate);this.$toggleLink.removeClass(this.settings.classEnabled);this.settings.open=!1},hideVeil:function(){var b=this;this.$veil.hasClass(b.cssClass.enabled)&&this.$veil.on(e,function(){b.$veil.off(e).removeClass(b.cssClass.visible+" "+b.cssClass.enabled).removeAttr("style")}).removeClass(this.cssClass.enabled)},showVeil:function(){var b=
this;this.setVeilLayout();this.$veil.addClass(this.cssClass.visible+" "+this.cssClass.enabled).off(this.events.clickVeil).one(this.events.clickVeil,function(a){b.settings.open=!1;b.hideComponent.call(b,a);b.hideVeil.call(b,a)})},onHideComplete:function(){this.settings.veil&&this.setVeilLayout();this.settings.key&&!this.disableEvents&&b.publish(this.settings.closeChildren?this.events.close:this.events.heightChange,[{key:this.settings.key,level:this.settings.level,uniqueId:this.uniqueId}]);this.disableEvents=
!1},onShowComplete:function(){this.settings.veil&&this.setVeilLayout();""!==this.settings.key&&b.publish(this.events.heightChange,[{key:this.settings.key,level:this.settings.level,uniqueId:this.uniqueId}])},toggleComponent:function(b){this.$elem.one(e,b?this.onShowComplete.bind(this):this.onHideComplete.bind(this)).toggleClass(this.settings.classAnimate,b);this.$toggleLink.toggleClass(this.settings.classEnabled,b);if(this.settings.scrollIntoView&&(b||!b&&this.initialized&&!this.disableEvents)){var a=
b?this.settings.direction:"both";b=this.getHeightAndOffset(this.$elem);b=this.getScrollPosition(a,b.top,b.height);this.setScrollPosition(b)}},hideComponent:function(){this.toggleComponent(!1)},showComponent:function(){this.toggleComponent(!0);this.settings.closeSiblings&&""!==this.settings.key&&b.publish(this.events.close,[{key:this.settings.key,level:this.settings.level,uniqueId:this.uniqueId}])},subHeightChanged:function(b){this.settings.open&&this.settings.veil&&b.uniqueId!==this.uniqueId&&b.key===
this.settings.key&&b.level>this.settings.level&&this.setVeilLayout()},subClose:function(b){this.settings.open&&b.uniqueId!==this.uniqueId&&b.key===this.settings.key&&(b.level<=this.settings.level?(this.disableEvents=!0,this.settings.open=!1,this.hideComponent()):this.settings.veil&&this.setVeilLayout())},subResize:function(){this.settings.open&&this.settings.veil&&(this.settings.open=!1,this.setVeilLayout(),this.$veil.attr("style",""))},manageState:function(){this[this.settings.open?"showComponent":
"hideComponent"]();if(this.settings.veil)this[this.settings.open?"showVeil":"hideVeil"]()},clickToggle:function(b){this.settings.open=!this.settings.open;this.manageState();b.preventDefault()},initEvents:function(){this.$toggleLink.on(this.events.clickToggleLink,this.clickToggle.bind(this));b.subscribe(this.events.resize,this.subResize.bind(this));b.subscribe(this.events.closeNoScroll,this.closeNoScroll.bind(this));this.settings.closeSiblings&&""!==this.settings.level&&b.subscribe(this.events.close,
this.subClose.bind(this));""!==this.settings.level&&b.subscribe(this.events.heightChange,this.subHeightChanged.bind(this));return this},setDefaults:function(){this.$toggleLink=this.settings.toggleLink instanceof b?this.settings.toggleLink:b(this.settings.toggleLink)},destroy:function(){this.$toggleLink.off(this.events.clickToggleLink).removeClass(this.settings.classEnabled);this.$elem.removeClass(this.settings.classAnimate).off(e);this.settings.veil&&this.$veil.removeClass(this.cssClass.visible+" "+
this.cssClass.enabled).attr("style","");b.unsubscribe(this.events.resize,this.subResize.bind(this));this.settings.closeSiblings&&""!==this.settings.level&&b.unsubscribe(this.events.close,this.subClose.bind(this));""!==this.settings.level&&b.unsubscribe(this.events.heightChange,this.subHeightChanged.bind(this));b.removeData(this.$elem[0],"pagesplit")},init:function(){this.settings=b.extend({},this.defaults,this.options,this.metadata);this.setDefaults();this.initEvents();this.settings.veil&&this.createVeil();
this.manageState();this.initialized=!0}};b.fn.pagesplit=function(c,a){return this.each(function(){b.data(this,"pagesplit")||b.data(this,"pagesplit",new g(this,c,a))})}})(mini.digital.$,mini.digital.util.transitionEndEvent,window);
(function(b,e){e.attempt=function(e,g){if("string"===typeof e){b.console=b.console||{error:function(){}};var c=e.split(".").reduce(function(a,b){if(a&&a[b])return a[b]},g||b);return function(){try{c&&c.apply(this,arguments)}catch(a){b.console&&b.console.error&&b.console.error(e,a.stack||a.toString())}}}}})(window,mini.digital.util);
(function(b){b.browser=function(){var b=window.navigator.userAgent,k="iPhone;android;blackberry;nokia;opera mini;windows mobile;windows phone;iemobile;ipad".split(";"),g=function(a){return-1<a.indexOf("MSIE ")||-1<a.indexOf("Trident/")}(b),c=-1<b.indexOf("SAMSUNG "),a=-1<b.indexOf("iPhone"),d=function(a){if(-1<a.indexOf("iPhone")||-1<a.indexOf("SAMSUNG "))return!0;for(var b=0;b<k.length;b++)if(0<a.toLowerCase().indexOf(k[b].toLowerCase()))return!0;return!1}(b);b=0<b.toLowerCase().indexOf("ipad")?
!0:!1;return{isIE:g,isSamsung:c,isIPhone:a,isMobile:d,isIPad:b}}()})(mini.digital.util);
(function(b,e,k,g){b.overlay=function(){function b(a,b){q=d.hasClass("md-no-scroll");if((m=f.height()<=h.height()&&!q)||q)return!0;b=b||a;n=f.scrollTop();d.addClass("md-no-scroll");d.find(".md-header, .md-main, .md-footer").css("top",-n+1);b.addClass("md-scroll");return!1}function a(a,b){q=!d.hasClass("md-no-scroll");if(m||q)return q=!1,!0;b=b||a;d.removeClass("md-no-scroll");d.find(".md-header, .md-main, .md-footer").css("top",0);k.touch&&(d.find(".md-main").css("position",""),g.isIPhone||g.isMobile)&&
(d.find(".md-footer").css("position",""),d.find(".md-header").css("position",""));b.removeClass("md-scroll");f.scrollTop(n);return!1}var d=e("html"),f=e(document),h=e(window),n=0,m,q=!1;return{disableScrollBehind:function(a,c){if(!b(a,c)&&k.touch){d.find(".md-main").css("position","fixed");if(g.isIPhone){d.find(".md-footer").css("position","fixed");c=e(".md-navigation");var f=e(".md-custom-overlay-veil.md-visible");c.css("display","none");f.css("opacity","1")}a.on("blur.util.overlay",":input",function(){})}},
enableScrollBehind:function(b,c){!a(b,c)&&(k.touch||b.off("blur.util.overlay",":input"),k.touch&&(d.find(".md-main").css("position",""),g.isIPhone||g.isMobile))&&(d.find(".md-footer").css("position",""),d.find(".md-header").css("position",""),b=e(".md-navigation"),c=e(".md-custom-overlay-veil.md-visible"),b.css("display","block"),c.css("opacity","0.8"),g.isMobile&&!g.isIPhone&&f.scrollTop(n))},disableScrollBehindBase:b,enableScrollBehindBase:a,isOpen:function(){return d.hasClass("md-no-scroll")}}}()})(mini.digital.util,
mini.digital.$,Modernizr,mini.digital.util.browser);(function(b,e){e.throttle=function(e,g){var c,a=g?"setTimeout":"requestAnimationFrame";return function(){var d=this,f=arguments;c||(c=b[a](function(){e.apply(d,f);c=null},g))}}})(window,mini.digital.util);
(function(){mini.digital.util.cookiecontroller=function(b,e){e="undefined"!==typeof e?e:{};return{api:e.api||{},checkPresentAndInit:function(k){var g=this,c=!1,a=k||b.Deferred();e.api&&e.api.isInitialized&&(c=e.api.isInitialized());c?a.resolve(!0):(window.epaas&&window.epaas.api||window).addEventListener("consentcontroller.api.initialized",function(){g.api=window.consentcontroller.api;e=window.consentcontroller;a.resolve(!0)});if(!k)return a.promise()},acceptCookies:function(){e.api.setRegulationAccepted()},
rejectCookies:function(){e.api.setRegulationRejected()},getCookiesAllowed:function(){if(e.api)if(this.api&&this.api.getPersistence&&this.api.setPersistence&&this.api.deletePersistence)if(this.api.setPersistence("cc_digital_testCookie","true"),"true"===this.api.getPersistence("cc_digital_testCookie")){this.api.deletePersistence("cc_digital_testCookie");var b=!0}else b=!1;else b=!1;else b=!1;return b},isUsageAllowed:function(b){return this.api.isUsageAllowed&&this.api.isUsageAllowed(b)},getPersistence:function(b){return this.api.getPersistence?
this.api.getPersistence(b):null},setPersistence:function(b,e){this.api.setPersistence&&this.api.setPersistence(b,e)},deletePersistence:function(b,e){this.api.deletePersistence&&this.api.deletePersistence(b,e)},registerOnConsentChange:function(b){this.api.registerOnConsentChange&&this.api.registerOnConsentChange(b)},registerOnInitialized:function(b){this.api.registerOnInitialized&&this.api.registerOnInitialized(b)},isEnabled:function(){return!!e.api}}}(mini.digital.$,window.consentcontroller)})();
(function(b,e){e.getContentUrl=function(e,g){g=g||"main";return(e||"").replace(/(\..+)?\.html(.+)?/,function(){return"/_jcr_content/"+g+".html"+b.location.search})}})(window,mini.digital.util);
(function(b,e,k){var g={},c,a,d={},f=[],h=!0;mini.digital.util.cpiPageManager=function(){function n(){0!==b(".md-cpi-loading-indicator").length||b(".md-page-carousel-wrapper").length?d=b(".md-page-carousel-wrapper").find(".md-page-loading-indicator"):(y.prepend('\x3cspan class\x3d"md-cpi-loading-indicator"\x3e\x3cspan class\x3d"md-icn-loader"\x3e\x3c/span\x3e\x3c/span\x3e'),d=b(".md-cpi-loading-indicator"))}function m(a){h&&d.toggleClass("md-is-active",!0===a)}function q(a,c){var d=b.Deferred();a=
e.getContentUrl(a,"main/contentwrapperforcpi");m(!0);g[c]?(m(!1),d.resolve(g[c])):0===a.length?(m(!1),d.reject()):(b.publish("md:cs-carousel:stop",[!0]),e.request.get(a,"html").then(function(a){a=b(a).html();g[c]=a;m(!1);b.publish("md:cs-carousel:stop",[!1]);d.resolve(a)}));return d.promise()}function l(a){b.publish("md:image:update");imagesLoaded(a).on("always",function(){b.publish("md:ajax:imagesLoaded");e.lazyLoadImage.checkImages();b.publish("md:image:update")})}function t(){q(a.url,a.code).then(function(c){function d(a,
b,c){a.html(b).attr("data-content-code",c);n();e.initialise(a[0]);l(a)}e.teardown(y[0]);var f=r(),g=b(c).find(".md-stickynavigation");f?0<g.length?(g=g.parent(),c=b(g.nextAll()),mini.digital.comp.stickynavigation.dom.updateNavigationAndCarouselContent(g,c,a.url),l(c)):(mini.digital.comp.stickynavigation.dom.removeNavigation(),d(y,c,a.code)):d(y,c,a.code);b.publish("md:cpi:content:loaded",[{contentUrl:a.url}])})}function r(){var a=b(".md-stickynavigation"),c=k;a&&0<a.length&&(c=b(a[0]).find("li"));
return c&&0<c.length}function v(b){a={code:b.modelCode||b.modelRangeCode,url:b.url};if(a.url!==k&&""!==a.url){b=g[a.code]?0:1E3;var d=e.currentModel.get(),f=e.currentModel.history();if(d.modelRangeCode!==f.modelRangeCode||d.modelCode!==f.modelCode)c&&(clearTimeout(c),c=null),c=setTimeout(t,b)}}function w(a){var c=a.find(".md-cpi-data");c.each(function(a){b.publish("md:cpi:data",[c.eq(a).data("cpi-data-type"),JSON.parse(c.eq(a).html())])})}function x(){h=!1;B.fadeOut(1E3)}function u(){h=!0;B.fadeIn(600,
"swing",function(){window.dispatchEvent(new Event("resize"))})}var y,B;return{init:function(a){y=a;B=b(document).find(".md-cpiwrapper-area");f.push(b.subscribe("md:currentModel:changed",v));f.push(b.subscribe("md:cpi:content:loaded",w(y)));f.push(b.subscribe("md:page-content:updated",w));f.push(b.subscribe("md:configurator:initialised",x));f.push(b.subscribe("md:configurator:unload",u));n(y);w(y)},teardown:function(){e.unsubArray(f)}}}()})(mini.digital.$,mini.digital.util);
(function(b){mini.digital.util.transitionEndEvent={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",msTransition:"MSTransitionEnd",transition:"transitionend"}[b.prefixed("transition")]})(Modernizr);
(function(){mini.digital.util.googlemaps=function(){var b=[],e=!1;return{loadGoogleMaps:function(k){window.google&&window.google.maps&&window.google.maps.Map?k():(b.push(k),e||(e=!0,k=document.createElement("script"),k.type="text/javascript",k.src="https://maps.googleapis.com/maps/api/js?v\x3d3.exp\x26callback\x3dmini.digital.util.googlemaps.apiLoaded",document.body.appendChild(k)))},apiLoaded:function(){for(;b.length;)b.pop()()}}}()})();
(function(b,e,k){k.initialise=function(g){e.publish("md:componentInitializer:init",[g]);var c=e(g);g=c.find(".md-component[data-component-name]");var a=c.find(".md-js-toggle:not(.md-component-defer)"),d=c.find(".md-drag-reveal"),f=c.find(".md-js-lightbox"),h=c.find(".md-rimage"),n=c.find(".md-cpi-area"),m=c.find(".md-price-finance"),q=c.find(".md-js-detail-overlay"),l=c.find(".md-disclaimer-btn"),t=c.find('a[href^\x3d"#"]');c=c.find(".md-ri-image");var r={};digital&&digital.tracking&&(r=digital.tracking.getInstance(window.dataLayer));
k.attempt("parentClass.init",k)(g);e.each(g,function(a,c){a=e(c);var d=a.data("component-name");a.closest(".md-component-defer").length||a.data("component-path")||(k.attempt(d+".init",b.comp)(c,document,e,r),r&&"function"==typeof r.isTrackingDisabled&&a.data("tracking-component")&&!r.isTrackingDisabled()&&r.initComponentTracking(a))});e.each(f,function(a,b){k.attempt("lightbox.init",k)(b)});e.each(a,function(a,b){k.attempt("toggle.init",k)(b)});e.each(h,function(a,b){a=e(b);a.data("loader")||a.closest(".md-component-defer").length||
k.attempt("responsiveimage.init",k)(b)});e.each(q,function(a,b){k.attempt("itemdetailoverlay.init",k)(b)});e.each(l,function(a,b){k.attempt("disclaimerButton.init",k)(b)});e.each(t,function(a,b){k.attempt("anchorButton.init",k)(b)});e.each(c,function(a,b){k.attempt("lazyLoadImage.init",k)(b)});d.length&&k.attempt("dragReveal.init",k)(d);n.length&&k.attempt("cpiPageManager.init",k)(n);e.each(m,function(a,b){m.eq(a).find(".md-sf-snippet").length&&k.attempt("priceFinance.init",k)(b)})}})(mini.digital,
mini.digital.$,mini.digital.util);
(function(b){mini.digital.tracking.cpiPageManager=function(){function e(a){a=k(a);var b=g.getCurrentPageIndex();0<b&&g.closeVirtualPage(b);if(a)try{g.addVirtualPage(a.pageObj)}catch(f){console.log(f)}}function k(a){if(a.contentUrl)return c[a.contentUrl]=c[a.contentUrl]||{pageObj:window.dataLayer&&window.dataLayer.pages[0]||{},isBase:a.isBase||!1},c[a.contentUrl]}var g={},c={};return{init:function(){var a=window.dataLayer||{};(g=b.isEmptyObject(a)?!1:digital.tracking.getInstance(a))&&!g.isTrackingDisabled()&&
(b.subscribe("md:cpi:content:loaded",e),b.subscribe("md:cpi:content:updated",e),b(".md-page-carousel-wrapper").length&&k({contentUrl:window.location.pathname,isBase:!0}))}}}()})(mini.digital.$);
(function(b,e){e.tracking=function(){function e(){var a="";b.subscribe("md:mymini:userAccount:change",function(b){a=b.mail;"function"===typeof c.updateUser&&c.updateUser(a,!0,!0)})}function g(){function a(a){q=0<b(a.overlayContent).find(".md-custom-overlay-tracking").length;if(!q)try{var d=b.extend(!0,{},window.dataLayer.pages[0]);k=c.addVirtualPage(d,null,document.location.href)}catch(r){console.log("failed",r)}g=b.subscribe("md:overlay:closed",f);b.unsubscribe(e)}function f(){q||(c&&"function"===
typeof c.closeVirtualPage&&c.closeVirtualPage(k.pageId),q=!1);b.unsubscribe(g);e=b.subscribe("md:overlay:contentLoaded",a)}var e={},g={},k={},q=!1;e=b.subscribe("md:overlay:contentLoaded",a)}var c={},a=!1;return{init:function(){a||(a=!0,null!=digital&&digital.tracking&&(c=digital.tracking.getInstance(window.dataLayer)),e(),g(),mini.digital.tracking.cpiPageManager&&mini.digital.tracking.cpiPageManager.init())}}}()})(mini.digital.$,mini.digital.util);
(function(b,e,k){k.teardown=function(g){var c=e(".md-component[data-component-name]",g),a=e(".md-js-toggle",g);g=e(".md-disclaimer-btn",g);e.each(c,function(a,c){a=e(c);a.closest(".md-component-defer").length||(a=a.data("component-name"),k.attempt(a+".teardown",b.comp)(c,document,e))});e.each(a,function(a,b){k.attempt("toggle.teardown",k)(b)});e.each(g,function(a,b){k.attempt("disclaimerButton.teardown",k)(b)})}})(mini.digital,mini.digital.$,mini.digital.util);
(function(b){mini.digital.util.lazyLoadScript=function(e){var k=b.Deferred(),g=document.createElement("script");if(b.isFunction(e.isLoaded)&&e.isLoaded())return k.resolve(),k.promise();g.readyState?g.onreadystatechange=function(){if("loaded"===g.readyState||"complete"===g.readyState)g.onreadystatechange=null,k.resolve()}:g.onload=function(){k.resolve()};g.src=e.url;document.body.appendChild(g);window.setTimeout(function(){k.reject()},1E4);return k.promise()};mini.digital.util.lazyLoadScriptMulti=
function(e){function k(){q++;q===f&&c.resolve()}function g(){for(var a;h[0]&&"loaded"===h[0].readyState;)a=h.shift(),a.onreadystatechange=null,n.parentNode.insertBefore(a,n),k()}var c=b.Deferred(),a=[],d=0,f=0,h=[],n=document.scripts[document.scripts.length-1],m="async"in n,q=0;a=function(a){for(var c=[],d,f=0,e=a.length;f<e;f++)d=a[f],b.isFunction(d.isLoaded)&&d.isLoaded()||c.push(d);return c}(e);if(f=a.length){for(;d<f;d++){e=a[d];var l=document.createElement("script");m?(l.async=!1,l.onload=k,
l.src=e.url,document.head.appendChild(l)):n.readyState?(h.push(l),l.onreadystatechange=g,l.src=e.url):(l.defer="defer",l.onload=k,l.src=e.url,document.body.appendChild(l))}window.setTimeout(function(){c.reject()},1E4)}else c.resolve();return c.promise()}})(mini.digital.$);
(function(b){mini.digital.util.lazyLoadCss=function(e){var k=b.Deferred(),g=document.createElement("link");if(b.isFunction(e.isLoaded)&&e.isLoaded())return k.resolve(),k.promise();g.readyState?g.onreadystatechange=function(){if("loaded"===g.readyState||"complete"===g.readyState)g.onreadystatechange=null,k.resolve()}:g.onload=function(){k.resolve()};g.href=e.url;g.rel="stylesheet";g.type="text/css";document.head.appendChild(g);window.setTimeout(function(){k.reject()},1E4);return k.promise()}})(mini.digital.$);
(function(b){function e(a){a=a[0].getBoundingClientRect();var b=0===a.left&&0===a.top&&0===a.right&&0===a.bottom,c=!b&&a.top-l.bottom<=(window.innerHeight||document.documentElement.clientHeight);return!b&&a.left<=(window.innerWidth||document.documentElement.clientWidth)&&c}function k(){b.publish("md:redraw:pageElements")}function g(c,f,e){imagesLoaded(document).on("done",k);-1===f.indexOf("srcset:")?d(c,f):(a(c,f,e),-1===b.inArray(c,r)&&r.push(c));c=b.inArray(c,t);-1!==c&&t.splice(c,1)}function c(a){var b=
a.parent(),c=b.outerWidth(!0);b.data("consider-img-width")&&(c=a.outerWidth(!0));return c}function a(a,b,e){var g=c(a);e&&(g=e);b=f(a,b);e=b.getSrc(g);b.loadedWidth=g;d(a,e);return e}function d(a,c){var d=!1;a.attr("src")!==c&&(a.load(function(c){b.publish("md:imageLoaded",[a])}),a.attr("src",c),d=!0);return d}function f(a,b){var c=a.data("imageSrcset");if(void 0!==c&&c.isSrc(b))return c;void 0===b&&(b=a.data("ri-src"));var d=n(b);c={getSrc:function(a){a=h(a,d.breakPointSpecs);a=d.imagesMap[a];void 0!==
d.imagesMap.pre&&(a=d.imagesMap.pre+a);return a},isSrc:function(a){return a==b}};a.data("imageSrcset",c);return c}function h(a,b){var c=b[0];"pre"===c&&(c=b[1]);for(var d=Math.abs(a-c),f=0;f<b.length;f++){var e=Math.abs(a-b[f]);e<d&&(d=e,c=b[f])}return c}function n(a){function b(a,b,c){var d=a,f=a.split(".");if(a&&a.indexOf(b,a.indexOf(".")))for(d=f[0],a=1;a<f.length;a++){var e=f[a];e===b&&(e=c);d=d+"."+e}return d}function c(a,b){var c=a;a&&-1!==a.indexOf(b)&&(c=a.substring(a.indexOf(b)+b.length,
a.length));return c}var d={},f=[];a=a.split(",");for(var e=0;e<a.length;e++){var g=c(a[e],"srcset:"),h=g.split(" ");if(-1!=g.indexOf("dam:")){g=c(h[0],"dam:");for(var l=1;l<h.length;l++){var k=h[l],m=b(g,"width",k);k=k.substring(0,k.indexOf("w"));d[k]=m;f.push(k)}}else g=h[1],-1!==g.indexOf("w")&&(g=g.substring(0,g.indexOf("w"))),d[g]=h[0],f.push(g)}return{imagesMap:d,breakPointSpecs:f}}function m(){for(var a,b=t.length;b--;)a=t[b],e(a)&&g(a,a.data("lazyload-source"))}function q(b){var d=f(b).loadedWidth,
e=c(b);(void 0===d||e>d)&&a(b)}var l={bottom:500},t=[],r=[];mini.digital.util.lazyLoadImage=function(a,c){if(mini.digital.util.lazyLoadImage.forceLoad||e(a))g(a,c);else{var d=b.inArray(a,t);a.data("lazyload-source",c);-1===d&&t.push(a)}};b.extend(mini.digital.util.lazyLoadImage,{init:function(a){a=b(a);var c=a.data("ri-src");void 0===c?log&&log.warn("can't initialize lazyload-image, 'data-ri-src' attribute is not set for image element",a):g(a,c)},forceLoad:!1,checkImages:function(){m();var a;for(a=
0;a<r.length;a++){var b=r[a];q(b)}},checkImagesOnScroll:m,checkImage:function(a){if(void 0!==a){var b=a.data("ri-src"),c=!1;b&&-1!==b.indexOf("srcset:")&&(c=!0);c&&q(a)}},loadImage:g,retrieveProperImageUrl:function(a,b){a=n(a);b=h(b,a.breakPointSpecs);if(a.imagesMap.pre){var c=""+a.imagesMap.pre;c+=a.imagesMap[b]}else c=a.imagesMap[b];return c}})})(mini.digital.$);
mini.digital.util.matchmedia=function(b){return b.forceWide?{wide:{matches:!0,media:"(min-width: 768px)",addListener:function(){},removeListener:function(){}},superwide:{matches:!1,media:"(min-width: 1280px)",addListener:function(){},removeListener:function(){}}}:{narrow401:window.matchMedia("(min-width: 401px)"),narrow480:window.matchMedia("(min-width: 480px)"),narrow601:window.matchMedia("(min-width: 601px)"),wide:window.matchMedia("(min-width: 768px)"),wide925:window.matchMedia("(min-width: 925px)"),
wide1024:window.matchMedia("(min-width: 1024px)"),wide1180:window.matchMedia("(min-width: 1180px)"),superwide:window.matchMedia("(min-width: 1280px)")}}(mini.digital.settings||{});mini.digital.util.parentClass=function(b){function e(e,g){e=b(g);e.parent().addClass(e.data("mdParentClass"));e.data("mdParentClass","")}return{init:function(b){b.find("[data-md-parent-class]").each(e)}}}(mini.digital.$);
(function(){mini.digital.util.request=function(b){return{get:function(e,k){return b.ajax({type:"GET",url:e,dataType:k})},post:function(e,k,g){return b.ajax({type:"POST",url:e,data:k,dataType:g})}}}(mini.digital.$)})();(function(b){b.prefixed&&(window.requestAnimationFrame=b.prefixed("requestAnimationFrame",window)||function(b){return window.setTimeout(b,10)},window.cancelAnimationFrame=b.prefixed("cancelAnimationFrame",window)||function(b){return window.clearTimeout(b)})})(Modernizr||{});
(function(){var b=["narrow","wide"];mini.digital.util.responsiveimage=function(e,k){function g(d){if(!d.hasClass("md-image")){var f=d.data("alt")||"",g=d.data("title"),n="small"===d.data("size");var m=k.matchmedia.wide.matches?b[1]:b[0];var q=d.data("src-"+m);var l=d.data("width-"+m);var t=d.data("height-"+m);n&&d.data("src-"+m+"-small")&&(q=d.data("src-"+m+"-small"));if(q)if(n=d.children(".md-rimage-bp-"+m),n.length)if(n.attr("data-ri-src")===q)k.lazyLoadImage.checkImage(n);else{for(var r=n.attr("class").split(" "),
v=0,w=0;w<r.length;w++)r[w].startsWith("md-rimage-bp-")&&v++;1===v?(n.attr("data-ri-src",q),c(n,q)):(n.removeClass("md-rimage-bp-"+m),l=a(q,f,m,g,l,t),d.append(l),c(l,q))}else n=d.children('img[data-ri-src\x3d"'+q+'"]'),n.length?(n.addClass("md-rimage-bp-"+m),k.lazyLoadImage.checkImage(n)):(l=a(q,f,m,g,l,t),d.append(l),c(l,q));else l=d.children(".md-rimage-bp-"+m),l.length&&l.remove();e.publish("md:responsiveImage:afterRefresh",[d])}}function c(a,b){var c=a.closest(".md-rimage-ll-enabled,.md-rimage-ll-disabled");
(c.length?c.is(".md-rimage-ll-enabled"):1)?k.lazyLoadImage(a,b):k.lazyLoadImage.loadImage(a,b)}function a(a,b,c,g,k,q){k=k||1280;q=q||k/4*3;var d=e("\x3cimg /\x3e");d.attr({"data-ri-src":a,alt:b,title:g,"class":"md-rimage-bp-"+c,src:"data:image/svg+xml;utf8,"+('\x3csvg height\x3d"'+q+'" width\x3d"'+k+'" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3c/svg\x3e')});return d}return{init:function(a){var b=e(a);b.hasClass("md-image")||(g(b),k.matchmedia.wide.addListener(function(){g(b)}))},refresh:g,lazyLoadImages:function(a){a.hasClass("md-image")||
a.find(".md-rimage img").each(function(){var a=e(this),b=a.data("ri-src");k.lazyLoadImage(a,b)})},changeSize:function(a,b){a.hasClass("md-image")||(a.data("size",b),g(a))}}}(mini.digital.$,mini.digital.util)})();
mini.digital.util.resize=function(b,e,k){var g,c=b(e).width(),a=b(e).height(),d=function(){void 0!==g&&e.clearTimeout(g);g=e.setTimeout(function(){if(b(e).width()!==c||b(e).height()!==a)c=b(e).width(),a=b(e).height(),b.publish("md:resize"),k.lazyLoadImage.checkImages()},250)};return{init:function(){b(e).on("resize.mini-resize orientationchange.mini-resize",d)}}}(mini.digital.$,window,mini.digital.util);
(function(b){mini.digital.util.scrollbarsize=function(){var e=b('\x3cdiv\x3e\x3cdiv style\x3d"height:101px;"\x3e\x3c/div\x3e\x3c/div\x3e').css({left:0,height:100,overflow:"scroll",position:"absolute",visibility:"hidden",top:-100,width:100});e.appendTo(b("body"));var k=e.width()-e.children("div").width();e.remove();return k}})(mini.digital.$);
mini.digital.util.scrolled=function(b,e,k){function g(){mini.digital.comp.configurator&&mini.digital.comp.configurator.isRunning()||(b.publish("md:scrolled"),k.lazyLoadImage.checkImagesOnScroll())}var c;b(e).on("scroll",function(){c&&(clearTimeout(c),c=null);c=setTimeout(g,250)})}(mini.digital.$,window,mini.digital.util);
(function(b){mini.digital.util.transitions={syncStart:function(e){function k(a,d){a=b(d);d=0;for(var f=g.length;d<f;d++){var e=g[d],h=a.css(e);a.css(e,h);c[e]=""}}for(var g,c={},a=0,d=e.length;a<d;a++){var f=e[a];g=f.props;f.els=b(f.selector);f.els.each(k)}window.setTimeout(function(){for(var a=0,b=e.length;a<b;a++){var d=e[a];g=d.props;d.els.css(c)}},0)}}})(mini.digital.$);
mini.digital.util.lightbox=function(b,e,k){function g(a){return(a=(a?a.substring(a.lastIndexOf("/")):"").match(/(\..+)\./))&&a[1]||""}function c(a){return(a=a?a.split(".html")[1]:"")&&a.split("?")[0]||""}function a(a){var b=e(a.overlayContent),c=b.find(".md-custom-overlay-header-title:first");b=b.parents(".md-custom-overlay-wrapper").find(".md-custom-overlay-title");a.requester.is(".md-js-lightbox")&&(e.unsubscribe(f),h=e.subscribe("md:overlay:closed",d),c.length&&(b.empty().append(c.clone()),c.remove()))}
function d(a){var b=e(a.overlayContent).find(".md-video-player");a.requester.is(".md-js-lightbox")&&(e.unsubscribe(h),k&&b.each(function(){var a=e(this).find(".jwplayer").attr("id");k(a).stop()}))}var f=null,h=null;return{init:function(b){var d=e(b);b=d.attr("class").match(/md-js-lightbox-type-[sml|lrg|med|steps|video]+/);b=null!==b?b[0].split("-")[4]:"sml";var h=d.attr("href");var l=g(h);var k=c(h);var n=window.location.search;if(l||k)if(h=h.substring(0,h.indexOf(".html")),h=h.replace(l,""),0<=k.indexOf("#")){var v=
k.substring(k.indexOf("#"),k.length);k=k.replace(v,"");h=h+"/_jcr_content/main"+l+".html"+k+n+v}else h=h+"/_jcr_content/main"+l+".html"+k+n;else h=h?h.replace(".html","")+"/_jcr_content/main.html"+n:"";d.overlay({ajax:!0,source:h,style:b,titleFromContent:!0,titleSelector:".heading"});d.off("click.click-overlay-request").on("click.click-overlay-request",function(b){f=e.subscribe("md:overlay:opened",a);d.data("overlay").toggleOverlay(b)})},teardown:function(a){e(a).off(".click-overlay-request")}}}(mini.digital.util,
mini.digital.$,"undefined"!==typeof jwplayer?jwplayer:null);
(function(b,e){e.angular=function(){return{isModuleAvailable:function(b,e){try{return e=e?e:angular,e.module(b),!0}catch(c){return!1}},isServiceAvailable:function(b,e,c){try{return c=c?c:angular,c.injector([b]).has(e)?!0:!1}catch(a){return!1}},injectEvent:function(b,e,c){var a;window.angular&&(a=angular.element(b).scope())&&(b=a.$root.$$phase,"$apply"===b||"$digest"===b?a.$root.$broadcast.apply(a.$root,[e].concat(c)):a.$root.$apply(function(){a.$root.$broadcast.apply(a.$root,[e].concat(c))}))},browserDecorator:function(b){b.onUrlChange=
function(b){return b};return b},locationDecorator:function(b,e){b.absUrl=function(){return e.url()};return b}}}()})(mini.digital.$,mini.digital.util);
mini.digital.util.vector=function(){function b(b,k){this.x=b||0;this.y=k||0}b.prototype.add=function(b){this.x+=b.x;this.y+=b.y;return this};b.prototype.sub=function(b){this.x-=b.x;this.y-=b.y;return this};b.prototype.mult=function(b){this.x*=b;this.y*=b;return this};b.prototype.div=function(b){this.x/=b;this.y/=b;return this};b.prototype.mag=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};b.prototype.equals=function(b){return this.x===b.x&&this.y===b.y};b.prototype.clone=function(){return new b(this.x,
this.y)};b.diff=function(e,k){return new b(e.x-k.x,e.y-k.y)};return b}();
(function(b,e){mini.digital.util.slider={core:function(k,g,c,a,d){var f=this,h=new b,n=new b,m,q,l,t,r=[],v=[],w=[],x,u=!1;f.elements=k;f.isPaused=!0;f.isDragging=!1;f.dimensions=new b;f.position=new b;f.$container=a;f.isVariableHeight=d?!!d.isVariableHeight:!1;var y=function(){f.isPaused||g(y);h.equals(n)||(m=+new Date,l=m-q,t=b.diff(h,n),q=m,n=h.clone(),0!==l&&(f.velocity=t.clone().div(l)));0!==f.velocity.mag()&&(v.forEach(function(a){a.applyTo(f)}),f.position.add(f.velocity.clone().mult(l)),f.notifyListeners())};
f.unpauseLoop=function(){f.isPaused=!1;g(y)};f.pauseLoop=function(){f.isPaused=!0};mini.digital.$(function(){u=!0});f.animateTo=function(a,d){var h,l=+new Date,k=f.position.clone(),n=a.clone().sub(k);f.velocity=new b;var q=f.getSlideIndex(a)+1,w=f.$container.parent().find(".md-gallery-item-copy").eq(q-1).find("h4").text().trim();u&&(q!=x&&f.notifySlideIndexUpdateListeners(q,w),x=q);var v=function(){if(!f.isDragging){m=+new Date;h=m-l;if(h<=d){var b=c(f,h,0,1,d);f.position=k.clone().add(n.clone().mult(b));
g(v)}else f.position=a.clone(),f.pauseLoop();f.isVariableHeight&&!e.wide.matches&&f.setHeightByPosition(f.position.x);f.notifyListeners()}};g(v)};f.onUpdate=function(a){r.push(a)};f.onSlideIndexUpdate=function(a){w.push(a)};f.addConstraint=function(a){v.push(a)};f.notifyListeners=function(){f.elements.forEach(function(a){a.notify(f.position,f.dimensions)});r.forEach(function(a){a(f.position,f.dimensions)})};f.notifySlideIndexUpdateListeners=function(a,b){w.forEach(function(c){c(a,b)})};f.start=function(a){f.isDragging=
!0;h=a;n=a.clone();q=+new Date;f.unpauseLoop()};f.move=function(a){f.isDragging&&(h=a)};f.end=function(){f.isDragging=!1};f.setDimensions=function(a){f.dimensions=a};f.prev=function(a){var c=f.dimensions.x*(Math.round(f.position.x/f.dimensions.x)+1);0>=c&&f.animateTo(new b(c,0),a)};f.next=function(a){var c=f.dimensions.x*(Math.round(f.position.x/f.dimensions.x)-1);c>-(f.elements.length*f.dimensions.x)&&f.animateTo(new b(c,0),a)};f.getSlide=function(a){a=isNaN(a)?f.getCurrentSlidePosition():a;return f.elements[a]};
f.getCurrentSlidePosition=function(){return f.getSlideIndex(f.position.x)};f.getSlideIndex=function(a){var b=f.elements.length*f.dimensions.x;a=!a||isNaN(a.x)?f.position.x:a.x;return Math.abs(Math.ceil(a/b*b/f.dimensions.x))};f.getNodeHeight=function(a){a=a||f.getSlide(0);var b=a.$node;b=(a="image"===a.type)?b.find("img"):b.find(".md-video-player");var c=b.outerHeight(),d=b.context.offsetHeight;return b.length?d>c&&a?d:c:""};f.setHeightByPosition=function(a){a=f.getSlideIndex(a);a=f.getSlide(a);a=
f.getNodeHeight(a||f.getSlide(0));f.$container.css("height",a)};f.jumpTo=function(a){f.position=a;f.notifyListeners();f.pauseLoop()}},constraints:{Decelerate:function(b,e){void 0===b&&(b=.01);void 0===e&&(e=0);this.applyTo=function(c){!c.isDragging&&c.velocity.mag()>e&&c.velocity.mult(1-b)}},Drag:function(b){void 0===b&&(b=.01);this.applyTo=function(e){e.isDragging&&e.velocity.mult(1-b)}},EdgeResistance:function(){this.applyTo=function(b){var e=b.position.x;var c=b.dimensions.x,a=c/2;0<e?(e=Math.pow(1-
e/a,1.7),b.velocity.mult(Math.min(Math.max(e,0),1))):(c=-c*(b.elements.length-1),e<c&&(e=Math.pow(1- -(e-c)/a,1.7),b.velocity.mult(Math.min(Math.max(e,0),1))))}},SnapToGrid:function(e,g,c){void 0===e&&(e=.25);void 0===g&&(g=.1);void 0===c&&(c=450);this.applyTo=function(a){if(!(a.isDragging||a.velocity.mag()>g)){var d=a.position.x,f=a.dimensions.x;if(0<d)return a.animateTo(new b(0,0),c);var h=-f*(a.elements.length-1);if(d<h)return a.animateTo(new b(h,0),c);h=Math.abs(d/f)%1;a.animateTo(new b(0<=a.velocity.x?
f*(Math.ceil(d/f)-Number(h>=1-e)):f*(Math.ceil(d/f)-Number(h>=e)),0),c)}}}}}})(mini.digital.util.vector,mini.digital.util.matchmedia);
(function(b){mini.digital.util.toggle=function(){function e(a){if(a.type&&(a=c.not(a.toggle).filter('[data-toggle-type\x3d"'+a.type+'"]').find('[value\x3d"'+a.value+'"]'),a.length)){var b="OPTION"===a[0].tagName?"selected":"checked";a.prop(b,!0).trigger("change",[!0])}}function k(a,c){if("INPUT"!==a.target.tagName||a.target.checked)a.data.length&&b(a.data).removeClass("md-is-active").filter("[for\x3d"+a.target.id+"]").addClass("md-is-active"),c||b.publish("md:toggle:update",[{originalEvent:a.originalEvent,
toggle:a.delegateTarget,value:a.target.value,type:b(a.delegateTarget).data("toggle-type")}])}var g=[],c=b([]);return{init:function(a){var d=b(a),f=d.find("label");d.on("click.toggle change.toggle",":input",f,k);setTimeout(function(){b.publish("md:toggle:init",[{toggle:a,value:d.find(":checked").val(),type:d.data("toggle-type")}])},1E3);c.length||g.push(b.subscribe("md:toggle:update",e));c=c.add(d)},teardown:function(a){b(a).off(".toggle");c=c.not(a);c.length||b.each(g,function(a,c){b.unsubscribe(c)})}}}()})(mini.digital.$);
(function(b,e){e.scrollTo=function(){function e(a,b,c){return a.stop().animate({scrollTop:b},c)}var g,c=0,a;return{init:function(){var a=0;b.subscribe("md:sn:positioned",function(b,d){(b="fixed"===b)&&(a=d);c+=b?a:-a;0>c&&(c=0)})},element:function(d,f,h){if(d.length){var k=f.step||b.noop,m=function(){g=c;e(a,d.offset().top-((h||0)+c),f)};f.done=function(){b.publish("scrollTo:complete",[d])};a=a||b("html, body");f.step=function(){k();c!==g&&m()};m()}},position:function(c,f,g){a=a||b("html, body");
return e(a,c,{duration:f,done:g})}}}()})(mini.digital.$,mini.digital.util);
(function(){mini.digital.util.finance=function(b,e){function k(){var a=e.Deferred();return e.when(b.lazyLoadScript(f.script)).then(function(){f.script.isLoaded=!0;return a.resolve()}).fail(function(){return a.reject()})}function g(){e.publish(h.initialised,[d]);d.isLoaded=!0}function c(){var a={mandatorContext:"mc;mandatorType\x3dcountry;brand\x3d"+d.brand+";market\x3d"+d.market+";country\x3d"+d.country+";locale\x3d"+d.locale,webappContext:"/finance",serverUrl:d.endpoint,theme:function(){return"mini-white"},
design:function(){return"Desktop"},appMode:"H5VC"};d&&d.bmwNameSpace&&d.bmwNameSpace.apps&&(d.SF=new d.bmwNameSpace.apps.html5.Html5App(a));d&&d.SF&&d.SF.start&&d.SF.start({},function(){d.isLoaded=!0;e.publish(h.initialised,[d])})}function a(){f.script.isLoading?f.script.isLoaded&&"function"===typeof d.SF.reinit&&d.SF.reinit({},g):(n=e("body"),!1!==n.data("md-finance-enabled")&&!0!==n.data("md-wcmmode")&&(f.script.isLoading=!0,d.endpoint=n.data("md-finance-endpoint"),d.market=n.data("md-finance-market"),
d.country=n.data("md-finance-country"),d.locale=n.data("md-finance-locale"),d.brand=n.data("md-finance-brand"),f.script.url=d.endpoint+d.app,f.css.url=d.endpoint+f.css.url,e.when(b.lazyLoadCss({url:f.css.url})),k().then(function(){"undefined"!==typeof window._com_bmw_sf&&(d.bmwNameSpace=_com_bmw_sf,d.bmwNameSpace.libs.angular.element(document).ready(c))})))}var d={SF:{},bmwNameSpace:{},app:"/finance/apps/html5-app.js",isLoaded:!1},f={script:{url:"/finance/apps/html5-app.js",isLoaded:!1,isLoading:!1},
css:{url:"/finance/apps/html5-mini-white-app.css",isLoaded:!1,isLoading:!1}},h={initialised:"md:finance:initialised"},n;return{init:a,getFinanceApp:function(){return d},reinitialise:function(){d.isLoaded?"function"===typeof d.SF.reinit&&d.SF.reinit({},g):a()}}}(mini.digital.util,mini.digital.$)})();
(function(b,e){b.financeDataMapping=function(){function b(a,d,f){var g=d,k,m,q,l,t;e.each(a,function(h){if("value"===a[h].type)q=a[h].src.split("."),l=f[q.shift()],e.each(q,function(a,b){l=l[b]}),d[a[h].dest]=l;else if("direct"===a[h].type)d[a[h].dest]=a[h].src;else if("object"===a[h].type)g=d[a[h].dest]={},k=f[a[h].src]?f[a[h].src]:f,(m=c(a[h],k))&&a[h].mapping&&b(a[h].mapping,g,k);else if("array"===a[h].type){g=d[a[h].dest]=[];k=f[a[h].src]?f[a[h].src]:f;for(var n=0;n<k.length;n++)(m=c(a[h],k[n]))&&
a[h].mapping&&(t={},g.push(t),b(a[h].mapping,t,k[n]))}})}function g(a){return void 0!==a&&null!==a}function c(a,b){return!a.condition||a.condition.notBlank&&!!b[a.condition.dest]||b[a.condition.dest]===a.condition.equals}return{mapData:function(a,c,f){b(a,c,f);if(void 0!==c&&null!==c)for(a=0;a<c.parameterValues.length;a++){var d=c.parameterValues[a].units;g(d)&&(f=void 0===d?!1:g(d.value)?!0:!1,f||(d.value=" "),g(d.language)&&(d.language=d.language.toUpperCase()))}},getFinanceToGcdmMapping:function(a){return[{dest:"code",
src:"productId",type:"value"},{dest:"calculationType",src:"productType",type:"value"},{dest:"financePayment",src:"rate.value",type:"value"},{dest:"lastChange",src:"timestamp",type:"value"},{dest:"names",src:"~",type:"object",mapping:[{dest:"value",src:"productLabel",type:"value"},{dest:"language",src:a.language,type:"direct"}]},{dest:"parameterValues",src:"parameterValues",type:"array",condition:{dest:"valueFormatted",notBlank:!0},mapping:[{dest:"code",src:"parameterId",type:"value"},{dest:"names",
src:"~",type:"object",mapping:[{dest:"value",src:"parameterLabel",type:"value"},{dest:"language",src:a.language,type:"direct"}]},{dest:"units",src:"~",type:"object",mapping:[{dest:"value",src:"unit",type:"value"},{dest:"language",src:a.language,type:"direct"}]},{dest:"value",src:"valueFormatted",type:"value"}]},{dest:"insuranceCalculations",src:"~",type:"object",mapping:[{dest:"insuranceCalculations",src:"calculations",type:"array",condition:{dest:"productType",equals:"INSURANCE"},mapping:[{dest:"calculationType",
src:"productType",type:"value"},{dest:"code",src:"productId",type:"value"},{dest:"insurancePayment",src:"rate.value",type:"value"},{dest:"names",src:"~",type:"object",mapping:[{dest:"value",src:"productLabel",type:"value"},{dest:"language",src:a.language,type:"direct"}]},{dest:"parameterValues",src:"parameterValues",type:"array",mapping:[{dest:"code",src:"parameterId",type:"value"},{dest:"unit",src:null,type:"direct"},{dest:"value",src:"valueFormatted",type:"direct"},{dest:"names",src:"~",type:"object",
mapping:[{dest:"value",src:"productLabel",type:"value"},{dest:"language",src:a.language,type:"direct"}]}]}]}]},{dest:"serviceCalculations",src:"calculations",type:"array",condition:{dest:"productType",equals:"SERVICE"},mapping:[{dest:"calculationType",src:"productType",type:"value"},{dest:"code",src:"productId",type:"value"},{dest:"isDisplayPayment",src:!0,type:"direct"},{dest:"isSelectable",src:!0,type:"direct"},{dest:"isSelected",src:"selected",type:"value"},{dest:"servicePayment",src:"rate.value",
type:"value"},{dest:"names",src:"~",type:"object",mapping:[{dest:"value",src:"productLabel",type:"value"},{dest:"language",src:a.language,type:"direct"}]}]}]}}}()})(mini.digital.util,mini.digital.$);
(function(){mini.digital.util.priceFinance=function(b,e,k){function g(b){b.overlay({open:!1,ajax:!1,source:'\x3cdiv id\x3d"defaultRateInfoViewport"\x3e\x3c/div\x3e',title:" ",style:"med"});b.on("click",".md-icn-info, .addInfoClick",function(){a=e.subscribe(d.overlayOpened,c);b.data("overlay").openOverlay()}).on("click",".md-cs-monthly-cta",function(a){e(a.delegateTarget).removeClass("md-cs-monthly-price-enabled")})}function c(b){if(b.requester.is(".md-price-finance")){var c=b.requester.find(".md-sf-snippet");
b=c.attr("sf-model-code");c=c.attr("sf-gearbox-code");if(f.isLoaded&&f.bmwNameSpace.apps.html5){var d=new f.bmwNameSpace.apps.html5.DefaultRateInfoViewport(f.SF,"defaultRateInfoViewport");d.setData({modelCode:b,gearboxCode:c});d.start()}e.unsubscribe(a)}}var a,d={overlayOpened:"md:overlay:opened"},f=k.getFinanceApp();return{init:function(a){a=e(a);g(a);k.init()},teardown:function(a){e(a).off("click").data("overlay").destroy()}}}(mini.digital.util,mini.digital.$,mini.digital.util.finance)})();
(function(b,e){mini.digital.util.historyManager=function(){var k=!1,g=document.title,c=window.location.href,a=null,d=null!==e&&!!e.enabled;d&&e.Adapter.bind(window,"statechange",function(){if(d){var a=e.getState();k||""!==window.location.hash.replace(/^#/,"")||-1!==window.location.href.indexOf("/configurator")||-1!==window.location.href.indexOf("/dlo")||(window.location.href=a.url);k=!1}});(function(){d&&(b(window).unbind("popstate",e.onPopState),e.onPopState=function(a,c){var f;if(d){e.doubleCheckComplete();
if(f=e.getHash())return(a=e.extractState(f||e.getLocationHref(),!0))?-1===a.url.indexOf("dlo")&&-1===a.url.indexOf("configurator")&&-1===a.url.indexOf("returnURL")&&("/"===a.hash?b.publish("md:configurator:unload"):e.replaceState(a.data,a.title,a.url,!1)):(e.Adapter.trigger(window,"anchorchange"),e.busy(!1)),e.expectedStateId=!1;(a=(a=e.Adapter.extractEventData("state",a,c)||!1)?e.getStateById(a):e.expectedStateId?e.getStateById(e.expectedStateId):e.extractState(e.getLocationHref()))||(a=e.createStateObject(null,
null,e.getLocationHref()));e.expectedStateId=!1;if(e.isLastSavedState(a))return e.busy(!1),!1;e.storeState(a);e.saveState(a);e.setTitle(a);e.Adapter.trigger(window,"statechange");e.busy(!1);return!0}},e.Adapter.bind(window,"popstate",e.onPopState))})();return{historyApi:d?e:null,pushState:function(b){k=!0;g=b.title;c=b.uri;a=b.data?b.data:null;d&&e.pushState(a,g,c)},setInAppAction:function(){k=!0},getCurrentTitle:function(){return g},getCurrentURL:function(){return c}}}()})(mini.digital.$,window.History);
(function(b,e){e.gcdm=function(){function k(c){return{angular:{url:g.ANGULAR,isLoaded:function(){return b.isPlainObject(window.angular)}},angularAnimate:{url:g.ANGULAR_ANIMATE,isLoaded:function(){return e.angular.isModuleAvailable("ngAnimate")}},gcdm:{url:c,isLoaded:function(){return e.angular.isModuleAvailable("gcdm")}}}}var g={ANGULAR:"/etc.clientlibs/settings/wcm/designs/minidigital-white/libs-js.legacy/vendor/external/resources/angular.min.js",ANGULAR_ANIMATE:"/etc.clientlibs/settings/wcm/designs/minidigital-white/libs-js.legacy/vendor/external/resources/angular-animate.min.js"};
return{init:function(b){b=k(b);return e.lazyLoadScriptMulti([b.angular,b.angularAnimate,b.gcdm])}}}()})(mini.digital.$,mini.digital.util);
(function(b,e,k,g){g.form=function(){function b(){if(Modernizr.touch){var a=k('meta[name\x3d"viewport"]');k(".md-custom-overlay");var b=a.attr("content"),c=/,(\s)?user-scalable=yes/,g=function(){var d=b.match(c)?b.replace(c,",user-scalable\x3dno"):b+",user-scalable\x3dno";a.attr("content",d)};k(e).on("touchstart",":input",g).on("touchstart",function(c){var d=k(c.target).find("select");d=d.length?d[0].getBoundingClientRect():null;var f=c.originalEvent.changedTouches[0];d&&f.clientY<d.bottom+165&&f.clientY>
d.top-165&&f.clientX<d.right+165&&f.clientX>d.left-165?g():k(c.target).is(":input")||a.attr("content",b);"LABEL"===c.target.tagName&&g()})}}return{init:function(){b()}}}()})(window,document,mini.digital.$,mini.digital.util,Modernizr);
(function(b,e,k){b.itemdetailoverlay=function(){function g(g){if(!e(g.requester).is(".md-js-detail-trigger"))return!1;e.unsubscribe(f);h=e.subscribe("md:overlay:scroll",c);n=e.subscribe("md:overlay:closed",a);d=e(g.overlayContent);d.parent().find(".md-detail").removeClass("md-detail-hide");b.responsiveimage.lazyLoadImages(d)}function c(){b.lazyLoadImage.checkImages()}function a(){void 0!==q&&q.$overlayWrapper.height("");e.unsubscribe(h);e.unsubscribe(n)}var d,f,h,n,m,q,l,t;return{init:function(a){d=
e(a);d.find(".md-js-detail-trigger").on("click",function(a){var c=e(a.currentTarget),d=c.closest(".md-js-detail-overlay");c.overlay({title:d.data("feature-name"),source:d.find(".md-detail"),style:"dynamic-height",fireScrollEvents:!0});f=e.subscribe("md:overlay:opened",g);c.data("overlay").toggleOverlay(a);b.matchmedia.wide.matches&&(q=c.data("overlay"),l=parseInt(q.$overlayContent.css("padding-top"),10),m=q.$overlayContent.find(".md-detail").outerHeight()+l,t=m+q.$overlayHeader.outerHeight()<e(k).height()?
m+q.$overlayHeader.outerHeight():e(k).height()-60,q.$overlayWrapper.height(t))})}}}()})(mini.digital.util,mini.digital.$,window);
(function(){mini.digital.util.analytics=function(){var b={};return{init:function(){b=digital.tracking.getInstance(window.dataLayer)},initComponentTracking:function(e){return b.initComponentTracking(e.obj,e.pageId)},updateComponentTracking:function(e){return b.updateComponentTracking(e.componentId,e.obj,e.pageId)},initProductTracking:function(e){return b.initProductTracking(e.obj,e.pageId)},updateProductTracking:function(e){return b.updateProductTracking(e.productId,e.obj,e.pageId)},removeProductTracking:function(e){return b.removeProductTracking(e.productId,
e.pageId)},initCartTracking:function(e){return b.initCartTracking(e.obj)},updateCartTracking:function(e){return b.updateCartTracking(e.obj)},removeCartTracking:function(e){return b.removeCartTracking()},initTransactionTracking:function(e){return b.initTransactionTracking(e.obj)},updateTransactionTracking:function(e){return b.updateTransactionTracking(e.obj)},removeTransactionTracking:function(e){return b.removeTransactionTracking()},addEventTracking:function(e){return b.addEventTracking(e.defaultObj,
e.elementObj,e.pageId)},addVirtualPage:function(e){return b.addVirtualPage(e.obj,e.destinationUrl,e.referringUrl)},closeVirtualPage:function(e){return b.closeVirtualPage(e.pageId)},getPageObject:function(e){return b.getPageObject(e.pageId)},getAllPages:function(){return b.getAllPages()},isTrackingDisabled:function(){return b.isTrackingDisabled()},switchDevModeOn:function(){return b.setDebugMode(!0)},getCurrentPageIndex:function(){return b.getCurrentPageIndex()},closeAllVirtualPages:function(e){return b.closeAllVirtualPages(e)}}}()})();
mini.digital.util.veil=function(b,e){function k(){a.removeClass(f.visible);a.removeClass(f.enabled);a.css("z-index","")}function g(b){c=e("body");b&&0<b.length&&(c=b);c.prepend(h);a=e("."+f.veil);b&&0<b.length&&(a=e("."+f.veil,b));a.on("click",function(){e.publish("md:veil:click",[{id:a.attr("data-id")}])})}var c=e("body"),a,d=[],f={veil:"md-custom-overlay-veil",enabled:"md-enabled",visible:"md-visible"},h='\x3cdiv class\x3d"'+f.veil+'"\x3e\x3c/div\x3e';return{manageVeil:function(b,c,e){a||g(e);var h;
e=!1;switch(b){case "open":b={id:c.id,zIndex:c.zIndex,cssClass:c.cssClass};m;h;var m=0;for(h=d.length;m<h;m++)if(d[m].id===c.id){d.splice(m,1);break}d.push(b);e=!0;break;case "close":if(c)for(m=0,h=d.length;m<h;m++){if(d[m].id===c.id){d.splice(m,1);e=!0;break}}else d.length?(d.pop(),e=!0):d=[]}e&&(0<d.length?(c=d[d.length-1],m=c.zIndex||a.css("z-index"),h=c.id,a.css("z-index",m),a.attr("data-id",h).addClass(f.enabled),c.cssClass&&a.addClass(c.cssClass),a.get(0).offsetLeft,a.addClass(f.visible)):k())},
hideAllVeils:function(){d=[];k()},isVeilOpen:function(){return 0<d.length}}}(mini.digital.util,mini.digital.$);(function(b,e){e.unsubArray=function(e){for(;e.length;)b.unsubscribe(e.pop())}})(mini.digital.$,mini.digital.util);
(function(b,e,k){e.anchorButton=function(){function g(c){if(c.length){var a=b("body").find("iframe.md-if-frame");a&&0<a.length?a.ready(function(){e.scrollTo.element(c,{duration:400},10)}):e.scrollTo.element(c,{duration:400},10)}}return{init:function(c){c=b(c);var a=c.attr("href").substring(1);if(void 0!==a&&""!==a&&!a.startsWith("md-disc_")&&!c.hasClass("link-anchor"))c.on("click.anchor",function(c){var d=b('div[data-md-anchor-name\x3d"'+a+'"]');void 0!==d&&0<d.length?(b.publish("md:anchor:button:scrollTo",
[a]),g(d),c.preventDefault()):b.publish("md:anchor:button:click",[a,c.currentTarget])})},teardown:function(c){b(c).off(".anchor")},scrollToAnchor:g,MD_ANCHOR_NAME:"md-anchor-name"}}()})(mini.digital.$,mini.digital.util,window);
(function(b,e){e.disclaimerButton=function(){function k(g){var c=b.Deferred(),a;g.length&&(g.is(":visible")?c.resolve():a=b.subscribe("md:disclaimer:items:toggle",function(d){"open"===d.state&&b.contains(d.$el[0],g[0])&&(b.unsubscribe(a),c.resolve())}),c.done(function(){e.scrollTo.element(g,{duration:400},10)}))}return{init:function(e){e=b(e);var c=e.data("disclaimer");e.on("click.disclaimer",function(a){"footer"===c&&(k(b(a.currentTarget.hash)),a.preventDefault());b.publish("md:disclaimer:button:click",
[c,a.currentTarget])})},teardown:function(e){b(e).off(".disclaimer")}}}()})(mini.digital.$,mini.digital.util);
(function(b,e){e.currentModel=function(){function k(){d=""!==a.modelRangeCode&&""!==a.modelCode;f=""!==a.modelRangeCode&&""===a.modelCode}function g(){return!(c.modelCode===a.modelCode&&c.modelRangeCode===a.modelRangeCode&&c.transmission===a.transmission)}var c={},a={modelRangeCode:"",modelRangeName:"",modelCode:"",modelName:"",modelLongName:"",url:"",multipleTransmissions:"",transmission:""},d=!1,f=!1;c=a;b.subscribe("md:configurator:initialise",function(){var b=e.historyManager.getCurrentTitle(),
c=e.historyManager.getCurrentURL(),d=a.url+window.location.search;c!==d&&e.historyManager.pushState({uri:d,title:b})});return{set:function(d,f){d=d||{};c=a;a={modelRangeCode:d.modelRangeCode||"",modelRangeName:d.modelRangeName||"",modelCode:d.modelCode||"",modelName:d.modelName||"",vehicleName:d.modelName||"",modelLongName:d.modelLongName||"",url:d.url||"",multipleTransmissions:d.multipleTransmissions||0,transmission:d.transmission||"Default",cosyImageInfos:d.cosyImageInfos||[{},{},{urlString:void 0}]};
k();(void 0===f||!0===f)&&g()&&b.publish("md:currentModel:changed",[a])},get:function(){return a},history:function(){return c},update:function(d,f){"undefined"!==typeof a[d]&&(c=a,a[d]=f,k(),b.publish("md:currentModel:changed",[a]))},isModelPage:function(){return d},isModelRangePage:function(){return f},isNormalPage:function(){return!f&&!d},isCurrentModelDifferent:g}}()})(mini.digital.$,mini.digital.util);
(function(b,e){e.favouriteModel=function(){var k=[],g=!1,c=function(){g&&(e.cookiecontroller.setPersistence("cc_favourite_model",JSON.stringify(k)),b.publish("md:favouritemodel:updated",[{items:k}]))},a=function(a){var c=-1;b.each(k,function(b,d){d.rangeCode===a.rangeCode&&d.modelCode===a.modelCode&&(c=b)});return c},d=function(){e.cookiecontroller.checkPresentAndInit().then(function(){if(g=e.cookiecontroller.isUsageAllowed("cc_favourite_model"))k=JSON.parse(e.cookiecontroller.getPersistence("cc_favourite_model"))||
[],c()})};e.cookiecontroller.isUsageAllowed("cc_favourite_model")&&(e.cookiecontroller.registerOnConsentChange(d),e.cookiecontroller.registerOnInitialized(d));return{init:d,getItems:function(){return k},getItemsModelCodes:function(){return k.map(function(a){return a.modelCode})},setItem:function(d){if(g&&d&&d.rangeCode&&d.modelCode){var f=a(d);0===k.length&&b.publish("md:favouritemodel:start",[{modelCode:d.modelCode}]);-1===f&&(k.push(d),c())}},removeItem:function(b){g&&b&&b.rangeCode&&b.modelCode&&
(b=a(b),-1!==b&&(k.splice(b,1),c()))},isCookieAllowed:function(){return e.cookiecontroller.isUsageAllowed("cc_favourite_model")}}}()})(mini.digital.$,mini.digital.util);
(function(b,e){e.dragReveal=function(){function e(){f.width();n=a.width();m=a.offset().left;d.width(n/2);h.width(n)}function g(){a.on("mousemove.dragReveal.panel",function(a){var b=a.pageX;a=b-(n/2+m);b-=m;f.css(window.Modernizr.prefixed("transform"),"translateX("+a+"px)");d.width(b)}).on("mouseleave.dragReveal.panel",c)}function c(){a.off(".dragReveal.panel")}var a,d,f,h,n,m,q;return{init:function(l){a=l;d=a.find(".md-drag-reveal-panel1");f=a.find(".md-drag-reveal-slider");h=a.find(".md-rimage");
q=b.subscribe("md:resize",e);e();f.on("mousedown.dragReveal.slider",g).on("mouseup.dragReveal.slider",c)},teardown:function(){a.off(".dragReveal.panel");f.off(".dragReveal.slider");b.unsubscribe(q)}}}()})(mini.digital.$,mini.digital.util);
(function(b,e){e.iselementinviewport=function(e){e instanceof b&&(e=e[0]);e=e.getBoundingClientRect();return 0<=e.top&&0<=e.left&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)}})(mini.digital.$,mini.digital.util);
(function(b,e){e.countryPreferences=function(){var b={},g=!1,c=function(){g&&e.cookiecontroller.setPersistence("cc_country_preferences",encodeURIComponent(JSON.stringify(b)))},a=function(){e.cookiecontroller.checkPresentAndInit().then(function(){if(g=e.cookiecontroller.isUsageAllowed("cc_country_preferences")){var a=e.cookiecontroller.getPersistence("cc_country_preferences");a&&(a=decodeURIComponent(a));b=JSON.parse(a)||{};c()}})};e.cookiecontroller.registerOnConsentChange(a);e.cookiecontroller.registerOnInitialized(a);
return{init:a,getPreference:function(a){if(g&&a)return b[a]},setPreferences:function(a){g&&a&&(b=a,c())},isCookieAllowed:function(){return e.cookiecontroller.isUsageAllowed("cc_country_preferences")}}}()})(mini.digital.$,mini.digital.util);
(function(b,e){e.getLinkedUrl=function(e,g){var c=b.location.pathname.split("/"),a=-1<e.indexOf("localhost"),d=a?c[5]:c[1];a=a?c[6]:c[2];g=g.replace("-","_");e=e.replace(d,g);if("shop"==a||"mybmw"==a)return e;-1===c.indexOf("home")&&(e=e.replace(a,"home.html"));return e}})(window,mini.digital.util);(function(b){b.formatDecimal=function(){return function(b,k){if(k)return b.toString().replace(/\./g,k)}}()})(mini.digital.util);
(function(b,e){e.emissionChart=function(){var e;return{init:function(g){if((e=b(".md-chart-co2"))||g){var c=b(g||e);b.each(c,function(a){var b=c.eq(a).data("rating"),f=c.eq(a).find(".md-chart-co2-current");a=c.eq(a).find('[data-co2\x3d"'+b+'"]').position().top;f.css({top:a+"px"})})}}}}()})(mini.digital.$,mini.digital.util);
mini.digital.util.location=function(b,e,k){return{getQueryParams:function(){for(var b=location.search.substr(1).split("\x26")||[],c={},a=0,d=b.length,f;a<d;a++)f=b[a],0<=f.indexOf("\x3d")&&(f=f.split("\x3d"),c[f[0]]=f[1]);return c}}}(mini.digital.$,window);
mini.digital.util.stockLocator=function(b,e,k){function g(){var a=e.location.search;return(a=a?a.match(/[?&]konfiguratorData=([^&]*)?/):null)&&"StockLocator"===a[1]}function c(){var a=e.location.pathname;a=a.substring(a.lastIndexOf("/")+1);for(var b=[],c=a.match(/vin_([^.]*)?/)?a.match(/vin_([^.]*)?/)[1]:"",g=[],k=$jscomp.makeIterator(a.matchAll(/vin_(.*?)(?=\.)/g)),q=k.next();!q.done;q=k.next())q=q.value,c&&q[1]===c?g.vin7=q[1]:c&&q[1]!==c?g.vin17=q[1]:g.push(q[1]);b.series=a.match(/series_([^.]*)?/)?
a.match(/series_([^.]*)?/)[1]:"";b.vin=g.vin7?g.vin7:g[0];b.dloPartner=a.match(/dloPartner_([^.]*)?/)?a.match(/dloPartner_([^.]*)?/)[1]:"";b.dloOuter=a.match(/dloOutlet_([^.]*)?/)?a.match(/dloOutlet_([^.]*)?/)[1]:"";b.vin17=g.vin17?g.vin17:g[1];return b}function a(a){return(a=k.cookiecontroller.getPersistence(a))?JSON.parse(a):null}return{isStockLocatorInPath:g,loadVehicleFromLocalStorage:function(){try{var b=a("StockLocator");if(!b)return null;var c=_.get(b,"configData",null);if(c){var e=c;e.modelName=
decodeURIComponent(_.get(e,"modelName",""));var g={modelRange:e.modelRange,agCode:e.agCode,vgCode:e.modelCode,modelCode:e.modelCode,vehicleName:e.modelName,modelGross:e.prices?e.prices.modelGross:null,modelNet:e.prices?e.prices.modelNet:null,featuresGross:e.prices?e.prices.equipmentGross:null,featuresNet:e.prices?e.prices.equipmentNet:null,totalGross:e.prices?e.prices.totalGross:null,totalNet:e.prices?e.prices.totalNet:null,grossPrice:e.prices?e.prices.totalGross:null,netPrice:e.prices?e.prices.totalNet:
null,featureDetails:[],vin:e.vin,vin17:e.vin17,dealerId:e.dealerId,outletId:e.outletId,cosyImageInfos:[]}}g.source="stockLocator";g.cosyImageInfos=[{},{},{urlString:e.cosyImageUrls?e.cosyImageUrls.FRONTSIDE_VIEW:null}];return g}catch(m){return null}},getDealerIdFromLocalStorage:function(){var b;if(g())try{var c=a("StockLocator");if(!c)return null;var e=_.get(c,"configData",null);e&&e.dealerId&&e.outletId&&(b=e.dealerId+"_"+e.outletId)}catch(n){return null}return b},isVin17InPath:function(){var a=
c(),b=e.location.search;b=b?b.match(/[?&]vin17=([^&]*)?/):null;return a.vin17||b?!0:!1},getParamsFromPath:c}}(mini.digital.$,window,mini.digital.util);
(function(){$(document).ready(function(){$(".md-acc-categories").on("click",".md-acc-listing-name",function(b){b.preventDefault();$(this).toggleClass("md-acc-rotate");$(".md-acc-listing-name").not(this).removeClass("md-acc-rotate").next(".md-sub-acc-categories").slideUp("slow");$(this).next(".md-sub-acc-categories").slideToggle(250)});$(".md-model-accordion").on("click",function(b){b.preventDefault();$(this).toggleClass("accordion-active");$(".md-model-accordion").not(this).next(".md-accy-model-list").slideUp("slow");
$(this).next(".md-accy-model-list").slideToggle(250)});$(".md-latest-after-sales li.md-tv-tab-item:first-child a").hasClass("md-tv-active")&&$(".md-latest-after-sales li.md-tv-tab-item:not(:first-child)").css("position","absolute");var b=$("#newAccessoryDetail").data("component-ispublishmode");$("#newAccessoryDetail").length&&b&&($(".banner.parbase").hide(),$(".topstage").hide())});mini.digital.comp.accessories=function(b,e,k){function g(a,c){a=a.find(".md-acc-cym-model-link");var d=c.find(".md-acc-selected-range-and-model"),
f=c.find(".md-acc-choose");a.on("click",function(a){var e=b(a.currentTarget);a.preventDefault();d.val(e.data("selector"));f.text(e.data("name"));O.trackSelectModelRange(b(this).text(),"na");c.isNarrow?b(".md-custom-overlay-close").click():A(c);z(c)})}function c(a){var c=a.find(".md-acc-selected-range-and-model"),d=a.find(".md-acc-choose");c.val("");d.text(d.data("mdAccDefaultText"));a.isNarrow?b(".md-custom-overlay-close").click():A(a)}function a(a,c,d,f){var h=a.data("mdAccCymRangeData");a=a.data("mdAccCymRangeImage");
b.each({"{{ name }}":h.range.name||" ","{{ year }}":h.range.year||" ","{{ imageUrl }}":a||" ","{{ rangeCode }}":h.rangeCode||" ","{{ modelCode }}":h.modelCode||" "},function(a,b){c=c.replace(new RegExp(a,"g"),b)});a=b("\x3cdiv\x3e\x3c/div\x3e").html(c).addClass("md-acc-cym-models-inner");var l=a.find(".md-acc-cym-model-item");var k=a.find(".md-acc-cym-model-list");b.each(h.models,function(a,b){a=l.clone();k.append(a);a=a.find("div");var c=h.range.rangeCode+"_"+b.modelCode;a.attr("data-name",h.range.name+
" - "+b.modelName);a.attr("data-selector",c);a.text(b.modelName)});l.remove();d.empty().prepend(a);(a=a.find(".md-ri-image"))&&e.init(a);g(d,f)}function d(d,f){var e=d.find(".md-acc-cym-step"),g=d.find(".md-acc-cym-models"),h=d.find(".md-acc-cym-range-link"),l=d.find(".md-acc-cym-step-back"),m=d.find(".md-acc-cym-models-template").html().trim(),n=function(){var a=0,c=f.find(".md-acc-cym-title").outerHeight(),g=f.find(".md-acc-filters").outerHeight(),h=f.height()-g;d.height("auto");e.each(function(c,
d){c=b(d).outerHeight();a<c&&(a=c)});0<c?d.height(a+c):d.height(a+45);k.matchmedia.wide.matches&&a>h&&f.height(a+c+g)};d.removeClass("md-acc-cym-show-step-2");n();b.subscribe(K.CYMOpened,n);h.on("click",function(h){var l=b(h.currentTarget),q=l.data("mdAccCymRangeData");h.preventDefault();if(q)if(O.trackSelectSeries(q.range.name,"na"),a(l,m,g,f),d.addClass("md-acc-cym-show-step-2"),Modernizr.csstransitions)e.eq(1).on(k.transitionEndEvent,function(){e.eq(1).off(k.transitionEndEvent);n()});else n();
else c(f)});l.on("click",function(a){a.preventDefault();d.removeClass("md-acc-cym-show-step-2")})}function f(a){b.subscribe("md:overlay:opened",function(c){b(c.requester).hasClass("md-acc-choose")&&d(b(c.overlayContent).find(".md-acc-cym"),a)})}function h(a){var c=a.find(".md-acc-fb-temp").html();c=b(c);var d=c.find("select[name\x3dcategory]"),f=c.find("select[name\x3dgroup]"),e=a.find(".md-acc-filters");e.find(".md-acc-categories").children().each(function(a,c){a=b(c);c=b("\x3coption\x3e\x3c/option\x3e");
var e=b("\x3coptgroup\x3e\x3c/optgroup\x3e"),g=a.data("name"),h=a.data("selectors"),l=a.data("selected");c.text(g);c.val(h);c.prop("selected",l);e.attr("label",g);d.append(c);a.children("ul").children().each(function(a,c){var d=b(c);a=b("\x3coption\x3e\x3c/option\x3e");c=d.data("name");var f=d.data("selectors");d=d.data("selected");a.text(c);a.val(f);a.prop("selected",d);e.append(a)});f.append(e)});e.append(c);L&&a.find("input[name\x3drangeAndModel]").val(L);a.updateSelect=!0}function n(a,b,c){var d=
b.find("input[name\x3drangeAndModel]").val();if(d){a=d.split("_")[0];d=d.split("_")[1];b=b.find('[data-md-acc-cym-item-code\x3d"'+a+'"]').data("mdAccCymRangeData");var f="";if(b){if(d)for(var e=0;e<b.models.length;e++)b.models[e].modelCode===d&&(f=" - "+b.models[e].modelName);a&&c.text(b.range.name+f)}}}function m(a,c){var d=a.find("select[name\x3dcategory]"),f=a.find("select[name\x3dgroup]"),e=f.children(),g=a.find(".md-acc-ff"),h=a.find(".md-acc-choose");d.on("change",function(){q(d,f,e)});a.updateSelect&&
q(d,f,e);c||n(g,a,h);b.subscribe(K.CYMmodelSelected,function(){A(a)})}function q(a,b,c){a.children(":selected").is(":first-child")?b.empty().append(c.clone()).prop("disabled",!0):(a=c.children('option[value\x3d"'+a.val()+'"]').first().parent(),c=a.children().filter(":selected").val(),b.empty().append(a.children().clone()).prop("disabled",!1),c&&b.children('option[value\x3d"'+c+'"]').prop("selected",!0))}function l(a){return a.find(".md-acc-items \x3e li")}function t(a){a.on("click",".md-acc-loadmore-btn",
F);if(!a.isNarrow)a.on("click",".md-acc-choose-wide",G);a.on("submit",".md-acc-ff",H);m(a)}function r(a,b){v(a,b.slice(0,9),!0);9<b.length?u(a):x(a)}function v(a,c,d){c.each(function(a,c){var f=b(c);d&&f.addClass("md-acc-item-loading");w(f);d&&setTimeout(function(){f.removeClass("md-acc-item-loading")},83*a)})}function w(a){var c=a.children("a"),d=b("\x3cspan\x3e\x3c/span\x3e").addClass("md-acc-item-title"),f=b("\x3cimg\x3e").attr("src",a.data("acc-img")).addClass("md-acc-item-thumb"),e=b("\x3cdiv\x3e\x3c/div\x3e").addClass("md-acc-item-image");
c.wrapInner(d);e.append(f);c.addClass("md-acc-item-link").prepend(e);c.click(function(a){a.preventDefault();var c=a.currentTarget,d=b(this).find(".md-acc-item-title");a=!b(a.target).hasClass("md-acc-item-title");O.trackClickSpecificAccesory(d.text(),"na",c.href,a);window.setTimeout(function(){window.location=c.href},200)});a.addClass("md-acc-item-show")}function x(a){a.find(".md-acc-loadmore").remove()}function u(a){var c=a.find(".md-acc-loadmore");c.length||(c=a.find(".md-acc-filters").data("text-loadmore"),
c=b("\x3cbutton\x3e\x3c/button\x3e").addClass("md-acc-loadmore-btn").text(c),c=b("\x3cdiv\x3e\x3c/div\x3e").addClass("md-acc-loadmore").append(c),a.append(c))}function y(a,c){var d=B(a);x(a);d.empty();a.addClass("md-acc-loading");b.when(C(c)).done(function(f){var e=b(f),g=e.find(".md-acc-items"),h=e.find(".md-acc-banner").html();e=a.find("select[name\x3dcategory]").find("option:selected").text().trim();var k=a.find("select[name\x3dgroup]").find("option:selected").text().replace(/\(.*?\)/g,"").trim();
b(".md-acc-banner").html(h);a.removeClass("md-acc-loading");g.length?d.append(g.children()):(d.append(S),g=S.find(".md-acc-no-results-search"),h=b(".md-acc-choose").eq(0).text()+J+e+J+k,g.text(h));g=c.replace(new RegExp(R),"");f=b(f).find("html head title").text();mini.digital.util.historyManager.pushState({title:f,uri:g});f=l(a);O.trackSelectCategories(e,f?f.length:0);O.trackSelectProduct(k,f?f.length:0);r(a,f)}).fail(function(){a.removeClass("md-acc-loading")})}function B(a){var c=a.find(".md-acc-items");
c.length||(c=b("\x3cul\x3e\x3c/ul\x3e").addClass("md-acc-items"),a.append(c));return c}function z(a){var c=a.find("select[name\x3dcategory]");var d=a.find(".md-acc-filters"),f=d.find(".md-acc-choose-wide"),e=d.find(".md-acc-filters-preloader");f=f.position().left+f.width()+60;a.isNarrow||e.css("left",f+"px");d.addClass("md-acc-filters-loading");c.find("option:eq(0)").prop("selected",!0);c.change().prop("disabled",!0);c=D(a);b.when(C(c)).done(function(c){c=b(c).find(".md-acc-categories");L=a.find("input[name\x3drangeAndModel]").val();
a.find(".md-acc-ff").remove();a.find(".md-acc-categories").html(c.html());h(a);m(a,!0);d.removeClass("md-acc-filters-loading")})}function C(a){var c={type:"GET",url:a,timeout:3E4,error:function(a,b,d){console.log('WARN: accessories.ajaxCall: ajax-call returned error "'+b+'" using call settings:',c)}};return b.ajax(c)}function A(a){var c=a.find(".md-acc-cym");c.toggleClass("md-acc-cym-active").delay(100).queue(function(){c.toggleClass("md-acc-cym-animate").dequeue();c.height("");if(I)c.removeClass("md-acc-cym-show-step-2");
else if(Modernizr.csstransitions)c.on(k.transitionEndEvent,function(a){"opacity"===a.originalEvent.propertyName&&(c.off(k.transitionEndEvent),b.publish(K.CYMOpened))});else b.publish(K.CYMOpened);I=!I});e.checkImages()}function D(a){a.find(".md-acc-filters").find(".md-acc-categories");var b=window.location,c=b.pathname.split(".")[0];b=b.origin+c+R;c=a.find("select[name\x3dgroup]").val();var d=a.find("select[name\x3dcategory]").val();(a=a.find("input[name\x3drangeAndModel]").val())&&(b+="."+a);c?b+=
"."+c:d&&(b+="."+d);b=encodeURI(b+".html");return b+window.location.search}function H(a){var c=b(a.delegateTarget),d=D(c);y(c,d);b.publish(K.filter);c.find(".md-acc-cym").hasClass("md-acc-cym-active")&&A(c);a.preventDefault()}function F(a){var c=b(a.delegateTarget),d=l(c).not(".md-acc-item-show");v(c,d.slice(0,9),!0);9<d.length?u(c):x(c);a.preventDefault()}function G(a){var c=b(a.delegateTarget);A(c);a.preventDefault()}var K={filter:"md:accessories:filter",CYMOpened:"md:accessories:cym:opened",CYMmodelSelected:"md:accessories:cym:model:selected"},
I=!1,S,J,L,R="",O;return{init:function(a){var c=b(a);a=l(c);var e=c.find(".md-toppicks"),g=c.find(".md-acc-cym"),m=c.find(".md-acc-nr-temp").html();c.isNarrow=!k.matchmedia.wide.matches;R=c.find(".md-acc-filters").data("nested-component-path");S=b(m);J=" "+S.data("mdAccJoinText").trim()+" ";c.isNarrow?f(c):d(g,c);require(["apps/business/accessories/components/accessories/clientlib/scripts/tracking/Tracking"],function(a){O=a;a=b.find(".md-acc-banner .md-heading");O.init(c.data("component-tracking-id"),
a&&0<a.length?b(a[0]).text().trim():"")});h(c);t(c);a.length&&!e.length?r(c,a):b.subscribe(K.filter,function(){b.unsubscribe(K.filter);e.hide()})}}}(mini.digital.$,mini.digital.util.lazyLoadImage,mini.digital.util)})();
(function(b,e,k,g){function c(c,d){function f(a){d.contentWindow.postMessage(JSON.stringify({actionResponse:[{action:"consentChange",result:{consentChange:a}}]}),t.domain)}function h(a){if(d!==g&&d.contentWindow!==g)try{var b=d.contentWindow,c=[],f=a.originalEvent.data,h={};h="string"===typeof f||f instanceof String?JSON.parse(f)||{}:f;var l={actionResponse:[],childOrigin:h.childOrigin};a.originalEvent.source===b&&h.actions&&h.callback&&(e.each(h.actions,function(a,b){c.push(q(b).done(function(a){l.actionResponse.push(a)}))}),
e.when.apply(null,c).done(function(){b.postMessage(JSON.stringify(l),t.domain)}))}catch(A){}}function q(a){var b=t[a.action],c=e.Deferred(),d=e.Deferred();b?(b=b(a),b.done?b.done(d.resolve):d.resolve(b)):d.resolve(l(!1,"Cannot find action `"+a.action+"`"));d.done(function(b){c.resolve(e.extend({action:a.action},b))});return c.promise()}function l(a,b){return e.extend({success:a},b?{result:b}:{})}var t=this,r=!1,v="/bin/public/mini/modelspecs?resourcePath\x3d"+e(d).data("iframe-resource-path");t.resize=
function(a){a=parseInt(a.params&&a.params.height,10);var b=t.$frame.data("heightOffset")||0;if(isNaN(a))return l(!1,"Parameter `height` must be a number");if(isNaN(b))return l(!1,"`heightOffset` must be a number");t.$frame.attr("height",a+b);return l(!0,void 0)};t.requestUser=function(){var a=k.user.get();return a?l(!0,a):l(!1,"NA")};t.requestModelInfo=function(){var a=e.Deferred();e.get(v,{pageUrl:t.getPagePath()}).done(function(b){a.resolve(l(!0,b))}).fail(function(){a.resolve(l(!1,"NA"))});return a.promise()};
t.requestDealer=function(){var a=k.dealer.get();return a?l(!0,a):l(!1,"NA")};t.requestFinancePackage=function(){return l(!0,{"package":"Lease"})};t.requestBrochure=function(){return l(!0,{})};t.analytics=function(a){a=a.params;var b;if(!a||!a.call)return l(!1,"Missing `call` parameter");k.analytics.init();return(b=(b=k.analytics[a.call])&&b(a.data))&&b.errorMessage?l(!1,b.errorMessage):l(!0,e.extend({call:a.call},b!==g&&null!==b?{data:b}:{}))};t.cookiesEnabled=function(){var a=k.cookiecontroller&&
k.cookiecontroller.api;return l(!0,{cookiesEnabled:a&&a.isRegulationAccepted&&!0===a.isRegulationAccepted()})};t.cookieRegulationType=function(){var a=k.cookiecontroller&&k.cookiecontroller.api;return l(!0,{cookieRegulationType:a&&a.getRegulationType&&a.getRegulationType()})};t.scrollTo=function(b){var c=(b=b.params)&&b.offset&&b.offset.top;if(!c)return l(!1,"Missing `offset` parameter");if("number"!==typeof c)return l(!1,"`offset.top` must be a number");1==r?w.scrollTop(b.offset.top+t.$frame.offset().top):
a.scrollTop(b.offset.top+t.$frame.offset().top);return l(!0,void 0)};t.getPagePath=function(){return b.location.pathname};t.destroy=function(){e(b).off("."+c,h)};t.$frame=e(d);var w=e(".md-iframe",e(".md-custom-overlay-main",t.$frame.parents()));r=0<w.length?!0:!1;t.domain=function(a){var b=document.createElement("a");b.href=a;return b}(t.$frame.attr("src"));(function(){var a=t.$frame.attr("src"),c=t.$frame.data("model-code"),d=t.$frame.data("range-code"),f=mini.digital.util.currentModel.get();c!==
g&&""!==f.modelCode&&(a=a+(0<a.indexOf("?")?"\x26":"?")+"modelCode\x3d"+f.modelCode);d!==g&&""!==f.modelRangeCode&&(a=a+(0<a.indexOf("?")?"\x26":"?")+"modelRangeCode\x3d"+f.modelRangeCode);if(t.$frame.data("transfer-parameters")&&(c=b.location.search)&&(c=c.replace("?",""),c=c.split("\x26"),-1===a.indexOf("?")&&c&&0<c.length&&(a+="?"),c&&0<c.length))for(d=0;d<c.length;d++)a=a+"\x26"+c[d];t.$frame.attr("src",a)})();t.domain=t.domain.protocol+"//"+t.domain.host;a=a||e(b);a.on("message."+c+" onmessage."+
c,h);k&&k.cookiecontroller&&k.cookiecontroller.api&&k.cookiecontroller.api.registerOnConsentChange&&k.cookiecontroller.api.registerOnConsentChange(f);return t}var a,d=function(a,b){this.$element=e(a);this.name=b;this.$frameElement=e(".md-iframe-consent-frame",this.$element);this.$messageElement=e(".md-fallbackteaser-message",this.$element);this.overwriteCookieConsent=this.$frameElement.data("overwrite-cookie-consent");this.frame=null;k.cookiecontroller.checkPresentAndInit().then(this.init.bind(this));
k.cookiecontroller.api.registerOnUserConsentChange(this.onConsentChange.bind(this));var c=this;this.getEnvironment().then(function(a){a&&a.isWcmmodeEdit&&c.initFrame()})};d.prototype={init:function(){this.onConsentChange()},getEnvironment:function(){var a=e.Deferred();require(["core/utils/Environment"],function(b){a.resolve(b)});return a},onConsentChange:function(a){this._isUsageAllowed()||this.overwriteCookieConsent?this.initFrame():this.exitFrame()},exitFrame:function(){this.frame!==g&&(this.$frameElement.attr("src",
null),delete this.frame,this.$messageElement.show(),this.$messageElement.trigger("show"),this.$frameElement.hide())},initFrame:function(){if(!this.frame){this.$frameElement.show();this.$messageElement.hide();this.$messageElement.trigger("hide");var a=this.$frameElement.data("src");this.$frameElement.attr("src",a);this.frame=new c(this.name,this.$frameElement[0])}},_isUsageAllowed:function(){var a=this.$element.data("consent-processing-ids");if(a!==g&&(a=a.split(","),0<a.length)){for(var b=0;b<a.length;b++){var c=
a[b].trim();if(!k.cookiecontroller.api.isUsageAllowed(c))return!1}return!0}return k.cookiecontroller.api.isRegulationAccepted()}};mini.digital.comp.iframe=function(){return{init:function(a){a=e(a);a.data("iframe",new d(a,"iframe"))},teardown:function(a){a=e(a);var b=a.data("iframe");b&&(a.removeData("iframe"),b.destroy())}}}()})(window,mini.digital.$,mini.digital.util);
(function(b,e){mini.digital.comp.standardshelf=function(){var k=0,g=function(c){function a(a){function c(){d.addClass("md-standardshelf-item-reset").removeClass("md-standardshelf-item-show md-standardshelf-item-hide").hide().show(0).removeClass("md-standardshelf-item-reset");b(A[t]).addClass("md-standardshelf-item-show")}if(!q){a=b(a.target);var d=b(A[t]),f=d.find(".md-standardshelf-bg .md-rimage-bp-wide"),h=a.data("spinnerDir"),k=1===h;a.blur();q=!0;m[t]&&!l&&m[t].removeClass("md-standardshelf-item-show");
t+=h;t>r-1?t=0:0>t&&(t=r-1);g(t,k);if(!l)if(d.addClass("md-standardshelf-item-hide"),Modernizr.csstransitions)if(f.length)f.on(e,function(a){"top"===a.originalEvent.propertyName&&(f.off(e),c())});else c();else d.removeClass("md-standardshelf-item-show"),b(A[t]).addClass("md-standardshelf-item-show")}}function d(){var a=v.index%v.totalItems;0>a&&(a+=v.totalItems);C.css("top",y.spinnerTopPixelsToShowItem0-y.spinnerPixelHeightOfItem*a)}function f(){x.setAttribute("stdDeviation","0,"+500*v.velocity)}
function g(a,c,e){var g=v.index,h=0;c?(g+=u.spinnerMinimumItemsInSpin,c=0<=g?g%v.totalItems:v.totalItems+g%v.totalItems,a-=c,g=0<=a?g+a:g+(v.totalItems+a)):(g-=u.spinnerMinimumItemsInSpin,c=0<=g?g%v.totalItems:v.totalItems+g%v.totalItems,a-=c,g=0>=a?g+a:g-(v.totalItems-a));e&&b(v).animate({index:v.index},{duration:e});b(v).animate({index:g},{step:function(a){d();v.velocity=Math.abs(a-h)/b.fx.interval;f();h=a},easing:u.spinnerEasingFunction,duration:u.spinnerDuration,complete:function(){v.velocity=
0;d();f();q=!1;n()}});v.index}function n(){m[t]&&m[t].addClass("md-standardshelf-item-show")}var m=[],q=!1,l=!1,t=0,r=0,v={index:0,totalItems:0},w=k++,x,u={spinnerDelayOnOpenShelf:200,spinnerDuration:1500,spinnerEasingFunction:b.easie(.17,0,0,1),spinnerMinimumItemsInSpin:10},y={spinnerPixelHeightOfItem:26,spinnerTopPixelsToShowItem0:-4};var B=b(c);var z=B.find(".md-standardshelf-spinner-container");l="static"===z.data("spinnerType");var C=z.find(".md-standardshelf-spinner");var A=B.find(".md-standardshelf-item-wrapper");
(function(){var a=0;z.find("li").each(function(c,d){c=b(d).outerWidth()+3;c>a&&(a=c)});z.width(a)})();v.totalItems=z.find("li").length;(function(){var a=z.find("li");r=a.length;var b=a.first().clone();var c=a.eq(1).clone();a=a.last().clone();C.prepend(a).append(b).append(c)})();(function(){if(!l){var c=b('\x3cbutton class\x3d"md-standardshelf-spinner-btn md-standardshelf-spinner-btn-up" data-spinner-dir\x3d"-1"\x3e\x3c/button\x3e');var d=b('\x3cbutton class\x3d"md-standardshelf-spinner-btn md-standardshelf-spinner-btn-dn" data-spinner-dir\x3d"1"\x3e\x3c/button\x3e');
c.add(d).appendTo(z).on("click",a)}})();(function(){var a=B.find("p[data-item-index]");m.length=r;a.each(function(a,c){a=b(c);c=parseInt(a.data("itemIndex").replace("item-",""),10);m[c]=a})})();(function(){var a="md-standardshelf-blur-"+w,c=b('\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" version\x3d"1.1" style\x3d"width: 0; height: 0of"\x3e\x3cdefs\x3e\x3cfilter id\x3d"'+a+'"\x3e\x3cfeGaussianBlur in\x3d"SourceGraphic" stdDeviation\x3d"0,0" /\x3e\x3c/filter\x3e\x3c/defs\x3e\x3c/svg\x3e');C.after(c);
x=c.find("feGaussianBlur")[0];C.css({"-webkit-filter":'url("#'+a+'")',filter:'url("#'+a+'")'})})();b(A[t]).addClass("md-standardshelf-item-show");z.addClass("md-standardshelf-spinner-init");z.length?g(0,!0,u.spinnerDelayOnOpenShelf):n()};return{init:function(b){return new g(b)}}}()})(mini.digital.$,mini.digital.util.transitionEndEvent);
(function(b,e,k,g){function c(a){return void 0!==a&&null!==a}var a=function(a){try{return JSON.parse(a)}catch(x){return console.info("the passed json string is corrupt: "+a),null}},d=b([]),f=null,h={},n=!1,m=void 0,q=void 0,l=function(a){this.$elem=b(a);this.$ctasWrapper;this.$ctas;this.$ctasOverlay;this.$ctasConfigId;this.listeners=[];this.isInitialized=this.isNarrow=!1;this.overlayOpeningHandle;this.overlayOpenedHandle;this.overlayClosingHandle;this.overlayClosedHandle;this.gcdmLoadedHandle;this.vehicleData;
this.isNewHomeCtas=this.isTopCtas=this.isGcdmLoaded=!1;this.init.apply(this)},t=function(a){var c=b(a);c.data("ctas",new l(a));d=d.add(c)},r=function(a){var c=b(a),f=c.data("ctas");f&&f.destroy&&(f.destroy(),c.removeData("ctas"),d=d.not(a))},v=function(){var a=null;f&&f.length&&f.data("overlay")&&(a=f.data("overlay"));return a};l.prototype={getSelectorParam:function(a){return(a=location.pathname.match(new RegExp("\\."+a+"_([^\\.]+)\\.")))?a[1]:void 0},getCtaSelector:function(){return this.getSelectorParam("launchCTA")},
scrollCtas:function(a){var c=b(window).scrollTop();a=a?a:this.$ctasNavOffsetTop;void 0===a&&(a=this.$ctasNavOffsetTop=this.$navCtas.parent().offset().top);if(mini.digital.comp.myminishelf.shelfIsOpen())return this.$ctasWrapper.removeClass("md-fix-ctas"),!1;this.$ctasWrapper.toggleClass("md-fix-ctas",c>a);c>a&&!0===this.isNewHomeCtas&&this.$ctasWrapper.find(".md-nav-ctas").css({top:""});c<a&&(this.$ctasWrapper.removeClass("md-hide-fixed-ctas"),!0===this.isNewHomeCtas&&(this.moveCtas(),this.$ctasNavOffsetTop=
void 0))},hideTopCtas:function(){this.isTopCtas&&(this.$ctas.addClass("md-ctas-hide"),this.$elem.data("ctas-hide-top-ctas",!0))},onConfiguratorUnload:function(){this.isTopCtas&&(this.$ctas.removeClass("md-ctas-hide"),this.$elem.data("ctas-hide-top-ctas",!1));this.isTopCtas||this.updateCtasOnConfigurator()},onOverlayOpening:function(){this.isGcdmLoaded||(this.gcdmLoadedHandle=b.subscribe("md:formgcdm:loaded",this.onGCDMLoaded.bind(this)));b.unsubscribe(this.overlayOpeningHandle)},onOverlayOpened:function(){this.isGcdmLoaded&&
this.sendVehicle(f.data("configured-vehicle"));void 0!==m&&(m.data("overlay").settings.source=q,q=m=void 0);b.unsubscribe(this.overlayOpenedHandle)},onOverlayClosing:function(){b.unsubscribe(this.overlayClosingHandle);b.unsubscribe(this.overlayOpenedHandle);this.gcdmLoadedHandle&&b.unsubscribe(this.gcdmLoadedHandle);f=null},onOverlayClosed:function(a){a.overlayContent.empty();b.unsubscribe(this.overlayClosedHandle)},onGCDMLoaded:function(){f&&this.sendVehicle(f.data("configured-vehicle"));this.isGcdmLoaded=
!0},sendVehicle:function(){var a=k.currentModel.get(),c=b(".md-custom-selector .md-cs-accordion-active .md-cs-carousel-item-active[data-bodytype-code]").find(".md-cs-image-front .md-rimage"),d=b(c).find("img");c=d.data("cosySrcset");d=d.data("cosySrcset");var e={exteriorImageUrl:"",frontImageUrl:"",interiorImageUrl:""};e=mini.digital.comp.configurator.getCosyImages?mini.digital.comp.configurator.getCosyImages():e;f.data("md-current-modelcode")&&(c=f.data("md-currentSrcwide"),d=f.data("md-currentSrcwide"));
this.vehicleData?(this.vehicleData.bodyName=a.modelRangeName,this.vehicleData.vehicleName=a.modelName,this.vehicleData.cosyImageInfos=[{},{},{urlString:e.exteriorImageUrl}],b.publish("md:configurator:gcdmRequest",[this.vehicleData])):a.modelCode&&(c=this.isNarrow?c:d,void 0===c&&void 0!==a.cosyImageInfos&&(c=a.cosyImageInfos[2].urlString),b.publish("md:configurator:gcdmRequest",[{modelRange:a.modelRangeCode,bodyName:a.modelRangeName,vehicleName:a.modelName,modelName:a.modelName,modelCode:a.modelCode,
cosyImageInfos:[{},{},{urlString:c}]}]))},updateCtas:function(a){(function(a,c){window.requestAnimationFrame(function(){k.teardown(a);r(a);a.html(b(c).html());k.initialise(a);t(a);e.share&&e.share.bindEvents&&e.share.bindEvents()})})(this.$elem,a)},onPageChanged:function(a){var b=a.modelCode,c=a.modelRangeCode,d=k.currentModel.history().modelCode,f=k.currentModel.history().modelRangeCode;""===a.url||""===k.currentModel.history().url||b===d&&c===f||this.updateCtasItems(a.url,"ctas.header")},updateCtasOnConfigurator:function(){if(!this.isTopCtas){var a=
window.location.pathname;a&&this.updateCtasItems(a,"ctas.footer.configurator")}},updateCtasItems:function(a,b){b||(b="ctas.header");var c=this,d=k.getContentUrl(a,b);h[d]?this.updateCtas(h[d]):k.request.get(d,"html").then(function(a){h[d]=a;c.updateCtas(a)})},constructTrackingEvent:function(){var a=this.$elem.data("tracking-component"),b=this.$elem.data("tracking-page-index");return{trackedEvent:{eventInfo:{eventName:"",eventAction:"click",timeStamp:"",cause:"default",effect:"",eventPoints:""},category:{primaryCategory:a.category.primaryCategory,
subCategory01:""},attributes:{relatedComponentID:a.componentInfo.componentId,relatedComponentName:a.componentInfo.componentName,relatedComponentPrimaryCategory:"process"}},pageIndex:b}},onClickCtasOverlay:function(a){a.preventDefault();f=b(a.currentTarget);a=f.data();"cookieConsent"===a.formType?k.cookiecontroller.rejectCookies():(a.mdCurrentModelcode&&k.currentModel.set({modelRangeCode:a.mdCurrentModelrangecode,modelRangeName:a.mdCurrentModelrangename,modelCode:a.mdCurrentModelcode,modelName:a.mdCurrentModelname,
cosyImages:a.mdCurrentsrcwide}),"configurator"===a.formType?(a=this.constructTrackingEvent(),b.publish("md:selectormanager:render",[a])):(this.overlayOpeningHandle=b.subscribe("md:overlay:opening",this.onOverlayOpening.bind(this)),this.overlayOpenedHandle=b.subscribe("md:overlay:opened",this.onOverlayOpened.bind(this)),this.overlayClosingHandle=b.subscribe("md:overlay:closing",this.onOverlayClosing.bind(this)),this.overlayClosedHandle=b.subscribe("md:overlay:closed",this.onOverlayClosed.bind(this)),
a.overlay.openOverlay()))},onClickToggleCtas:function(){this.$ctasWrapper.toggleClass("md-hide-fixed-ctas")},resolveParameters:function(b){var c=new URLSearchParams(window.location.search);b&&(b=a("[".concat(b).concat("]")))&&b.forEach(function(a){a&&a.parameterName&&a.parameterValue&&c.set(a.parameterName,a.parameterValue)});return c.toString()},buildFormPath:function(a,b){var c=a.attr("href")||"";a=a.attr("get-parameters")||"";a=this.resolveParameters(a);return c.replace(/.html$/gi,"").concat("/jcr:content/main").concat(b?
".formoverlay.html":".html").concat(a?"?".concat(a):"")},ctaOverlay:function(a){var c=this;this.isNarrow=!k.matchmedia.wide.matches;a.filter('[data-form-type\x3d"fullpage"]').each(function(a,c){a=b(c);c=a.attr("href").replace(/.html$/gi,"")+"/jcr:content/main.html"+window.location.search;a.overlay({source:c,ajax:!0,style:"full",veilZIndex:1030,type:"overlay",deepClone:!0,fireScrollEvents:!0,initialiseSource:!0,history:!0});b.subscribe("md:overlay:contentLoaded",function(){b.publish("md:resize");mini.digital.util.lazyLoadImage.checkImages()});
b.subscribe("md:overlay:scroll",function(){mini.digital.util.lazyLoadImage.checkImages()})});a.filter(':not([data-form-type\x3d"configurator"])').filter(':not([data-form-type\x3d"fullpage"])').filter(':not([data-form-type\x3d"cookieConsent"])').each(function(a,d){a=b(d);d=a.attr("href")||"";var f=!!a.attr("data-use-overlay")&&null!=d.match(/\/home\/forms\//);d=-1!==d.indexOf(".snucrfo")?d.replace(".snucrfo","/jcr:content/main")+window.location.search:c.buildFormPath(a,f);a.overlay({source:d,ajax:!0,
titleFromContent:!0,titleSelector:".md-custom-overlay-header-title",style:"steps",veilZIndex:1030,initialiseSource:!0,history:!0})});a.off("click.ctas");a.on("click.ctas",this.onClickCtasOverlay.bind(this))},initTopCtas:function(){var a=this,c=this.$elem.data("ctas-hide-top-ctas");this.isNewHomeCtas=this.$elem.data("isNewhome");if(g.wide.matches&&!this.isInitialized){this.isInitialized=!0;if(this.$ctasWrapper)var d=this.$ctasWrapper.offset().top;this.$ctasWrapper.addClass("md-hide-fixed-ctas");this.scrollCtas(d);
b(window).on("scroll."+this.componentId,k.throttle(function(){a.scrollCtas(void 0)}))}c&&!0===c&&this.hideTopCtas();!0===this.isNewHomeCtas&&this.moveCtas()},setTopCtas:function(){this.isTopCtas=this.$elem.closest(".md-navigation").length;var a=this;this.isTopCtas&&(this.initTopCtas(),this.listeners.push(b.subscribe("md:resize",this.initTopCtas.bind(this))),this.listeners.push(b.subscribe("md:mobilenav:open",function(){a.$ctasWrapper.addClass("md-nav-ctas-display")})),this.listeners.push(b.subscribe("md:mobilenav:closed",
function(){a.$ctasWrapper.removeClass("md-nav-ctas-display")})));this.isNewHomeCtas=this.$elem.data("isNewhome");!0===a.isNewHomeCtas&&setTimeout(function(){a.moveCtas()},500)},moveCtas:function(){var a=b(".md-cpiwrapper-area"),c=b(".md-component.md-pop-ie");void 0!==a&&b(a).offset()&&(a=b(a).offset().top,c&&c.is(":visible")&&c.outerHeight()&&(a-=c.outerHeight()),k.browser.isIPad&&(c=b(document).find('.md-component[data-component-name\x3d"teaser"]'))&&0<c.length&&(c=b(c[0]).find(".teaser-title"))&&
0<c.length&&(a-=b(c[0]).height()),this.$navCtas.parent().css({top:a+"px"}));this.$ctas.removeClass("md-hidden-cta-newhome")},setCtasWithReturnUrl:function(){var a=this.$elem.find("a").filter("[data-return-url]");a.length&&a.each(function(a,c){a=b(c);c=a.attr("href").replace(/.html$/gi,"")+".html#returnURL\x3d"+window.location.href;a.attr("href",c)})},setInternals:function(){this.componentId="ctas-"+Math.floor(Math.random()*(new Date).getTime());this.$ctasWrapper=this.$elem.closest(".md-nav-ctas-wrapper");
this.$navCtas=this.$elem.closest(".md-nav-ctas .md-component");this.$ctasNavOffsetTop=void 0;this.$ctas=this.$elem.find(".md-ctas");this.$ctasOverlay=this.$elem.find("a").filter("[data-overlay]");this.$ctasConfigId=this.$elem.find("a").filter("[data-configuration-id]")},attachDloSelectorsToOverlaySource:function(a){var b=this.getSelectorParam("dloPartner"),c=this.getSelectorParam("dloOutlet");void 0!==b&&void 0!==c&&(c="dloPartner_"+b+".dloOutlet_"+c,b=a.data("overlay"),void 0!==b&&(m=a,q=b.settings.source,
a=q.replace("/main.html","/main."+c+".html"),b.settings.source=a))},setLoadAction:function(){var a=k.location.getQueryParams().launchCTA;void 0===a&&(a=this.getCtaSelector());if(void 0!==a&&!n){var c=a,d=void 0,f=a.indexOf("_");-1!==f&&(c=a.substring(0,f),d=a.substring(f+1));a=this.$elem.find('.md-cta [data-form-type\x3d"'+c+'"]');0<a.length&&(a=b(a[0]),a.data("launchCTAInfo",d),a.data("ctaAutoLoaded",!0),n=!0,this.attachDloSelectorsToOverlaySource(a),a.click())}},initListeners:function(){var a=this;
this.listeners.push(b.subscribe("md:currentModel:changed",this.onPageChanged.bind(this)));this.listeners.push(b.subscribe("md:configurator:initialised",this.updateCtasOnConfigurator.bind(this)));this.listeners.push(b.subscribe("h5vco.configurationChanged",function(b){a.vehicleData=b}));this.listeners.push(b.subscribe("md:configurator:unload",this.onConfiguratorUnload.bind(this)));this.listeners.push(b.subscribe("md:content:updated",this.updateCtasItems.bind(this)))},processConfigIdLinks:function(){function a(a,
b,c){var d=new RegExp("([?\x26])"+b+"\x3d.*?(\x26|$)","i"),f=-1!==a.indexOf("?")?"\x26":"?";return a.match(d)?a.replace(d,"$1"+b+"\x3d"+c+"$2"):a+f+b+"\x3d"+c}function c(a){var b=a.indexOf("/_jcr_content/ctas/cta");if(-1===b)return a;var c=a.indexOf(".html",b);return-1==c?a:a=a.substring(0,b)+a.substring(c)}this.$ctasConfigId.each(function(d,f){d=b(f);f=d.data("configuration-id");var e=d.data("form-type");if("none"!==f&&"none"!==e){var g=d.attr("href");g=c(g);g=a(g,"configurationID",f);g=a(g,"configurationCTA",
e);d.attr("href",g)}})},init:function(){this.setInternals();this.processConfigIdLinks();this.setCtasWithReturnUrl();this.setTopCtas();this.$ctasOverlay.length&&this.ctaOverlay(this.$ctasOverlay);this.setLoadAction();this.initListeners()},destroy:function(){k.unsubArray(this.listeners);this.$ctasOverlay.off("click.ctas");b(window).off("scroll."+this.componentId)}};e.ctas={init:t,teardown:r,ctaOverlay:function(a){var b=d.eq(0);b.length&&(b=b.data("ctas"))&&b.ctaOverlay&&b.ctaOverlay(a)},hideTopCtas:function(){d.each(function(a){(a=
d.eq(a).data("ctas"))&&a.isTopCtas&&a.hideTopCtas()})},getCurrentOverlay:v,getCurrentLaunchCTAInfo:function(){var a=v();if(c(a)&&c(a.$elem))return a.$elem.data("launchCTAInfo")},clearCurrentLaunchCTAInfo:function(){var a=v();c(a)&&c(a.$elem)&&a.$elem.removeData("launchCTAInfo")},Ctas:l}})(mini.digital.$,mini.digital.comp,mini.digital.util,mini.digital.util.matchmedia);
(function(){mini.digital.comp.inpagecta=function(b,e){function k(a){function d(){var a=l.getBoundingClientRect().top,c=l.getBoundingClientRect().bottom;(a=0<=a&&c<=window.innerHeight&&b(l).is(":visible"))?t=window.setTimeout(f(),500):window.clearTimeout(t);return a}function f(){var d={eventInfo:{},attributes:{},category:{}},f={attributes:{},category:{},componentInfo:{}};d.eventInfo.eventName="CTA impression";d.eventInfo.eventAction="view";d.eventInfo.eventPoints="";d.eventInfo.timeStamp=Date.now().toString();
d.eventInfo.effect="CTA button visible";e(d);d=a.closest(".md-component");f.attributes.contentHeadline=m;f.componentInfo.componentID=k;f.componentInfo.componentName=q;f.category.primaryCategory="process";f.category.subCategory01="";try{g.updateComponentTracking(d,f,c)}catch(x){console.log(x)}b.unsubscribe(r)}function e(a){var b={eventInfo:{},attributes:{},category:{}};b.eventInfo.cause="default";b.attributes.relatedComponentId=k;b.attributes.relatedComponentName=q;b.attributes.relatedPrimaryCategory=
"process";b.attributes.relatedContentHeadline=m;b.category.primaryCategory="button";b.category.subCategory01="navigation";try{g.addEventTracking(b,a,c)}catch(x){console.log(x)}}var k=a.attr("id"),m=a.parents(".md-component").first().find("h2, h3, h4, h5").text().trim(),q=a.parents(".md-component").first().data("component-name");a.click(function(b){var d={eventInfo:{},attributes:{},category:{}},f={attributes:{},category:{},componentInfo:{}};d.eventInfo.eventName="CTA button click";d.eventInfo.eventAction=
"click";d.eventInfo.eventPoints="";d.eventInfo.timeStamp=Date.now().toString();d.eventInfo.effect="CTA button clicked";d.attributes.CTAButtonWording=b.target.outerText;e(d);b=a.closest(".md-component");f.attributes.contentHeadline=m;f.componentInfo.componentID=k;f.componentInfo.componentName="standard";f.category.primaryCategory="standard";f.category.subCategory01="";try{g.updateComponentTracking(b,f,c)}catch(u){console.log(u)}});var l=a.context,t;var r=b.subscribe("md:scrolled",d);d()}var g={},c=
0;return{init:function(a,b,f,h){a=f(a);(b=a.find("a[data-overlay]"))&&0<b.length&&new e.Ctas(a);h&&(g=h,c=h.getCurrentPageIndex(),"undefined"!=typeof a.data("trackingComponent")&&k(a))}}}(mini.digital.$,mini.digital.comp.ctas)})();(function(){mini.digital.comp.dealerlocator=function(b){var e;return{init:function(k){mini.digital.util.googlemaps.loadGoogleMaps(function(){var g={zoom:5,center:new google.maps.LatLng(55,-2)};e=new google.maps.Map(b(".md-dloc-map",k)[0],g)})},map:e}}(mini.digital.$)})();
(function(){mini.digital.comp.navigation=function(b,e){function k(){e.publish("md:navigation:dlopened")}function g(a){var b=window.location.pathname.match(/\.launchShelf_([^\.]+)\./);b=b?a.find("#md-nav-level1-"+b[1]+'[name\x3d"md-nav-shelves"]'):e([]);a=a.find(".md-nav-show");return b.length?(b.prop("checked",!0),a.prop("checked",!0),!0):!1}function c(a){a.find('input[name\x3d"md-nav-shelves"]:checked').trigger("change");a.find('input[name\x3d"md-nav-shelves"]:checked').trigger("click")}function a(a){a.find(".md-nav-show").prop("checked",
!1);a.trigger("md-nav-statechange");e.publish("md:mobilenav:closed")}function d(a){var b=a.find("[name\x3dmd-nav-shelves]:checked").parent().find(".md-component");v();a.closest(".md-navigation").find(".md-nav-shelves-closed").prop("checked",!0);a.trigger("md-nav-statechange");e.publish("md:navigation:component:closed",[b])}function f(a){var c="focusin.md-nav-focusout-"+a.data("instanceId"),d="click.md-nav-focusout-"+a.data("instanceId");e(document).off(c).on(c,a[0],B);if(b.browser.isMobile)e(document).off(d).on(d,
a[0],B)}function h(a){e(document).off("focusin.md-nav-focusout-"+a.data("instanceId"));b.browser.isMobile&&e(document).off("click.md-nav-focusout-"+a.data("instanceId"))}function n(a){return a.find(".md-nav-show").is(":checked")}function m(a){return a.find(".md-nav-shelves-closed").is(":checked")}function q(a){b.veil.manageVeil("open",a.data("veilProps"),F)}function l(a){b.veil.manageVeil("close",a.data("veilProps"),F)}function t(a){var b=a.find('\x3e [name\x3d"md-nav-shelves"]');b.is(":checked")||
(b.prop("checked",!0),a=a.closest(".md-navigation"),a.trigger("md-nav-statechange"))}function r(a){var b=a.find(".md-nav-item-level1");b.not(":has(.md-nav-shelf)").addClass("md-nav-item-noshelf");b.not(":has(.md-sub-nav)").addClass("md-nav-item-nosubnav");b.each(function(a){a=b.eq(a);""===e.trim(a.html())&&a.remove()})}function v(){b.transitions.syncStart([{selector:".md-nav-shelf, .md-main, .md-footer, .md-header",props:["transform"]}])}function w(a){v();e(a.delegateTarget).trigger("md-nav-statechange")}
function x(a){a=e(a.delegateTarget);for(var b=a.parents(),c=0;c<b.length;c++)if(e(b[c]).hasClass("md-external-share")){F=e(b[c]);break}b=a.find("[name\x3dmd-nav-shelves]:checked").closest(".md-nav-item-level1");a.removeClassRegex(/(^|\s)md-nav-\S+/g);b&&b.length&&(a.addClass("md-nav-shelfopen"),b.hasClass("md-nav-item-nosubnav")&&a.addClass("md-nav-shelfopen-nosubnav"));mini.digital.util.matchmedia.wide.matches?m(a)?l(a):q(a):n(a)?(q(a),e(".md-dealerpages-v2 header.md-js-header").toggleClass("open-nav",
!0)):(l(a),e(".md-dealerpages-v2 header.md-js-header").toggleClass("open-nav",!1));mini.digital.util.matchmedia.wide.matches?m(a)?h(a):f(a):n(a)?f(a):h(a);e.publish("md:navigation:toplevelclicked")}function u(a){var b=e(a.delegateTarget);b.find("#"+e(a.target).attr("for")).is(":checked")?(d(b),a.preventDefault()):e.publish("md:mobilenav:open")}function y(a){a=e(a.delegateTarget);if(m(a)){var b=a.find(".md-nav \x3e li:first-child \x3e .md-nav-item-link");b.is("label")?(a.find('[name\x3d"md-nav-shelves"]').not(".md-nav-shelves-closed").first().prop("checked",
!0).focus(),a.trigger("md-nav-statechange")):b.focus()}}function B(b){var c=b.data;var f=e(b.target);if(!(f.hasClass("md-cs-selector-nav")&&f.hasClass("md-cs-nav-next")&&f.hasClass("md-icn-angle-right")&&f.hasClass("md-newhome-next")||0<f.closest(".md-myminishelf").length||f.closest(".md-custom-layer").length&&f.closest(".md-custom-layer").hasClass("md-enabled")||!f.closest(".md-body").length||f.closest(".md-custom-overlay").length||f.hasClass("md-nav-item-link")))if(f.closest(c).length)f.closest('.md-nav, .md-nav-title, input[name\x3d"md-nav-show"], input[name\x3d"md-nav-shelves"]').length||
d(e(c));else if("focusin"!==b.type||b.target!==document.body)a(e(c)),d(e(c))}function z(a){t(e(a.target).closest(".md-nav-item-level1"))}function C(a){a=e(a.delegateTarget);t(a.find(".md-nav-item-level1.current"));a.trigger("md-nav-statechange");e.publish("md:mobilenav:open")}function A(a){a=e(a.delegateTarget);e.publish("md:mobilenav:closed");d(a)}function D(a){a=e(a.target).parent().children(".md-nav-shelf");a.is(".md-component-defer")&&(a.removeClass("md-component-defer"),mini.digital.util.initialise(a))}
var H=0,F=void 0;return{init:function(b){var f=!1,h=e(b),l=++H,q={zIndex:8,id:"nav-veil-"+l};h.data("veilProps",q);h.data("instanceId",l);r(h);h.on("change",'input[name\x3d"md-nav-shelves"]',w).on("click focus",".md-nav-item-level1 \x3e label",u).on("focusin",".md-nav-item-level1 .md-nav-shelf",z).on("change",'input[name\x3d"md-nav-show"]:checked',C).on("change",'input[name\x3d"md-nav-show"]:not(:checked)',A).on("focus",".md-nav-shelves-closed",y).on("md-nav-statechange",x);e('input[name\x3d"md-nav-shelves"]:not(.md-nav-shelves-closed)',
b).one("click",D);h.find(".md-form-gcdm-dealerlocator").parents(".md-nav-item-level1").find("\x3e input").click(k);mini.digital.util.matchmedia.wide.addListener(function(){h.trigger("md-nav-statechange")});e.subscribe("md:veil:click",function(b){b.id===q.id&&(a(h),d(h))});e.subscribe("md:ht:mouseenter",function(){h.addClass("md-disabled-hover")});e.subscribe("md:ht:click",function(){h.addClass("md-disabled-persist")});e.subscribe("md:ht:mouseleave",function(){h.removeClass("md-disabled-hover")});
e.subscribe("md:mymini:closed",function(){h.removeClass("md-disabled-persist")});n(h)&&(C({delegateTarget:h}),f=!0);m(h)||(c(h),f=!0);g(h)&&(C({delegateTarget:h}),c(h),f=!0);f&&h.trigger("md-nav-statechange");e.subscribe("md:customselector:carousel:switch",function(a){h.length&&a&&"boolean"===typeof a.isCampaign&&h.find(".md-nav-item-level1:first-child").toggleClass("md-nav-item-current",a.isCampaign)});"true"!=h.attr("data-md-navigation-newlayout")||h.hasClass("md-navigation-edit")||"undefined"!==
typeof mini.digital.comp.navigation.setReworkStyles&&mini.digital.comp.navigation.setReworkStyles(h);"undefined"!==typeof mini.digital.comp.navigation.Tracking&&new mini.digital.comp.navigation.Tracking(h)},ensureOpen:t,closeShelves:d,isShelfOpen:function(a){return a.find('\x3e [name\x3d"md-nav-shelves"]').is(":checked")}}}(mini.digital.util,mini.digital.$)})();
(function(){mini.digital.comp.footerlinks=function(b,e,k){function g(a){var c=b(a.currentTarget).parent().children(r.pageSplit);c.is(r.componentDefer)&&(c.removeClass(r.componentDefer.substr(1)),e.initialise(c));a.preventDefault()}function c(a){(a.sandbox&&a.sandbox.find(a.selectorElem)).each(function(c,d){c=b(d);d=c.prev(a.selectorToggle);var f;d.one("click",g);(f=c.data("pagesplit"))&&f.destroy&&f.destroy();if(l&&d.hasClass(r.linkOverlay.substr(1)))return!0;a.props.toggleLink=d;c.pagesplit(a.props,
t)})}function a(a){var b=a.data("overlay");b&&b.destroy&&b.destroy();a.off("click.click-md-footer-link-overlay")}function d(a){var c=b(a.currentTarget).data("overlay");c&&c.toggleOverlay&&c.toggleOverlay(a);a.preventDefault()}function f(c){c.find(r.linkOverlay).each(function(c,f){c=b(f);f=c.next(r.footerShelf);a(c);c.overlay({source:f,initialiseSource:!0});c.on("click.click-md-footer-link-overlay",d)})}function h(c){c.find(r.linkOverlay).each(function(c,d){a(b(d))})}function n(a){(l=!e.matchmedia.wide.matches)?
(c({sandbox:a,selectorElem:r.footerShelf,selectorToggle:r.footerLinkShelf,props:{veil:!0,direction:"both",key:"footer",level:1}}),f(a)):(c({sandbox:a,selectorElem:r.footerShelf,selectorToggle:r.footerLinkShelf,props:{veil:!0,direction:"up",key:"footer",level:1}}),h(a))}function m(){n(q)}var q={},l=!1,t=null,r={pageSplit:".md-pagesplit",componentDefer:".md-component-defer",linkOverlay:".md-footer-link-overlay",footerShelf:".md-footer-shelf",footerLinkShelf:".md-footer-link-shelf",footerList:".md-footer-links-list"};
return{init:function(a){q=b(a);t=b(q).closest(".md-external-share");n(q);b.subscribe("md:resize",m)},openShelf:function(a){var b=a.find(r.footerShelf);a.parents(r.footerList).find(r.footerShelf).removeClass("md-footer-edit-open");a.find(r.pageSplit).is(r.componentDefer)&&(b.removeClass(r.componentDefer.substr(1)),e.initialise(b));b.addClass("md-footer-edit-open")},closeShelf:function(a){a.find(r.footerShelf).removeClass("md-footer-edit-open")},isShelfOpen:function(a){return a.find(r.footerShelf).hasClass("md-footer-edit-open")}}}(mini.digital.$,
mini.digital.util)})();
(function(){mini.digital.comp.keystats=function(b,e){function k(a){a=b.trim((a+"").replace(/,/g,".")).split(" - ");return{left:g(1*a[0],!1),right:a[1]?g(1*a[1]):0}}function g(b,c){b*=1;var d=b.toFixed(1);return 100<=b||-1<d.indexOf(".0")?Math.floor(d):c&&"."!==a?e.formatDecimal(d,a):d}var c=[],a;return{init:function(d){var f=b(d),e=f.find(".md-js-rating-data"),n=f.find(".md-js-ks-ratings"),m=f.find(".md-js-ks-toggle"),q=m.data("toggle-type");f.find(".md-chart-co2");a=b(".md-decimal-char").length&&b(".md-decimal-char").filter(":first").data("decimalSeparator");
f.on("click",".md-js-tooltip-trigger",function(){b(this).closest(".md-ks-desc").toggleClass("md-hide-tooltip");if(Modernizr.touch){b(this).next().css("display","none");var a=b(this).next()[0].offsetHeight;(a||0===a)&&b(this).next().css("display","")}return!1}).find(".md-ks-desc").each(function(a,c){b(c).find(".md-tooltip").addClass("md-tooltip-loaded");b(c).find(".md-tooltip").length&&b(c).addClass("md-hide-tooltip")});c.push(b.subscribe("md:toggle:update",function(a){var c=a.value.toLowerCase(),
d=e.data("rating-max-"+c),h=e.data("rating-min-"+c);if(a.type&&a.type===q){n.attr("data-rating",d).find(".md-chart-co2-current").text(d);f.find(".md-js-efficiency-rating").each(function(a){"max"==b(this).attr("data-co2-type")&&b(this).attr("data-co2",d).text(d);"min"==b(this).attr("data-co2-type")&&b(this).attr("data-co2",h).text(h)});var l=f.find(".md-js-efficiency-rating[data-co2-type\x3dmin]"),m=f.find(".md-js-efficiency-rating[data-co2-type\x3dmax]"),u=f.find("span[data-co2-rangeindicator]");
null!=u&&(h!=d&&void 0!=d&&null!=d&&void 0!=h&&null!=h?u.show():u.hide());h!=d?l.show():(l.hide(),m.show());f.find(".md-js-ks-val").each(function(d,f){var e=b(f);d=k(e.data("val-currmeasure"));var h=e.data("val-"+c),l=k(e.data("val-"+c));e.closest(".md-ks-desc").find(".md-js-ks-tt-val").text(e.data("val-"+a.value.toLowerCase()));b({someValue:+d.left}).animate({someValue:+l.left},{duration:600,easing:"swing",step:function(){var a=l.right/l.left,b=(a=l.right?g(this.someValue*a,!0):"")?" - ":"";e.text(g(this.someValue,
!0)+b+a)},complete:function(){e.data("val-currmeasure",h)}})});f.find(".md-js-ks-img").each(function(a,d){a=b(d);d=a.data("val-"+c);a.find("img").attr("src",d)})}}));c.push(b.subscribe("md:currentModel:changed",function(a){m.find('input[value\x3d"'+a.transmission+'"]').click()}))},teardown:function(){for(;c.length;)b.unsubscribe(c.pop())}}}(mini.digital.$,mini.digital.util)})();
(function(){mini.digital.comp.parallax=mini.digital.comp.parallax||{};mini.digital.comp.parallax.customiser=mini.digital.comp.parallax.customiser||{};mini.digital.comp.parallax.customiser.templates=mini.digital.comp.parallax.customiser.templates||{};mini.digital.comp.parallax=function(){return{init:function(){},instances:{}}}()})();
(function(){mini.digital.tracking.customselector=function(b){var e,k,g=-1,c="";return{init:function(a,d){e=a;k=d;c=b(d).attr("id");b(d).data("component-name")},addCurrentEvent:function(a,d){if(!e.isTrackingDisabled()&&(e&&(g=e.getCurrentPageIndex()),-1===g&&(g=b(k).data("tracking-page-index")),-1<g)){var f={};b.extend(f,{eventInfo:{eventName:"",eventAction:"click",timeStamp:"",cause:"default",effect:"",eventPoints:""},category:{primaryCategory:"CustomerSelector",subCategory01:""},attributes:{relatedComponentID:c,
relatedComponentName:"CustomerSelector",relatedComponentPrimaryCategory:"process"}});f.eventInfo.timeStamp=Date.now();f.eventInfo.eventName=a.name;f.eventInfo.effect=a.effect;d&&b.extend(f.attributes,d);e.addEventTracking(f,f,g)}},events:{CONFIGURATOR_START:{name:"configurator start",effect:"start of configuration process"},CHOOSE_BODY_TYPE:{name:"choose body type",effect:"body type selected"},CHOOSE_MODEL_TYPE:{name:"choose model type",effect:"modelType selected"},CHOOSE_TRANSMISSION:{name:"choose transmission",
effect:"transmission selected"}}}}(mini.digital.$)})();mini.digital.comp.customselector=mini.digital.comp.customselector||{};
(function(){mini.digital.comp.customselector.common={selector:{selectorComponent:".md-custom-selector",selectorLevel1:"md-cs-selector-level1",selectorLevel2:"md-cs-selector-level2",selectorPrevious:".md-cs-nav-previous",selectorNext:".md-cs-nav-next",selectorNavigation:".md-cs-selector-nav",selectorPagination:".md-cs-carousel-pagination",selectorPaginationLink:".md-cs-pagination-link",selectorPaginationTooltip:".md-cs-pagination-tooltip",selectorChildren:".md-cs-carousel-item",selectorChildrenWrap:".md-cs-item-wrap",
selectorWrap:".md-cs-carousel-wrap",selectorChangeState:".md-cs-carousel-change-state",selectorChangeStateWide:".md-cs-carousel-change-state-large",selectorImage:".md-cs-item-image",selectorInfoImage:".md-cs-info-child",childrenActive:".md-cs-carousel-item-active",selectorFrame:".md-cs-frame",selectorInnerFrame:".md-cs-inner-frame",selectorFrameSingle:".md-cs-frame-single",selectorReturnToParent:".md-return-to-parent",selectorReturnLabel:".md-return-label",selectorQuickLink:".md-cs-quick-link",selectorReturnShortcut:".md-return-shortcut",
selectorReturnEnabled:".md-return-enabled",selectorReturnShortcutEnabled:".md-return-shortcut-enabled",selectorReturnShortcutLabel:".md-cs-return-body-type",selectorInfoArea:".md-cs-info-area",selectorInfoAreaParent:".md-cs-info-parent",selectorLoading:".md-cs-loading-indicator",selectorAccordion:".md-cs-selector-accordion",selectorAccordionToggle:".md-cs-accordion-toggle",selectorAccordionContent:".md-cs-accordion-content",selectorAccordionRow:".md-cs-accordion-row",selectorAccordionBtnModels:".md-cs-btn-view-models",
selectorAccordionBtnRange:".md-cs-btn-view-range",selectorLevel1Carousel:".md-cs-selector-level1 .md-cs-carousel",selectorLevel2Carousel:".md-cs-selector-level2 .md-cs-carousel",selectorCarouselContainer:".md-cs-carousel-container",selectorCarousel:".md-cs-carousel",selectorConfigureCar:".md-btn-configure",selectorAccordionCtas:".md-cs-accordion-ctas",selectorAccordionCtasWrapper:".md-cs-accordion-ctas-wrapper",selectorAccordionCtasContent:".md-cs-accordion-ctas-content",selectorAccordionCtasBtn:".md-js-cs-accordion-ctas-btn",
selectorAccordionCampaign:".md-cs-accordion-campaign",selectorAssembled:".md-cs-assembled",selectorAssembledWrap:".md-cs-assembled-wrap",selectorAccordionActive:".md-cs-accordion-active",responsiveImage:".md-rimage"},cssClass:{move:"md-cs-carousel-move",noTransition:"md-cs-no-transition",immediateTransition:"md-cs-immediate-transition",largeState:"md-cs-carousel-large",smallState:"md-cs-carousel-small",toggle:"md-cs-carousel-toggle",hiddenView:"md-cs-carousel-hidden-view",paginationActive:"md-cs-pagination-link-active",
tooltipActive:"md-cs-pagination-tooltip-active",childrenActive:"md-cs-carousel-item-active",fadeTransition:"md-cs-transition-fade",transition:"md-cs-transition",carouseItem:"md-cs-carousel-item",childrenWrap:"md-cs-item-wrap",inMotion:"md-cs-in-motion",wrap:"md-cs-carousel-wrap",navHidden:"md-cs-nav-hidden",returnEnabled:"md-return-enabled",returnShortcutEnabled:"md-return-shortcut-enabled",pageRequested:"md-cs-page-requested",specialEdition:"md-cs-special-edition",quickLink:"md-link-to-body-type",
loadingActive:"md-cs-loading-active",image:"md-cs-item-image",accordion:"md-cs-selector-accordion",accordionMove:"md-cs-accordion-move",accordionActive:"md-cs-accordion-active",accordionDelayActive:"md-cs-accordion-delay-active",accordionActiveLevel1:"md-cs-accordion-active-level1",accordionActiveLevel2:"md-cs-accordion-active-level2",isHidden:"md-cs-is-hidden",isVisible:"md-cs-is-visible",hiddenFromView:"md-cs-hidden-from-view",accordionCtasMove:"md-cs-accordion-ctas-move",assembledMultiple:"md-cs-assembled-multiple",
assembledNoTransition:"md-cs-assembled-no-transition",componentDefer:"md-component-defer",componentHidden:"md-custom-selector-hidden",newHomePageNext:"md-newhome-next"},events:{resize:"md:resize",move:"md:customselector:move",moveComplete:"md:customselector:move:complete",toggle:"md:customselector:toggle",toggleComplete:"md:customselector:toggle:complete",changeState:"md:customselector:state",initialized:"md:customselector:initialized",loadingRequests:"md:customselector:loading:requests",loadingAdd:"md:customselector:loading:add",
loadingRemove:"md:customselector:loading:remove",noTransitionAdd:"md:customselector:notransition:add",noTransitionRemove:"md:customselector:notransition:remove",frameChangeLayout:"md:customselector:frame:change",accordionBody:"md:customselector:accordion:body",accordionModel:"md:customselector:accordion:model",accordionBodyStart:"md:customselector:accordion:body:start",accordionModelStart:"md:customselector:accordion:model:start",carouselLarge:"md:customselector:carouselLarge",carouselSmall:"md:customselector:carouselSmall",
carouselDimensions:"md:customselector:carouselDimensions",carouselReset:"md:customselector:carouselReset",backToJourney:"md:customselector:carouselBackToJourney",accordionBtnShow:"md:customselector:accordionBtn:show",updateAccordionBtns:"md:customselector:accordionBtn:update",delayChangeState:"md:customselector:state:delay",carouselCacheCheck:"md:customselector:carousel:cache:check",carouselCacheChecked:"md:customselector:carousel:cache:checked",navigateInitialise:"md:customselector:carousel:navigate:initialise",
navigateComplete:"md:customselector:carousel:navigate:complete",navigateRequest:"md:customselector:carousel:navigate:request",navigateRequestToModel:"md:customselector:carousel:navigate:model:request",navigateByQuickLink:"md:customselector:carousel:navigate:quickLink",navigateByReturnShortcut:"md:customselector:carousel:navigate:returnShortcut",layoutChange:"md:customselector:layout:change",configuratorInitialise:"md:configurator:initialise",configuratorInitialised:"md:configurator:initialised",configuratorLoading:"md:configurator:loading",
configuratorChangeModel:"md:configurator:changemodel",configuratorUnload:"md:configurator:unload",broadcastStart:"md:customselector:broadcast:start",priceFinanceInitialised:"md:pricefinance:initialised",disableRender:"md:customselector:disable:render",carouselSwitch:"md:customselector:carousel:switch",trasmissionOverlay:"md:transmissiondriveselector:transmission",manageRunning:"md:cs-carousel:stop",imageRefresh:"md:responsiveImage:afterRefresh",navigateToNextStage:"md:navigate:to:next:stage"},resolution:{mobile:767},
maxAccordionHeight:467,maxModelHeight:589,ratioProps:{selectorLevel1:{middle:{large:{percentil:100,ratio:{width:16,height:10.2}},small:{percentil:33,ratio:{width:6,height:1.9}}},wide:{large:{percentil:100,ratio:{width:16,height:5.25}},small:{percentil:33,ratio:{width:6,height:1.9}}},narrow:{large:{percentil:100,ratio:{width:6,height:4.3}},small:{percentil:100,ratio:{width:6,height:5.5}}}},selectorLevel2:{middle:{large:{percentil:100,ratio:{width:16,height:10.8}},small:{percentil:33.33,ratio:{width:6,
height:1.85}}},wide:{large:{percentil:100,ratio:{width:16,height:6.65}},small:{percentil:33.33,ratio:{width:6,height:1.65}}},narrow:{large:{percentil:100,ratio:{width:6,height:5.5}},small:{percentil:100,ratio:{width:6,height:5.5}}}},selectorCampaign:{middle:{large:{percentil:100,ratio:{width:16,height:10.8}},small:{percentil:33.33,ratio:{width:6,height:1.85}}},wide:{large:{percentil:100,ratio:{width:16,height:6.65}},small:{percentil:33.33,ratio:{width:6,height:1.65}}},narrow:{large:{percentil:100,
ratio:{width:6,height:4.5}},small:{percentil:100,ratio:{width:6,height:5.5}}}},selectorNewHomepage:{middle:{large:{percentil:100,ratio:{width:16,height:5.8}},small:{percentil:33,ratio:{width:6,height:1.9}}},wide:{large:{percentil:100,ratio:{width:16,height:5.19}},small:{percentil:33,ratio:{width:6,height:1.9}}},narrow:{large:{percentil:100,ratio:{width:6,height:4.5}},small:{percentil:100,ratio:{width:6,height:5.5}}}}}}})();
(function(){mini.digital.comp.customselector.loadingIndicator=function(b,e){var k=[],g={},c=[],a=mini.digital.comp.customselector.common.events,d=mini.digital.comp.customselector.common.cssClass,f={},h=mini.digital.comp.customselector.common.selector.selectorLoading,n=function(a){!0===a?f.addClass(d.loadingActive):f.removeClass(d.loadingActive)},m=function(a){k.push(a);g=window.setTimeout(function(){0<k.length&&n(!0)},300)},q=function(a){-1!==b.inArray(a,k)&&(k=b.grep(k,function(b){return b!==a}));
0===k.length&&(window.clearTimeout(g),n(!1))},l=function(){for(;c.length;)b.unsubscribe(c.pop())};return{init:function(d){f=b(d).find(h);l();c.push(b.subscribe(a.loadingAdd,m));c.push(b.subscribe(a.loadingRemove,q))},teardown:l,loadingRemove:q}}(mini.digital.$)})();
(function(){mini.digital.comp.customselector.requestManager=function(b,e){var k={},g=function(b){b=(b||"").split("/");for(var a,c=0,f=b.length;c<f;c++)a=b[c].split("."),2===a.length&&(b[c]=b[c].replace(".html","/_jcr_content/main/customselector.html?wcmmode\x3ddisabled")),2<a.length&&(a[0]+="/_jcr_content/main/customselector",b[c]=a.join("."));return b.join("/")};return{cache:k,getPartial:function(c,a){var d=b.Deferred();c=g(c);var f,e,n;0===c.length?d.reject():window.mini.digital.util.request.get(c,
"html").then(function(c){"i0"===a?(k[a]=c,f=b(c),e=f.find(mini.digital.comp.customselector.common.selector.selectorChildren).eq(0),n=e.data("itemCode"),k[n]||(k[n]=c)):k[a]=c;d.resolve(c)});return d.promise()},storeData:function(b,a){k[b]=a}}}(mini.digital.$)})();
(function(){mini.digital.comp.customselector.frameManager=function(b,e){var k={},g={},c=mini.digital.comp.customselector.common.events,a=mini.digital.comp.customselector.common.selector,d=mini.digital.comp.customselector.common.cssClass,f=mini.digital.comp.customselector.common.resolution.mobile,h=[],n=!1,m=!1,q=a.selectorLevel1,l=a.selectorLevel2,t=a.selectorChildren,r=a.selectorFrame,v=a.selectorInnerFrame,w=a.selectorFrameSingle,x=a.selectorInfoArea,u=a.childrenActive,y=function(b){if("JCW"!==
b.data("bodytype-code")){var c=b.find(v),f=b.find(x),e=b.find(a.selectorInfoAreaParent),g=b.width(),h=f.outerWidth(!0),l=f.outerHeight(!0),k=2*parseInt(f.css("paddingRight"),10)+e.outerWidth(!0);f={};e=b.find(".sf-snippet").height();h=h>=k?h:k;h=h>g?g:h;f.height=l+(e?0:22);b.hasClass(d.specialEdition)||(f.width=h);c.css(f)}},B=function(){g.find("."+l+" "+t).each(function(){y(b(this))})},z=function(a){var b=g.find("."+a+" "+r),c=g.find("."+a+" "+w);a=g.find("."+a+" "+t).filter(u);b.css({"border-color":a.find(v).css("border-color")});
c.css({background:a.find(v).css("background")})},C=function(){var a=k.find(".md-cs-accordion-active").find(t).filter(u);a.data("customColour")?a.find(".md-cs-item-bottom-frame").css({"background-color":a.data("customColour")}):a.find(".md-cs-item-bottom-frame").css({"background-color":"transparent"})},A=function(){n?(z(q),z(l)):B();C()},D=function(){n||B()},H=function(a){n&&a.selectorLevel===q&&z(l)},F=function(a){n?z(a.selectorLevel):(a.selectorLevel===l&&(a=g.find("."+l+" "+t).filter('[data-item-code\x3d"'+
a.code+'"]'),y(a)),C())},G=function(){n=Modernizr.mq("only screen and (max-width: "+f+"px)")},K=function(){for(;h.length;)b.unsubscribe(h.pop())};return{init:function(d){m=!!b(d).find(a.selectorAccordionCampaign).length;m||(G(),k=b(d),g=k.find(a.selectorAccordion).not(a.selectorAccordionCampaign),K(),h.push(b.subscribe(c.resize,G)),h.push(b.subscribe(c.initialized,A)),h.push(b.subscribe(c.carouselDimensions,A)),h.push(b.subscribe(c.move,F)),h.push(b.subscribe(c.moveComplete,H)),h.push(b.subscribe(c.frameChangeLayout,
D)),h.push(b.subscribe(c.priceFinanceInitialised,D)))},teardown:K}}(mini.digital.$)})();
(function(){mini.digital.comp.customselector.accordionButtonsManager=function(b,e){var k={},g={},c={},a={},d=mini.digital.comp.customselector.common.events,f=mini.digital.comp.customselector.common.selector,h=[],n=!1,m="."+f.selectorLevel1,q="."+f.selectorLevel2,l=f.selectorAccordionToggle+" .md-btn",t=function(d){var f=b(window.mini.digital.comp.customselector.requestManager.cache[d.code]);d=f.find(m+" "+l);f=f.find(q+" "+l);d.length&&c.text(d.text());f.length&&a.text(f.text())},r=function(a){a.selectorLevel===
m.substr(1)&&t(a);a.modelCode&&(a.code=a.modelCode,t(a))},v=function(){for(;h.length;)b.unsubscribe(h.pop())};return{init:function(e){n=!!b(e).find(f.selectorAccordionCampaign).length;n||(k=b(e),g=k.find(f.selectorAccordion).not(f.selectorAccordionCampaign),c=g.find(m+" "+l),a=g.find(q+" "+l),v(),h.push(b.subscribe(d.move,r)),h.push(b.subscribe(d.navigateByQuickLink,r)),h.push(b.subscribe(d.updateAccordionBtns,t)))},teardown:v}}(mini.digital.$)})();
(function(){mini.digital.comp.customselector.accordionCtasManager=function(b,e,k){var g={},c={},a={},d={},f={},h={},n=!e.wide.matches,m=!1,q=!1,l=0,t=[],r="",v=mini.digital.comp.customselector.common.selector,w=mini.digital.comp.customselector.common.events,x=mini.digital.comp.customselector.common.cssClass,u=function(){m=(n=!e.wide.matches)?m:!1;l=a.children().height();var b=0;n&&(b=m?l:0);a.css("height",b);b="0";n&&(b=m?"0":l+"px");d.css("transform","translateY("+b+")")},y=function(a){f=a.find(v.selectorConfigureCar+
","+v.selectorQuickLink);a=f.hasClass(v.selectorConfigureCar.substr(1))?"md-btn-large":"md-btn-alt";f.length?h.empty().html(f.html()).attr("data-item-code",f.attr("data-item-code")).attr("data-availabletransmissions",f.attr("data-availabletransmissions")).removeClass("md-btn-large md-btn-alt md-btn-large-hidden").addClass(a):h.addClass("md-btn-large-hidden")},B=function(a){f.trigger("click");a.preventDefault()},z=function(){if(n){if(c.hasClass(x.accordionActiveLevel2)){r=v.selectorLevel2;m=!0;var b=
c.find(v.selectorLevel2Carousel+" "+v.childrenActive);y(b)}u()}a.addClass(x.accordionCtasMove)},C=function(a){if(n&&a&&a.selector){r=a.selector;if(a.selector===v.selectorLevel2&&!a.initialShow){var b=c.find(v.selectorLevel2Carousel+" "+v.childrenActive);y(b);m=!0;u()}a.selector===v.selectorLevel1&&(m=!1,u())}},A=function(){n&&(m=!1,u())},D=function(a){a&&a.code&&a.url&&r===v.selectorLevel2&&(a=c.find(v.selectorLevel2Carousel+" "+v.selectorChildren+"[data-item-code\x3d"+a.code+"]"),y(a),u())},H=function(){if((n=
!e.wide.matches)&&c.hasClass(x.accordionActiveLevel2)){var a=c.find(v.selectorLevel2Carousel+" "+v.childrenActive);a&&0<a.length&&y(a);m=!0}u()},F=function(){for(;t.length;)b.unsubscribe(t.pop())};return{init:function(f){q=!!b(f).find(v.selectorAccordionCampaign).length;q||(g=b(f),c=g.find(v.selectorAccordion).not(v.selectorAccordionCampaign),a=g.find(v.selectorAccordionCtas),d=a.find(v.selectorAccordionCtasWrapper),a.find(v.selectorAccordionCtasContent),h=a.find(v.selectorAccordionCtasBtn),a.on("click",
v.selectorAccordionCtasBtn,B),F(),t.push(b.subscribe(w.resize,H)),t.push(b.subscribe(w.accordionBtnShow,C)),t.push(b.subscribe(w.initialized,z)),t.push(b.subscribe(w.accordionBodyStart,A)),t.push(b.subscribe(w.broadcastStart,D)))},teardown:F}}(mini.digital.$,mini.digital.util.matchmedia)})();
(function(b,e){var k=function(b){this.base=b;this.subscribes=[];this.init.apply(this)};k.prototype={manageRunning:function(b){this.base.running=b},initListeners:function(){this.teardown();this.subscribes.push(b.subscribe(this.base.events.manageRunning,this.base.bind(this,"manageRunning")))},teardown:function(){for(;this.subscribes.length;)b.unsubscribe(this.subscribes.pop())},init:function(){this.initListeners()}};e.modRunning=k})(mini.digital.$,mini.digital.comp.customselector=mini.digital.comp.customselector||
{});
(function(b,e,k,g){g=function(b){this.base=b;this.cssTransformProperty=Modernizr.csstransforms3d?Modernizr.prefixed("transform"):"left";this.cssTransformValue=Modernizr.csstransforms3d?"translateX(-%spx)":"-%spx";this.subscribes=[];this.init.apply(this)};g.prototype={manageRequestDom:function(){var c=b.Deferred();this.manageBaseDom().then(function(){c.resolve()});this.base.manageGoTo();return c.promise()},manageBaseDom:function(){var c=b.Deferred(),a=b(e.requestManager.cache[this.base.requestProps.code]),d=
a.find("."+this.base.settings.selectorLevel+" "+this.base.selector.selectorChildren),f=this.base.getTotalWidth();d.width(this.base.childrenWidth);this.base.$children.width(this.base.childrenWidth);this.base.$wrap.width(f*this.base.childrenWidth);e.requestManager.cache[this.base.requestProps.code]=a.html();this.manageReplaceDom();this.base.setPaginationCode(this.base.requestProps.code);this.base.manageLinks();b.publish(this.base.events.loadingRemove,[this.base.events.loadingRequests]);c.resolve();
return c.promise()},manageReplaceDom:function(){var c=b(e.requestManager.cache[this.base.requestProps.code]).find("."+this.base.settings.selectorLevel+" "+this.base.selector.selectorChildren),a=this.base.getPaginationIndexToAppend(this.base.requestProps.code),d=this.base.$children.filter('[data-item-code\x3d"'+this.base.requestProps.code+'"]'),f=d.length?!0:!1;if(this.base.direction)f?d.replaceWith(c):-1===a.index?this.base.$wrap.append(c):this.base.$children.eq(a.index).after(c);else{var g=f?this.base.current:
this.base.current+1;g=this.base.getCarouselPosition(g);this.base.modules.modNoTransition.addItemToQueue("manageReplaceDom");this.base.redrawPage(this.base.$wrap[0]);f?d.replaceWith(c):-1===a.index?this.base.$wrap.append(c):this.base.$children.eq(a.index).before(c);this.base.$wrap.css(this.cssTransformProperty,this.cssTransformValue.replace("%s",g)).data("positionX",g);this.base.redrawPage(this.base.$wrap[0]);this.base.modules.modNoTransition.removeItemFromQueue("manageReplaceDom")}this.base.setInternals();
this.base.setDisplay();k.initialise(c);this.base.$children.filter('[data-item-code\x3d"'+this.base.requestProps.code+'"]').addClass(this.base.cssClass.pageRequested);this.base.setChildrenImage();b.publish(this.base.events.layoutChange,[{level:"all"}])},manageLevel2Dom:function(c){var a=b(e.requestManager.cache[c.code]);c=a.find(".md-cs-selector-level2 "+this.base.selector.selectorChildren);a=a.find(".md-cs-selector-level2 "+this.base.selector.selectorPagination);k.initialise(c);this.base.$wrap.empty().width(c.length*
this.base.childrenWidth).append(c);this.base.$pagination.replaceWith(a);b.publish(this.base.events.layoutChange,[{level:"2"}])},manageBackToJourney:function(b){"undefined"===typeof b.url&&"undefined"===typeof b.code||b.selectorLevel!==this.base.settings.selectorLevel||(b.selectorLevel===this.base.selector.selectorLevel1&&this.backToChangeLevel1(b),b.selectorLevel===this.base.selector.selectorLevel2&&this.backToChangeLevel2(b))},backToChangeLevel1:function(c){var a=this,d=a.base;d.requestProps.url=
c.url;d.requestProps.code=c.code;a.manageRequest(c.url,c.code).then(function(){var f=b(e.requestManager.cache[c.code]).find("."+c.selectorLevel);d.modules.modNoTransition.addItemToQueue("backToChangeLevel1");d.redrawPage(d.$wrap[0]);d.$pagination.replaceWith(f.find(d.selector.selectorPagination));a.manageBaseDom();d.current=d.$children.filter('[data-item-code\x3d"'+c.code+'"]').index();d.$current=d.$children.filter('[data-item-code\x3d"'+c.code+'"]');d.manageDrawComponent();d.redrawPage(d.$wrap[0]);
d.modules.modNoTransition.removeItemFromQueue("backToChangeLevel1");c.selectorLevel=d.selector.selectorLevel2;d.running=!1;b.publish(d.events.backToJourney,[c])})},backToChangeLevel2:function(c){this.base.modules.modNoTransition.addItemToQueue("backToChangeLevel2");this.base.$children.eq(this.base.current).clone(!0);this.base.isCarouselMove=!1;this.manageLevel2Dom(c);this.base.manageDrawComponent();var a=this.base.$children.filter('[data-item-code\x3d"'+this.base.requestProps.code+'"]');this.base.current=
a.length?a.index():0;this.base.$children=this.base.$elem.find(this.base.selector.selectorChildren);this.base.managePaginationState();this.base.setPosition();this.base.redrawPage(this.base.$wrap[0]);this.base.modules.modNoTransition.removeItemFromQueue("backToChangeLevel2");this.base.running=!1;c.selectorLevel=this.base.selector.selectorLevel2;c.code=this.base.requestProps.code;c.url=this.base.requestProps.url;this.base.isNarrow?b.publish(this.base.events.delayChangeState,[c]):b.publish(this.base.events.changeState,
[c])},manageCachedItem:function(c){if(c.selectorLevel===this.base.settings.selectorLevel){var a=this.base.$children.eq(c.index);this.base.resetPosition();this.base.setChildCurrent();this.base.noRequestsNavigation=!0;this.base.requestProps.code=a.attr("data-item-code");this.base.requestProps.url=a.attr("data-url");this.base.managePaginationState();this.base.manageNavigationStateNoRequests();b.publish(this.base.events.carouselCacheChecked,[c])}},setCached:function(c,a){var d=this.base,f=b.Deferred(),
g=c||0,k=d.$children.eq(g).attr("data-url"),m=d.$children.eq(g).attr("data-item-code");c=d.$children.length-1;var q={};if(a){if(d.options.isCampaign)for(;0<=c;c--)q=b(d.$children[c]),e.requestManager.storeData(q.data("itemCode"),q.html());else e.requestManager.cache[m]||e.requestManager.storeData(m,d.$elem.closest('[data-component-name\x3d"customselector"]').html());d.requestProps.url=k;d.requestProps.code=m;d.$children.eq(g).addClass(d.cssClass.pageRequested);f.resolve()}else"large"===d.state&&e.requestManager.getPartial(k,
m).then(function(){d.requestProps.url=k;d.requestProps.code=m;d.$children.eq(g).addClass(d.cssClass.pageRequested);d.setPaginationCode(m);f.resolve()});return f.promise()},manageRequest:function(c,a){var d=b.Deferred();this.base.running=!0;b.publish(this.base.events.loadingAdd,[this.base.events.loadingRequests]);e.requestManager.getPartial(c,a).then(function(){d.resolve()});return d.promise()},render:function(){0<this.base.$children.length&&this.setCached()},initListeners:function(){this.teardown();
this.subscribes.push(b.subscribe(this.base.events.backToJourney,this.base.bind(this,"manageBackToJourney")));this.subscribes.push(b.subscribe(this.base.events.carouselCacheCheck,this.base.bind(this,"manageBackToJourney")));this.subscribes.push(b.subscribe(this.base.events.carouselCacheCheck,this.base.bind(this,"manageCachedItem")))},teardown:function(){for(;this.subscribes.length;)b.unsubscribe(this.subscribes.pop())},init:function(){this.initListeners();this.render()}};e.modRequest=g})(mini.digital.$,
mini.digital.comp.customselector=mini.digital.comp.customselector||{},mini.digital.util);
(function(b,e,k){k=function(b){this.base=b;this.init.apply(this)};k.prototype={manageNoTransition:function(b){!0===b?this.base.$wrap.addClass(this.base.cssClass.noTransition):this.base.$wrap.removeClass(this.base.cssClass.noTransition)},addItemToQueue:function(b){this.base.noTransitionCache.push(b);this.manageNoTransition(!0)},removeItemFromQueue:function(e){e=b.inArray(e,this.base.noTransitionCache);-1!==e&&this.base.noTransitionCache.splice(e,1);0===this.base.noTransitionCache.length&&this.manageNoTransition(!1)},
init:function(){this.base.noTransitionCache=[]}};e.modNoTransition=k})(mini.digital.$,mini.digital.comp.customselector=mini.digital.comp.customselector||{});
(function(b,e,k){k=function(b){this.base=b;this.cssTransform=Modernizr.csstransforms3d;this.simulateWidths=[];this.maxModelHeight=e.common.maxModelHeight;this.init.apply(this)};k.prototype={getLargePosition:function(){return{marginLeft:.06*this.base.containerWidth-this.base.$current.offset().left+this.base.$elem.offset().left,width:.88*this.base.containerWidth}},getHeightWithBreakpoint:function(b){b=this.base.getChildHeightRatio(b);return b>this.maxModelHeight?this.maxModelHeight:b},manageCarouselLargeToSmall:function(){var e=
this,c=e.base,a=0,d=0;d=0;var f={};c.state="small"===c.state?"large":"small";d=c.getChildWidthRatio();c.$wrap.removeClass(c.cssClass.move);f=e.simulateAnimationSmall();c.modules.modNoTransition.addItemToQueue("manageCarouselLargeToSmall");c.redrawPage(c.$wrap[0]);e.prepareItemsToSmall();c.$current.css({width:""});c.$elem.addClass(c.cssClass.smallState).removeClass(c.cssClass.largeState);c.redrawPage(c.$wrap[0]);c.$wrap.addClass(c.cssClass.move);c.modules.modNoTransition.removeItemFromQueue("manageCarouselLargeToSmall");
c.$wrap.find(c.selector.selectorImage).removeClass(c.cssClass.transition);c.$elem.addClass(c.cssClass.inMotion);c.$wrap.css({width:c.wrapWidth+d});a=f.page<this.base.current?f.offset?a+f.offset:a+this.base.getChildrenWidths(f.page,this.base.current-1,this.simulateWidths):a+f.offset;d=this.getHeightWithBreakpoint(d);c.$current.find(c.selector.selectorChildrenWrap).on(c.transitionEnd,function(a){b(a.target).hasClass(c.cssClass.childrenWrap)&&(b(this).off(c.transitionEnd),e.endTransitionLargeToSmall(f))}).height(d);
this.cssTransform||e.endTransitionLargeToSmall(f);c.$current.css({width:"",marginLeft:a});b.publish(c.events.accordionBody);c.redrawPage(c.$wrap[0])},endTransitionLargeToSmall:function(b){this.base.$wrap.css({width:this.base.wrapWidth});this.carouselCallbackSmallAnimation(b.page)},manageCarouselSmallToLarge:function(){var e=this.base,c=0,a=b.Deferred(),d=this.getLargePosition();this.prepareItemsToLarge();c=this.getHeightWithBreakpoint(e.getChildWidthRatio());e.getChildWidthRatio();e.$elem.addClass(e.cssClass.inMotion);
e.getChildHeightRatio(e.childrenWidth);e.$current.find(e.selector.selectorImage).addClass(e.cssClass.transition);e.$current.on(e.transitionEnd,function(c){b(c.target).hasClass(e.cssClass.childrenWrap)&&(b(this).off(e.transitionEnd),a.resolve())}).css({marginLeft:d.marginLeft,width:d.width});this.cssTransform||a.resolve();e.$current.find(e.selector.selectorChildrenWrap).height(c);e.redrawPage(e.$wrap[0]);return a.promise()},fadesOutElements:function(){var e=this,c=e.base;c.currentsmall=c.current;c.current=
c.$children.filter(c.selector.childrenActive).index();c.setChildCurrent();c.setChildrenWidth();this.simulateWidths=this.base.arrayChildWidths;1===c.childrenLength&&e.startSmallToLargeAnimation();c.$children.filter(":not("+c.selector.childrenActive+"):first").on(c.transitionEnd,function(a){b(a.target).hasClass(c.cssClass.carouseItem)&&(b(this).off(c.transitionEnd),e.startSmallToLargeAnimation())});this.cssTransform||e.startSmallToLargeAnimation();c.$children.filter(":not("+c.selector.childrenActive+
")").addClass(c.cssClass.fadeTransition);c.$current.find(c.selector.selectorInfoImage).addClass(c.cssClass.fadeTransition)},startSmallToLargeAnimation:function(){var e=this,c=e.base;b.publish(c.events.accordionModel);c.$children.each(function(a){b(this).width(c.arrayChildWidths[a])});c.$children.find(c.selector.selectorImage).width("");e.manageCarouselSmallToLarge().then(function(){e.carouselCallbackLargeAnimation().then(function(){c.settings.selectorLevel===c.selector.selectorLevel2&&b.publish(c.events.frameChangeLayout)})})},
fadesInElements:function(){this.base.setChildrenImage();this.base.$children.removeClass(this.base.cssClass.fadeTransition)},findpage:function(b){var c=0,a=this.base.getNextVisibleChild(c,this.simulateWidths);b=isNaN(b)?0:b;if(0===a)b=0;else{for(;a<b&&c<=a;)c=a,a=this.base.getNextVisibleChild(a,this.simulateWidths);b=b===a?a:c}return b},simulateAnimationSmall:function(){var e=this.base.current,c=this.base.state,a=this.base.current,d=this.base.$current.find(this.base.selector.selectorChildrenWrap).height(),
f=0,h;this.base.modules.modNoTransition.addItemToQueue("simulateAnimationSmall");this.prepareItemsToSmall();this.base.$elem.addClass(this.base.cssClass.smallState).removeClass(this.base.cssClass.largeState);this.carouselCallbackSmallAnimation();this.base.$elem.css({marginBottom:-1*b(".md-cs-accordion-active-level2").css("marginTop").replace("px","")});this.base.containerWidth=this.base.$elem.outerWidth();this.base.setChildrenImage();this.base.redrawPage(this.base.$wrap[0]);this.base.$current.find(this.base.selector.selectorImage).removeClass(this.base.cssClass.transition);
this.base.childrenWidth=this.base.getChildWidthRatio();var k=this.getHeightWithBreakpoint(this.base.childrenWidth);this.base.$current.find(this.base.selector.selectorChildrenWrap).height(k);this.base.setChildCurrent();this.base.setChildrenWidth();this.simulateWidths=this.base.arrayChildWidths;k=this.findpage(e);(h=this.base.getChildrenWidths(k))&&h<this.base.containerWidth&&(f=this.base.containerWidth-h+this.base.getChildrenWidths(k,e-1),this.base.current=e,this.base.setPosition());this.base.$elem.css({marginBottom:""});
this.base.$current.find(this.base.selector.selectorImage).addClass(this.base.cssClass.transition);this.base.$current.find(this.base.selector.selectorChildrenWrap).height(d);this.base.state="large";this.carouselCallbackLargeAnimation();this.base.current=e;this.base.setChildCurrent();this.base.setPosition();this.base.$elem.removeClass(this.base.cssClass.smallState).addClass(this.base.cssClass.largeState);this.base.$current.find(this.base.selector.selectorImage).width("");this.base.$children.filter(":not("+
this.base.selector.childrenActive+")").addClass(this.base.cssClass.fadeTransition);this.base.modules.modNoTransition.removeItemFromQueue("simulateAnimationSmall");this.base.state=c;this.base.current=a;return{page:k,offset:f}},prepareItemsToLarge:function(){this.base.state="large"===this.base.state?"small":"large";var b=this.base.childrenLength*this.base.getChildWidthRatio();this.base.$wrap.width(b)},carouselCallbackLargeAnimation:function(){var e=b.Deferred();this.base.$elem.removeClass(this.base.cssClass.inMotion);
this.base.modules.modNoTransition.addItemToQueue("carouselCallbackLargeAnimation");this.drawCallbackLargeAnimation();b.publish(this.base.events.carouselReset);this.base.modules.modNoTransition.removeItemFromQueue("carouselCallbackLargeAnimation");this.base.running=!1;e.resolve();return e.promise()},drawCallbackLargeAnimation:function(){this.base.$current.css({marginLeft:0});this.base.$children.removeClass(this.base.cssClass.fadeTransition);this.base.setDisplay();this.base.setPosition();this.base.redrawPage(this.base.$wrap[0])},
carouselCallbackSmallAnimation:function(b){b=isNaN(b)?0:b;this.base.modules.modNoTransition.addItemToQueue("carouselCallbackSmallAnimation");this.drawCallbackSmallAnimation(b);this.base.modules.modNoTransition.removeItemFromQueue("carouselCallbackSmallAnimation");this.fadesInElements();this.base.$wrap.find(this.base.selector.selectorInfoImage).removeClass(this.base.cssClass.fadeTransition);this.base.manageNavigationState();this.base.running=!1},drawCallbackSmallAnimation:function(b){b=isNaN(b)?0:
b;this.base.$elem.removeClass(this.base.cssClass.inMotion);this.base.$current.css({marginLeft:0});this.base.setDisplay();this.base.current=b;this.base.arrayChildWidths=this.simulateWidths;this.base.isCarouselMove=!1;this.base.$children.css({width:""});this.base.setPosition();this.base.redrawPage(this.base.$wrap[0]);this.base.setChildCurrent()},prepareItemsToSmall:function(){var e=this.getLargePosition(),c=this.getHeightWithBreakpoint(this.base.getChildWidthRatio());this.base.modules.modNoTransition.addItemToQueue("prepareItemsToSmall");
this.base.$children.filter(":not("+this.base.selector.childrenActive+")");this.base.$current.find(this.base.selector.selectorImage).addClass(this.base.cssClass.transition);this.base.$current.find(this.base.selector.selectorInfoImage).addClass(this.base.cssClass.fadeTransition);this.base.modules.modNoTransition.removeItemFromQueue("prepareItemsToSmall");this.base.$children.filter(":not("+this.base.selector.childrenActive+")").find(this.base.selector.selectorChildrenWrap).height(c);this.base.$current.css({marginLeft:e.marginLeft+
.14*e.width});b.publish(this.base.events.frameChangeLayout)},init:function(){}};e.modTransition=k})(mini.digital.$,mini.digital.comp.customselector=mini.digital.comp.customselector||{});
(function(b,e,k){k=function(b){this.base=b;this.subscribes=[];this.init.apply(this)};k.prototype={onNavigateInitialise:function(b){var c={returnModelCode:b.modelCode,returnBodyTypeCode:this.base.requestProps.code,returnBodyTypeUrl:b.url,returnBodyTypeDescription:b.description};if(!this.base.running&&this.base.settings.selectorLevel===b.selectorLevel){var a=this.base.$paginationLink.filter("."+this.base.cssClass.paginationActive).parent().index(),d=this.base.$paginationLink.filter('[data-item-code\x3d"'+
b.bodyTypeCode+'"]').parent().index();this.base.direction=d>a?!0:!1;this.bindNavigateCompleteEvents(c);this.base.manageNavigation(b.url,b.bodyTypeCode)}},bindNavigateCompleteEvents:function(e){this.base.$wrap.one(this.base.transitionEnd,function(){b.publish(this.events.navigateComplete,[e])}.bind(this))},onNavigateRequest:function(b){this.base.running||(this.bindRequestNavigateToModelEvent({modelCode:b.modelCode,selectorLevel:this.selectors.selectorLevel2}),this.base.manageNavigation(b.url,b.bodyTypeCode))},
bindRequestNavigateToModelEvent:function(e){this.base.$wrap.one(this.base.transitionEnd,function(){b.publish(this.events.navigateRequestToModel,[{modelCode:e.modelCode,selectorLevel:e.selectorLevel}])}.bind(this))},onNavigateRequestToModel:function(b){this.isLevel2()&&(this.base.current=this.base.$children.filter('[data-item-code\x3d"'+b.modelCode+'"]').index(),this.base.manageGoTo())},instantNavigateToModel:function(e,c){if(!this.base.running){var a=new b.Deferred,d=this;this.base.requestProps.url=
c;this.base.requestProps.code=e;this.clearChildren();this.pauseTransitions("instantNavigateToModel");this.base.modules.modRequest.manageRequest(c,e).then(function(){d.base.modules.modRequest.manageRequestDom().then(function(){d.clearRedundantChildren();d.base.setPaginationCode(e);d.base.getArrayPagination();d.base.manageReplacePagination();d.base.setInternals();d.updatePage();d.resumeTransitions("instantNavigateToModel");a.resolve()})});return a.promise()}},updatePage:function(){this.base.redrawPage(this.base.$wrap[0]);
this.base.running=0},clearChildren:function(){this.base.$children.filter(":not("+this.selectors.childrenActive+")").remove();this.base.$children=this.base.$elem.find(this.selectors.selectorChildren)},clearRedundantChildren:function(){var b=this.base.$children.filter(this.selectors.childrenActive).first().attr("data-bodytype-code");this.base.$children.filter(":not(.md-cs-bodytype-"+b+")").remove()},onNavigateByQuickLink:function(e){if(this.isLevel1()){var c=this.base.$paginationLink.filter("."+this.base.cssClass.paginationActive).parent().index(),
a=this.base.$paginationLink.filter('[data-item-code\x3d"'+e.bodyTypeCode+'"]').parent().index();this.base.direction=a>c?!0:!1;b.publish(this.events.backToJourney,[{code:e.bodyTypeCode,url:e.bodyTypeUrl,ql:!0,selectorLevel:this.selectors.selectorLevel1}])}},resetCarouselState:function(){this.base.$children.attr("data-item-code","");this.base.setInternals()},onMove:function(){this.enableReturnShortcut&&this.updateReturnShortcutLabel(this.returnShortcutLabel)},onChangeState:function(){this.disableReturnShortcuts()},
onNavigateByReturnShortcut:function(b){this.isLevel2()&&(this.pauseTransitions("onNavigateByReturnShortcut"),this.disableReturnShortcuts(),this.instantNavigateToModel(b.modelCode,b.modelUrl).then(function(){this.base.resetPosition();this.updatePage();this.resumeTranstiions("onNavigateByReturnShortcut")}.bind(this)))},isLevel1:function(){var b=this.isLevel(1);this.isLevel1=function(){return b};return b},isLevel2:function(){var b=this.isLevel(2);this.isLevel2=function(){return b};return b},isLevel:function(b){return this.base.settings.selectorLevel===
this.selectors["selectorLevel"+b]},isCarouselLarge:function(){return this.base.$elem&&0<this.base.$elem.length&&this.base.$elem.hasClass("md-cs-carousel-large")},updateReturnShortcutLabel:function(e){b(this.selectors.selectorReturnShortcutLabel).text(e)},disableReturnShortcuts:function(){b(this.selectors.selectorReturnShortcutEnabled).removeClass(this.classes.returnShortcutEnabled);this.enableReturnShortcut=!1;b.unsubscribe(this.moveEventHandler);b.unsubscribe(this.changeStateEventHandler)},enableReturnShortcuts:function(e){this.enableReturnShortcut=
!0;this.updateShortcutElement(e.returnBodyTypeDescription);this.moveEventHandler=b.subscribe(this.events.move,this.onMove.bind(this));this.changeStateEventHandler=b.subscribe(this.events.changeState,this.onChangeState.bind(this))},updateShortcutElement:function(b){this.returnShortcutLabel=b},bindEvents:function(){this.teardown();this.subscribes.push(b.subscribe(this.events.navigateInitialise,this.onNavigateInitialise.bind(this)));this.subscribes.push(b.subscribe(this.events.navigateRequest,this.onNavigateRequest.bind(this)));
this.subscribes.push(b.subscribe(this.events.navigateRequestToModel,this.onNavigateRequestToModel.bind(this)));this.subscribes.push(b.subscribe(this.events.navigateByQuickLink,this.onNavigateByQuickLink.bind(this)));this.subscribes.push(b.subscribe(this.events.navigateByReturnShortcut,this.onNavigateByReturnShortcut.bind(this)))},teardown:function(){for(;this.subscribes.length;)b.unsubscribe(this.subscribes.pop())},loadCommon:function(){this.selectors=e.common.selector;this.classes=e.common.cssClass;
this.events=e.common.events},referenceExternalModules:function(){this.pauseTransitions=this.base.modules.modNoTransition.addItemToQueue.bind(this.base.modules.modNoTransition);this.resumeTransitions=this.base.modules.modNoTransition.removeItemFromQueue.bind(this.base.modules.modNoTransition);this.cache=e.requestManager.cache},init:function(){this.loadCommon();this.referenceExternalModules();this.bindEvents()}};e.modQuickLink=k})(mini.digital.$,mini.digital.comp.customselector=mini.digital.comp.customselector||
{});
(function(b,e,k,g,c,a,d,f,h){function n(a,b,c,d){if("small"===c)a=b.data("bodytype-code"),a=a!==h?{modelRangeCode:b.data("bodytype-code"),modelRangeName:b.data("current-body-type-description"),modelRangeLongName:b.data("current-body-type-long-description"),url:b.data("current-body-type-url")}:{modelRangeCode:b.data("item-code"),modelRangeName:b.data("item-carname"),modelRangeLongName:b.data("current-body-type-long-description"),url:b.data("url")};else{var f=g.get();c=b.data("item-code");a=b.data("bodytype-code");c==
a&&(c="");a={modelRangeCode:a,modelRangeName:b.data("current-body-type-description"),modelRangeLongName:b.data("current-body-type-long-description"),modelCode:c,modelName:b.data("item-carname"),modelLongName:b.data("item-carname"),url:b.data("url"),multipleTransmissions:b.data("availableTransmissions"),transmission:b.data("transmission")}}a.modelCode&&f.modelCode===a.modelCode||a.modelRangeCode&&g.set(a)}d=function(a,c){this.$elem=b(a);this.options=c;this.$wrap={};this.$children={};this.$childrenWrap=
{};this.$navigation={};this.$paginationLink={};this.$paginationTooltip={};this.$elemChangeState={};this.$current={};this.isCarouselMove=this.animateAtOnce=this.direction=this.running=!1;this.publishEvents=!0;this.isWide=this.isNarrow=!1;this.noRequestsNavigation=c.isCampaign;this.disableRender=!1;this.arrayPagination=[];this.arrayChildWidths=[];this.subscribes=[];this.childWidths=0;this.cssTransformProperty=Modernizr.csstransforms3d?Modernizr.prefixed("transform"):"left";a=Modernizr.csstransforms3d?
"translateX(-%spx)":"-%spx";(c=b("body").attr("class"))&&0<c.indexOf("md-direction-rt")&&(a=Modernizr.csstransforms3d?"translateX(%spx)":"%spx");this.cssTransformValue=a;this.maxModelHeight=e.common.maxModelHeight;this.requestProps={url:"",code:""};this.currentsmall=this.current=0;this.btnNarrowHeight=22;this.state="large";this.gotoUrl=this.dataPageRequest="";this.transitionEnd=k;this.events=e.common.events;this.screenMobile=e.common.resolution.mobile;this.metadata=this.$elem.data("plugin-options")};
d.prototype={defaults:{complete:null,type:"",ratioLargeFull:.88,ratioLargeDiff:.06,ratioProps:{wide:{large:{percentil:100,ratio:{width:16,height:6.45}},small:{percentil:33,ratio:{width:6,height:1.9}}},narrow:{large:{percentil:100,ratio:{width:6,height:4.45}},small:{percentil:100,ratio:{width:6,height:5.5}}}},selectorLevel:"md-cs-selector-level1"},redrawPage:function(a){b(a).length&&a.offsetLeft},bind:function(a,b){return function(){return a[b].apply(a,arguments)}},checkCallback:function(){var a={};
if("function"===typeof this.settings.complete){var b=this.$children.filter(":first");this.settings.selectorLevel===this.selector.selectorLevel2&&!this.options.isCampaign&&this.$elem.closest(".md-cs-accordion-content").hasClass("md-cs-accordion-active")&&n(a,b,this.state,this.$children);this.settings.selectorLevel===this.selector.selectorLevel1&&!this.options.isCampaign&&this.$elem.closest(".md-cs-accordion-content").hasClass("md-cs-accordion-active")&&n(a,b,this.state,this.$children);this.options.isCampaign&&
(a.url=b.attr("data-url"),g.set(a));this.settings.complete()}this.$wrap.addClass(this.cssClass.move);this.settings.selectorLevel===this.selector.selectorLevel2&&"small"===this.state&&this.manageNavigationState();this.settings.selectorLevel===this.selector.selectorLevel2&&"large"===this.state&&this.setDisplay();return this},getVisibleItems:function(a){a="undefined"===typeof a?this.$elem.outerWidth(!0):a;a=this.$elem.outerWidth(!0)/a;a=Math.round(a);return 0>=a?1:a},getCarouselPosition:function(a){a=
isNaN(a)?this.current:a;0>a&&(a=0);var b=Math.abs(a*this.childrenWidth);if("small"===this.state){b=this.getChildrenWidths(0,a-1);var c=this.getChildrenWidths(a);0===a?b=0:c&&c<this.containerWidth&&(b=this.childWidths-this.containerWidth)}return b},setChildCurrent:function(){var a=this.$children.eq(this.current);this.$children.removeClass(this.cssClass.childrenActive);a.addClass(this.cssClass.childrenActive);a.hasClass(this.cssClass.componentDefer)&&(a.removeClass(this.cssClass.componentDefer),c(a));
this.settings.selectorLevel===this.selector.selectorLevel2&&!this.options.isCampaign&&this.$elem.closest(".md-cs-accordion-content").hasClass("md-cs-accordion-active")&&n({},a,this.state,this.$children)},setChildrenImage:function(){if(this.settings.selectorLevel===this.selector.selectorLevel2){this.containerWidth=this.$elem.outerWidth();this.childrenWidth=this.getChildWidthRatio();var a=this.getChildHeightRatio(this.childrenWidth);a=a>this.maxModelHeight?this.maxModelHeight:a;this.$children.find(this.selector.selectorImage).width(1.666*
a)}},setChildrenWidth:function(){var a=this,c=0;this.arrayChildWidths=[];this.$children.each(function(d){a.arrayChildWidths[d]=b(this).width();c+=a.arrayChildWidths[d]});this.childWidths=c},getChildrenWidths:function(a,b,c){var d=0;c="undefined"===typeof c?this.arrayChildWidths:c;a=isNaN(a)||0>a?0:a;b=isNaN(b)||b>c.length-1?c.length-1:b;if(a>b)return d;this.$children.each(function(f){f>=a&&f<=b&&(d+=c[f])});return d},getNextVisibleChild:function(a,b){var c=0,d=this.containerWidth,f=2,e=0;"undefined"===
typeof b&&(this.setChildrenWidth(),b=this.arrayChildWidths);e=(a=isNaN(a)?this.current:a)?this.getChildrenWidths(0,a):e;for(c=a?this.getChildrenWidths(0,a):c;a<b.length;a++){if(c>e+d){f=a;break}c+=b[a]}a===b.length&&(f=b.length);c>this.childWidths&&(f=b.length);e+d>=c&&(f=this.current+1);return f-1},getPrevVisibleChild:function(a){for(var b=this.containerWidth,c=0;0<=a;a--){if(c>b)return a+=1;c+=this.arrayChildWidths[a]}return 0},carouselResetState:function(){this.setPaginationCode(this.requestProps.code);
"large"===this.state&&(this.$current.length&&(this.$current.addClass(this.cssClass.noTransition),this.redrawPage(this.$current[0]),this.$elem.removeClass(this.cssClass.smallState).addClass(this.cssClass.largeState),this.$current.removeClass(this.cssClass.noTransition)),this.noRequestsNavigation?this.manageNavigationStateNoRequests():this.manageLinks());this.setInternals();this.managePaginationState()},callbackMoveComplete:function(){b.publish("md:image:update");b.publish("md:image:update",[{delay:4E3}]);
b.publish("md:image:update",[{delay:1E4}]);if(this.isCarouselMove&&this.publishEvents){var a={selectorLevel:this.settings.selectorLevel,state:this.state,url:this.requestProps.url,code:this.requestProps.code,isCampaign:this.options.isCampaign};this.setDisplay();this.isCarouselMove=!1;b.publish(this.events.moveComplete,[a])}this.running=!1},callbackMove:function(){this.setChildCurrent();if(this.isCarouselMove&&this.publishEvents){var a={selectorLevel:this.settings.selectorLevel,state:this.state,url:this.requestProps.url,
code:this.requestProps.code,isCampaign:this.options.isCampaign};b.publish(this.events.move,[a])}},setPosition:function(){var a=this,b=this.getCarouselPosition(),c=this.$wrap.data("positionX")||0;this.running=!0;if(c===b)this.callbackMove(),this.$wrap.css(this.cssTransformProperty,this.cssTransformValue.replace("%s",b)).data("positionX",b),this.callbackMoveComplete();else if(this.callbackMove(),this.$wrap.on(a.transitionEnd,function(){a.$wrap.off(a.transitionEnd);a.callbackMoveComplete()}).css(this.cssTransformProperty,
this.cssTransformValue.replace("%s",b)).data("positionX",b),"left"===this.cssTransformProperty||this.noTransitionCache.length)a.$wrap.off(a.transitionEnd),a.callbackMoveComplete()},getChildWidthRatio:function(){var a=this.settings.ratioProps;return Math.ceil(this.containerWidth*(this.isNarrow?a.narrow:this.isWide?a.middle:a.wide)[this.state].percentil/100)},getChildHeightRatio:function(a){var c=this.settings.ratioProps;c=(this.isNarrow?c.narrow:this.isWide?c.middle:c.wide)[this.state];c=a/c.ratio.width*
c.ratio.height;c=Math.round(c);this.settings.isCampaign&&this.isNarrow&&(c+=this.btnNarrowHeight);this.settings.heightPadding&&(c+=parseInt(this.settings.heightPadding,10));var d=b(".md-cs-stage-image",this.$elem);d.length&&(c=d.height()/d.width()*a);return c},getTotalWidth:function(){return this.containerWidth*this.childrenLength},setDisplay:function(){this.containerWidth=this.$elem.outerWidth();this.childrenWidth=this.getChildWidthRatio();var a=this.getChildHeightRatio(this.childrenWidth);a=a>this.maxModelHeight?
this.maxModelHeight:a;this.wrapWidth=this.getTotalWidth();this.visibleItems=this.getVisibleItems(this.childrenWidth);this.$wrap.width(this.wrapWidth);"large"===this.state?this.$children.width(this.childrenWidth):this.$children.width("");this.$childrenWrap.height(a);a={selectorLevel:this.settings.selectorLevel,width:this.childrenWidth,height:a};0<this.childrenLength&&b.publish(this.events.carouselDimensions,[a]);return this},manageLayout:function(){this.setDisplay();this.setPosition()},manageAnimate:function(a){0>
a?a=0:a>this.childrenLength&&(a=this.childrenLength-1);this.current=a;"small"===this.state&&this.manageNavigationState();this.noRequestsNavigation&&this.manageNavigationStateNoRequests();this.isCarouselMove=!0;this.setPosition()},manageGoTo:function(){var a=this.direction;"large"===this.state?a=this.$children.filter('[data-item-code\x3d"'+this.requestProps.code+'"]').index():(this.setChildrenWidth(),a=a?this.getNextVisibleChild():this.getPrevVisibleChild(this.current));this.managePaginationState();
this.manageAnimate(a)},manageChangeState:function(a){this.$current=this.$children.filter('[data-item-code\x3d"'+a+'"]').length?this.$children.filter('[data-item-code\x3d"'+a+'"]'):this.$children.filter(":first");this.$children.removeClass(this.cssClass.childrenActive);this.$current.addClass(this.cssClass.childrenActive);if("small"===this.state){a=this.$current.data("bodytype-code");var c=this.$current.data("item-code");f.addCurrentEvent(f.events.CHOOSE_MODEL_TYPE,{bodyType:a,modelType:c});this.noRequestsNavigation=
!0;this.isNarrow?b.publish(this.events.accordionModel):this.modules.modTransition.fadesOutElements()}else this.noRequestsNavigation=!1,this.isNarrow?b.publish(this.events.accordionBody):this.modules.modTransition.manageCarouselLargeToSmall()},manageRequestCarouselChange:function(a,c,d){var f=this,e=this.$children.filter('[data-item-code\x3d"'+c+'"]').hasClass(this.cssClass.pageRequested);"small"===this.state?(this.noRequestsNavigation=!0,this.manageChangeState(c)):e?f.manageChangeState(c):this.noRequestsNavigation||
d.ql?(this.direction=!0,this.managePaginationState(),this.manageChangeState(c)):this.modules.modRequest.manageRequest(a,c).then(function(){f.direction=!0;f.managePaginationState();f.modules.modRequest.manageReplaceDom();f.redrawPage(f.$elem[0]);f.manageChangeState(c);b.publish(f.events.loadingRemove,[f.events.loadingRequests])})},onComponentChangeState:function(a){this.running||a.selectorLevel!==this.settings.selectorLevel||(this.requestProps.url=a.url,this.requestProps.code=a.code,this.running=!this.running,
this.manageRequestCarouselChange(a.url,a.code,a))},manageLinks:function(){var c=b(a.mini.digital.comp.customselector.requestManager.cache[this.requestProps.code]).find("."+this.settings.selectorLevel),d=c.find(this.selector.selectorPrevious);c=c.find(this.selector.selectorNext);this.$navigation.filter(this.selector.selectorPrevious).attr({href:d.attr("href"),"class":d.attr("class"),"data-item-code":d.attr("data-item-code")}).end().filter(this.selector.selectorNext).attr({href:c.attr("href"),"class":c.attr("class"),
"data-item-code":c.attr("data-item-code")});this.redrawPage(this.$navigation[0]);return this},manageReplacePagination:function(){var c=b(a.mini.digital.comp.customselector.requestManager.cache[this.requestProps.code]).find("."+this.settings.selectorLevel+" "+this.selector.selectorPagination);this.$pagination.replaceWith(c)},manageNavigation:function(a,c,d){var f=this,e=b.Deferred(),g=this.$children.filter('[data-item-code\x3d"'+c+'"]');g=g.length?g.hasClass(this.cssClass.pageRequested):!1;var h={url:a,
code:c,isCampaign:f.options.isCampaign,isPaginationDerived:!!d};"i0"!==c&&(this.requestProps.url=a,this.requestProps.code=c);"i0"===c?b(this.selector.selectorAssembled).length?(h.hasChanged=!0,b.publish(f.events.carouselSwitch,[h])):(h.hasChanged=!1,this.modules.modRequest.manageRequest(a,c).then(function(){f.running=!1;b.publish(f.events.carouselSwitch,[h])})):g?(this.setPaginationCode(c),this.manageLinks(),this.manageGoTo(),e.resolve()):this.modules.modRequest.manageRequest(a,c).then(function(){f.modules.modRequest.manageRequestDom().then(function(){e.resolve()})});
return e.promise()},manageNavigationNoRequests:function(a,b){this.requestProps.url=a;this.requestProps.code=b;this.settings.isCampaign&&"i0"===b?this.manageNavigation(a,b):(this.setPaginationCode(b),this.manageGoTo())},manageNavigationState:function(){var a="small"===this.state?this.current:this.$paginationLink.filter('[data-item-code\x3d"'+this.requestProps.code+'"]').parent().index();this.setChildrenWidth();this.$navigation.removeClass(this.cssClass.navHidden);0===a&&this.$navigation.filter(this.selector.selectorPrevious).addClass(this.cssClass.navHidden);
a===this.getNextVisibleChild(a)&&this.$navigation.filter(this.selector.selectorNext).addClass(this.cssClass.navHidden)},manageNavigationStateNoRequests:function(){var a=this.childrenLength-1;this.$navigation.removeClass(this.cssClass.navHidden);if(1===this.childrenLength)this.$navigation.addClass(this.cssClass.navHidden),this.settings.isCampaign&&this.$navigation.filter(this.selector.selectorNext).removeClass(this.cssClass.navHidden);else if(0>this.current-this.visibleItems){var b=this.$children.eq(this.current+
1);this.$navigation.filter(this.selector.selectorPrevious).addClass(this.cssClass.navHidden);this.$navigation.filter(this.selector.selectorNext).attr({href:b.attr("data-url"),"data-item-code":b.attr("data-item-code")})}else this.current>=a||this.current>=this.childrenLength-this.visibleItems?(a=this.$children.eq(this.current-1),this.settings.isCampaign?(b=this.$navigation.filter(this.selector.selectorNext),b.attr({href:this.$children.eq(this.current).attr("data-url-range-path"),"data-item-code":"i0"}).end().filter(this.selector.selectorPrevious).attr({href:a.attr("data-url"),
"data-item-code":a.attr("data-item-code")}),b.hasClass(this.cssClass.newHomePageNext)&&b.addClass(this.cssClass.navHidden)):this.$navigation.filter(this.selector.selectorNext).addClass(this.cssClass.navHidden).end().filter(this.selector.selectorPrevious).attr({href:a.attr("data-url"),"data-item-code":a.attr("data-item-code")})):this.childrenLength<=this.visibleItems?this.$navigation.addClass(this.cssClass.navHidden):(a=this.$children.eq(this.current-1),b=this.$children.eq(this.current+1),this.$navigation.filter(this.selector.selectorPrevious).attr({href:a.attr("data-url"),
"data-item-code":a.attr("data-item-code")}).end().filter(this.selector.selectorNext).attr({href:b.attr("data-url"),"data-item-code":b.attr("data-item-code")}))},getPaginationIndexToAppend:function(a){var b=this.arrayPagination,c=this.direction?b.length:0,d=this.$paginationLink.filter("."+this.cssClass.paginationActive).parent().index(),f=this.current;if(b.length){for(;d!==c;){b[d].checked&&(f=d);if(b[d].code===a)break;d+=this.direction?1:-1}f=this.$children.filter('[data-item-code\x3d"'+b[f].code+
'"]').index()}else f=-1;return{index:f}},setPaginationCode:function(a){if("small"!==this.state){var b=this.arrayPagination,c=b.length,d;for(d=0;d<c;d++)b[d].code===a&&(b[d].checked=!0)}},getArrayPagination:function(a){var c=[],d=this;this.$paginationLink.each(function(){var f=b(this);c.push({code:f.attr("data-item-code"),checked:f.hasClass(d.cssClass.paginationActive)||!!a})});this.arrayPagination=c},managePaginationState:function(){this.$paginationLink.removeClass(this.cssClass.paginationActive).filter('[data-item-code\x3d"'+
this.requestProps.code+'"]').addClass(this.cssClass.paginationActive)},onMouseLeavePagination:function(){this.isNarrow||this.$paginationTooltip.removeClass(this.cssClass.tooltipActive)},onMouseEnterPagination:function(a){a=b(a.currentTarget);if(!this.isNarrow){a=a.next(this.selector.selectorPaginationTooltip);var c=-(a.width()/2-8);a.css({left:c}).addClass(this.cssClass.tooltipActive)}},onClickPagination:function(a){var c=b(a.currentTarget),d=c.hasClass(this.cssClass.paginationActive),f=this.$paginationLink.filter("."+
this.cssClass.paginationActive).parent().index(),e=c.parent().index(),g=c.attr("href");c=c.attr("data-item-code");this.running||d||(this.direction=e>f?!0:!1,this.noRequestsNavigation&&"i0"!==c?this.manageNavigationNoRequests(g,c):this.manageNavigation(g,c,!0));a.preventDefault()},toggleCarouselOpen:function(a){var c=this;this.direction=!0;this.isNarrow?(this.publishEvents=!1,this.$elem.addClass(this.cssClass.hiddenView),this.redrawPage(this.$elem[0]),this.modules.modRequest.manageLevel2Dom(a),this.resetPosition(),
this.manageDrawComponent(),this.$elem.removeClass(this.cssClass.hiddenView),b.publish(this.events.toggleComplete,[a]),this.publishEvents=!0):(this.$elem.addClass(this.cssClass.hiddenView),this.redrawPage(this.$elem[0]),this.$elem.css({height:"",opacity:1,left:c.containerWidth}),this.modules.modRequest.manageLevel2Dom(a),this.resetPosition(),this.manageDrawComponent(),this.$elem.removeClass(this.cssClass.hiddenView).addClass(this.cssClass.toggle),this.$elem.on(c.transitionEnd,function(){c.$elem.off(c.transitionEnd);
c.$elem.removeClass(c.cssClass.toggle);b.publish(c.events.toggleComplete,[a])}).css({left:0}),"left"===this.cssTransformProperty&&(c.$elem.removeClass(c.cssClass.toggle),b.publish(c.events.toggleComplete,[a])),this.manageNavigationState())},toggleCarouselClose:function(b){var c=this;this.isNarrow?this.toggleCarouselOpen(b):(this.$elem.css({height:this.$elem.outerHeight(!0),opacity:1}).addClass(this.cssClass.toggle),this.redrawPage(this.$elem[0]),this.$elem.on(c.transitionEnd,function(){c.$elem.off(c.transitionEnd);
a.requestAnimationFrame(function(){c.toggleCarouselOpen(b)})}).css({height:0,opacity:0}),"left"===this.cssTransformProperty&&c.toggleCarouselOpen(b))},onCarouselToggle:function(a){"md-cs-selector-level2"===a.selectorLevel&&"md-cs-selector-level2"===this.settings.selectorLevel&&this.toggleCarouselClose(a)},onComponentResize:function(){this.disableRender||(this.manageState(),this.manageLayout(),this.manageCarouselType(),this.manageImageSize())},onComponentDisableRender:function(a){if(a&&a.disableRender&&
(this.disableRender=a.disableRender,!this.disableRender))this.onComponentResize()},manageState:function(){var a;this.isNarrow=Modernizr.mq("only screen and (max-width: "+this.screenMobile+"px)");this.isWide=!Modernizr.mq("only screen and (min-width: 925px)");this.state=this.$elem.hasClass(this.cssClass.largeState)?"large":"small";this.isNarrow?this.state="large":this.settings.selectorLevel===this.selector.selectorLevel2&&(this.state=(a=this.$elem.parent().hasClass("md-cs-accordion-active"))?"large":
"small",a&&("large"===this.state?this.$elem.removeClass(this.cssClass.smallState).addClass(this.cssClass.largeState):this.$elem.removeClass(this.cssClass.largeState).addClass(this.cssClass.smallState)))},manageCarouselType:function(){"small"===this.state&&this.manageNavigationState()},manageImageSize:function(){"small"===this.state&&this.setChildrenImage()},animateOverscroll:function(a,b){var c=this,d=Modernizr.prefixed("transform");var f=a.hasClass(this.selector.selectorPrevious.substr(1));var e=
a.hasClass(this.selector.selectorNext.substr(1));this.$elemContainer.on(this.transitionEnd,function(){c.$elemContainer.css(d,"translateX(0)")});a.hasClass(c.cssClass.navHidden)&&(f||e)&&this.$elemContainer.css(d,"translateX("+b.touchEndPointX/3+"px)")},onClickNavigation:function(a,c){if(c){var d="swipeRight"===a.type?"selectorPrevious":"selectorNext";d=b(a.currentTarget).find(this.selector[d]);this.animateOverscroll(d,c)}else d=b(a.currentTarget);b.publish(this.events.navigateToNextStage);if(!this.running&&
!d.hasClass(this.cssClass.navHidden))if(this.direction=d.hasClass(this.selector.selectorPrevious.substr(1))?!1:!0,"large"===this.state){c=d.attr("href");var f=d.attr("data-item-code");this.noRequestsNavigation?this.manageNavigationNoRequests(c,f):this.manageNavigation(c,f)}else this.manageGoTo();this.settings.autoPlaySpeed&&!this.running&&d.hasClass(this.cssClass.navHidden)&&(d=this.$wrap.children()[0],c=b(d).attr("data-url"),f=b(d).attr("data-item-code"),this.noRequestsNavigation?this.manageNavigationNoRequests(c,
f):this.manageNavigation(c,f));a.preventDefault()},onImageRefresh:function(b){var c=b.parent().parent();if(c.hasClass(this.stageImageClass))if(0===c.height()){var d=this;a.setTimeout(function(){d.onImageRefresh(b)},100)}else this.setDisplay()},initListeners:function(){this.teardown();this.subscribes.push(b.subscribe(this.events.resize,this.bind(this,"onComponentResize")));this.subscribes.push(b.subscribe(this.events.imageRefresh,this.bind(this,"onImageRefresh")));this.settings.isCampaign||(this.subscribes.push(b.subscribe(this.events.changeState,
this.bind(this,"onComponentChangeState"))),this.subscribes.push(b.subscribe(this.events.toggle,this.bind(this,"onCarouselToggle"))),this.subscribes.push(b.subscribe(this.events.carouselReset,this.bind(this,"carouselResetState"))),this.subscribes.push(b.subscribe(this.events.disableRender,this.bind(this,"onComponentDisableRender"))));return this},teardown:function(){for(;this.subscribes.length;)b.unsubscribe(this.subscribes.pop())},initAutoplay:function(){var a=this;this.settings.autoPlaySpeed&&(this.$elem.mouseenter(function(){a.settings.autoPlayPause=
!0}),this.$elem.mouseleave(function(){a.settings.autoPlayPause=!1}),setInterval(function(){a.settings.autoPlayPause||b(a.selector.selectorNext).trigger("click")},this.settings.autoPlaySpeed))},initEvents:function(){if(Modernizr.touch){var a=["swipeLeft","swipeRight"];this.$elem.touchEvents({preventMove:a}).on(a.join(" "),this.bind(this,"onClickNavigation"));this.$navigation.on("click",this.bind(this,"onClickNavigation"));this.$elem.on("touchstart",this.selector.selectorPaginationLink,this.bind(this,
"onClickPagination"))}else this.$navigation.on("click",this.bind(this,"onClickNavigation")),this.$elem.on("click",this.selector.selectorPaginationLink,this.bind(this,"onClickPagination")).on("mouseenter",this.selector.selectorPaginationLink,this.bind(this,"onMouseEnterPagination")).on("mouseleave",this.selector.selectorPaginationLink,this.bind(this,"onMouseLeavePagination"));return this},setInternals:function(){this.$wrap=this.$elem.find(this.selector.selectorWrap);this.$children=this.$elem.find(this.selector.selectorChildren);
this.$childrenWrap=this.$elem.find(this.selector.selectorChildrenWrap);this.$navigation=this.$elem.find(this.selector.selectorNavigation);this.$pagination=this.$elem.find(this.selector.selectorPagination);this.$paginationLink=this.$elem.find(this.selector.selectorPaginationLink);this.$paginationTooltip=this.$elem.find(this.selector.selectorPaginationTooltip);this.$elemChangeState=this.$elem.find(this.selector.selectorChangeState);this.$elemContainer=this.$elem.find(this.selector.selectorCarouselContainer);
this.childrenLength=this.$children.length;return this},resetPosition:function(){this.modules.modNoTransition.addItemToQueue("resetPosition");this.redrawPage(this.$wrap[0]);this.$wrap.css(this.cssTransformProperty,this.cssTransformValue.replace("%s",0)).data("positionX",0);this.current=0;this.redrawPage(this.$wrap[0]);this.modules.modNoTransition.removeItemFromQueue("resetPosition")},goToPosition:function(a,b){b&&(this.modules.modNoTransition.addItemToQueue("resetPosition"),this.redrawPage(this.$wrap[0]));
this.current=a;a=this.$children.eq(this.current);this.requestProps.code=a.attr("data-item-code");this.requestProps.url=a.attr("data-url");a=this.getCarouselPosition();this.$wrap.css(this.cssTransformProperty,this.cssTransformValue.replace("%s",a)).data("positionX",a);this.resetNavigation();b&&(this.modules.modNoTransition.removeItemFromQueue("resetPosition"),this.redrawPage(this.$elem[0]))},resetNavigation:function(){this.managePaginationState();this.manageNavigationState();this.noRequestsNavigation&&
this.manageNavigationStateNoRequests()},manageDrawComponent:function(){this.drawComponent();"small"===this.state&&this.setChildrenImage()},drawComponent:function(){this.setInternals();this.manageState();this.manageLayout();this.manageCarouselType();this.getArrayPagination(this.$wrap.find(".md-campaign-teaser").length)},render:function(a){this.manageDrawComponent();(!this.isNarrow&&0<this.$children.length||this.isNarrow&&this.$elem.closest(".md-cs-accordion-content").hasClass("md-cs-accordion-active"))&&
this.modules.modRequest.setCached(0,a)},init:function(){this.settings=b.extend(!0,{},this.defaults,this.options,this.metadata);this.cssClass=e.common.cssClass;this.selector=e.common.selector;this.render(!0);this.initEvents();this.initAutoplay();this.initListeners();this.checkCallback()}};mini.digital.comp.customselector.CustomSelectorCarousel=d})(mini.digital.$,mini.digital.comp.customselector,mini.digital.util.transitionEndEvent,mini.digital.util.currentModel,mini.digital.util.initialise,window,
document,mini.digital.tracking.customselector);
(function(b,e,k){var g=function(b,a){var c="";this.modules={};e.CustomSelectorCarousel.call(this,b,a);for(c in e)e.hasOwnProperty(c)&&"mod"===c.substr(0,3)&&(this.modules[c]=new e[c](this));this.init()};g.prototype=e.CustomSelectorCarousel.prototype;b.fn.customselectorcarousel=function(c){return this.each(function(){b.data(this,"customselectorcarousel")||b.data(this,"customselectorcarousel",new g(this,c))})}})(mini.digital.$,mini.digital.comp.customselector=mini.digital.comp.customselector||{});
(function(b,e,k,g,c,a){var d=function(a,c){this.$elem=b(a);this.options=c;this.events=e.common.events;this.selector=e.common.selector;this.cssClass=e.common.cssClass;this.screenMobile=e.common.resolution.mobile;this.isNarrow=0;this.initialized=this.isAccordionCampaign=!1;this.subscribes=[];this.maxHeight=e.common.maxAccordionHeight;this.dimensions={selectorLevel1:{width:0,height:0},selectorLevel2:{width:0,height:0}};this.elems={accordion:{},accordionRow1:{},accordionRow2:{},accordion1:{},accordion2:{},
viewModelsBtn:{},viewBodiesBtn:{}};this.metadata=this.$elem.data("plugin-options");this.init.apply(this)};d.prototype={defaults:{},bind:function(a,b){return function(){return a[b].apply(a,arguments)}},redrawPage:function(a){b(a).length&&a.offsetLeft},getAcordionRowHeight:function(a){return a.children(".md-cs-carousel-item-active")?a.find(".md-cs-carousel-item-active").outerHeight()+30:a.children(":first").outerHeight()},setAccordionActive:function(a){a?(this.$elem.removeClass(this.cssClass.accordionActiveLevel2).addClass(this.cssClass.accordionActiveLevel1),
this.elems.accordionRow1.addClass(this.cssClass.accordionActive),this.elems.accordionRow2.removeClass(this.cssClass.accordionActive)):(this.$elem.removeClass(this.cssClass.accordionActiveLevel1).addClass(this.cssClass.accordionActiveLevel2),this.elems.accordionRow1.removeClass(this.cssClass.accordionActive),this.elems.accordionRow2.addClass(this.cssClass.accordionActive))},updateAccordionTranslate:function(a){var c=this,d=-(this.dimensions.selectorLevel1.height>this.maxHeight?this.maxHeight:this.dimensions.selectorLevel1.height),
f=parseInt(this.$elem.data("positionY"),10),e=this.$elem.find(".md-new-range-info");e&&(e=e.height(),d-=e,a&&b(".md-nav-ctas").animate({top:9},800));d===f||this.isAccordionCampaign||(this.$elem.on(k,function(d){d=b(d.target);d.hasClass(c.cssClass.accordion)&&(d.off(k),a&&b.publish(c.events.accordionBtnShow,[{btn:c.elems.viewBodiesBtn,selector:c.selector.selectorLevel2}]))}).css({marginTop:d+"px",transform:"translatez(0)"}).data("positionY",d),this.redrawPage(this.$elem[0]),this.setAccordionActive(!1))},
moveAccordionUp:function(){this.changeState();b.publish(this.events.accordionBtnShow,[{btn:this.elems.viewBodiesBtn,initialShow:!0,selector:this.selector.selectorLevel2}]);this.setInternals();this.updateAccordionTranslate(!0);this.isNarrow&&this.changeAccordionHeight();this.elems.accordion2.addClass(this.cssClass.accordionDelayActive)},changeAccordionHeight:function(){var a=this.dimensions.height||this.getAcordionRowHeight(this.elems.accordionRow2);this.elems.accordionRow2.animate({height:a},500)},
moveAccordionDown:function(){var a=this;this.$elem.on(k,function(c){b(c.target).hasClass(a.cssClass.accordion)&&(a.$elem.off(k),a.elems.accordion2.removeClass(a.cssClass.accordionDelayActive),b.publish(a.events.accordionBtnShow,[{btn:a.elems.viewModelsBtn,selector:a.selector.selectorLevel1}]),a.setAccordionActive(!0))}).css("marginTop","0").data("positionY",0);this.$elem.find(".md-new-range-info")&&b(".md-nav-ctas").css({top:""});this.isNarrow&&this.elems.accordionRow2.css({height:""});b.publish(this.events.accordionBtnShow,
[{btn:this.elems.viewModelsBtn,initialShow:!0,selector:this.selector.selectorLevel1}]);this.changeState()},saveAccordionHeight:function(){this.accordionHeight=this.isAccordionCampaign?this.elems.accordionRow2.height():this.elems.accordionRow1.height()},updateLayout:function(){this.$elem.data("state")||(this.saveAccordionHeight(),this.updateAccordionTranslate(),this.isNarrow?this.changeAccordionHeight():this.elems.accordionRow2.css("height","auto"))},saveResolution:function(){this.isNarrow=Modernizr.mq("only screen and (max-width: "+
this.screenMobile+"px)")},manageResize:function(){this.saveResolution();this.isAccordionCampaign||(this.$elem.removeClass(this.cssClass.accordionMove),this.redrawPage(this.elems.accordion[0]));this.updateLayout();this.isAccordionCampaign||this.$elem.addClass(this.cssClass.accordionMove);this.initialized||(this.initialized=!0,this.checkCallback())},changeState:function(){var a=this.$elem.data("state");this.$elem.data("state",!a);this.elems.accordionRow2.toggleClass(this.cssClass.accordionActive)},
saveDimensions:function(a){a.selectorLevel===this.selector.selectorLevel1&&(this.dimensions.selectorLevel1.width=a.width,this.dimensions.selectorLevel1.height=a.height);a.selectorLevel===this.selector.selectorLevel2&&(this.dimensions.selectorLevel2.width=a.width,this.dimensions.selectorLevel2.height=a.height);this.manageResize()},checkCallback:function(){var a=this;this.isAccordionCampaign||g.requestAnimationFrame(function(){a.elems.accordionRow2.addClass(a.cssClass.accordionMove);a.$elem.addClass(a.cssClass.accordionMove)})},
initListeners:function(){this.teardown();this.isAccordionCampaign||(this.subscribes.push(b.subscribe(this.events.accordionBody,this.bind(this,"moveAccordionDown"))),this.subscribes.push(b.subscribe(this.events.accordionModel,this.bind(this,"moveAccordionUp"))));this.subscribes.push(b.subscribe(this.events.initialized,this.bind(this,"saveAccordionHeight")));this.subscribes.push(b.subscribe(this.events.carouselDimensions,this.bind(this,"saveDimensions")))},teardown:function(){for(;this.subscribes.length;)b.unsubscribe(this.subscribes.pop())},
setInternals:function(){this.elems.accordion1=this.$elem.find("."+this.selector.selectorLevel1);this.elems.accordion2=this.$elem.find("."+this.selector.selectorLevel2);this.elems.accordionRow1=this.elems.accordion1.find(this.selector.selectorAccordionContent);this.elems.accordionRow2=this.elems.accordion2.find(this.selector.selectorAccordionContent);this.elems.viewModelsBtn=this.selector.selectorAccordionBtnModels;this.elems.viewBodiesBtn=this.selector.selectorAccordionBtnRange},init:function(){this.settings=
b.extend(!0,{},this.defaults,this.options,this.metadata);this.setInternals();this.saveResolution();this.isAccordionCampaign=this.$elem.hasClass(this.selector.selectorAccordionCampaign.substr(1));this.elems.accordionRow2.hasClass(this.cssClass.accordionActive)?(this.$elem.data("state",0),this.dimensions.selectorLevel1.height=0,this.isNarrow&&(this.saveAccordionHeight(),this.changeAccordionHeight()),this.setAccordionActive(!1)):(this.setAccordionActive(!0),this.$elem.data("state",1));this.initListeners()}};
e.CustomSelectorAccordion=d;b.fn.customselectoraccordion=function(a){return this.each(function(){b.data(this,"customselectoraccordion")||b.data(this,"customselectoraccordion",new d(this,a))})}})(mini.digital.$,mini.digital.comp.customselector,mini.digital.util.transitionEndEvent,window,document);
(function(b,e,k,g){e.extensionsManager=function(){var c={},a={},d={},f=e.common.selector,g=e.common.events,k=e.common.ratioProps,m=function(){var a=b.Deferred();0<c.length?(c.customselectoraccordion(),a.resolve()):a.reject();return a.promise()},q=function(){var c={},d=b.Deferred();0<a.length?(c.ratioProps=k.selectorLevel1,c.complete=d.resolve,c.selectorLevel="md-cs-selector-level1",c.isCampaign=!1,c.heightPadding=a.data("height-padding"),a.customselectorcarousel(c)):d.resolve({});return d.promise()},
l=function(){var a={},c=b.Deferred();a.isCampaign=!!d.find(".md-campaign-teaser").length;a.ratioProps=a.isCampaign?k.selectorCampaign:k.selectorLevel2;a.complete=c.resolve;a.selectorLevel="md-cs-selector-level2";a.heightPadding=d.data("height-padding");a.autoPlaySpeed=d.data("auto-play.speed");a.autoPlaySpeed&&(a.autoPlayPause=!1);var e=d.data("ratio-props-selector");e&&(a.ratioProps=k[e]);d.customselectorcarousel(a);c.resolve({});return c.promise()},t=function(){b.when(m(),q(),l()).done(function(){b.publish(g.initialized)})};
return{init:function(e){c=b(e).find(f.selectorAccordion);a=b(e).find(f.selectorLevel1Carousel);d=b(e).find(f.selectorLevel2Carousel);t()}}}()})(mini.digital.$,mini.digital.comp.customselector,mini.digital.util.matchmedia);
(function(){mini.digital.comp.customselector.stateManager=function(b,e,k,g,c,a,d,f){var h={},n={},m={},q={},l=!1,t=mini.digital.comp.customselector.common.selector,r=mini.digital.comp.customselector.common.cssClass,v=mini.digital.comp.customselector.common.events,w=[],x=function(a){a.selectorLevel===t.selectorLevel1&&(a.selectorLevel=t.selectorLevel2,q.height(q.outerHeight(!0)),e.publish(v.toggle,[a]))},u=function(a){a.selectorLevel===t.selectorLevel2&&q.height("")},y=function(b,c){b=e(b.currentTarget);
var d=b.find(t.responsiveImage),f={bodyTypeUrl:b.attr("data-body-type-url"),url:b.attr("data-url"),code:b.attr("data-item-code"),selectorLevel:t.selectorLevel2},g=1===m.find(t.selectorCarouselContainer+' [data-item-code\x3d"'+b.data("bodytype-code")+'"]').length;c?b.closest("."+r.largeState).length||b.closest("."+r.inMotion).length||(b.hasClass(r.quickLink)?e.publish(v.navigateInitialise,[{url:b.attr("data-body-type-url"),bodyTypeCode:b.attr("data-body-type-code"),description:b.attr("data-body-type-description"),
modelCode:b.attr("data-item-code"),selectorLevel:t.selectorLevel1}]):e.publish(v.changeState,[f])):b.closest("."+r.smallState).length||(g?e.publish(v.changeState,[f]):(f={code:b.data("bodytype-code"),url:b.attr("data-url"),selectorLevel:t.selectorLevel1},e.publish(v.backToJourney,[f])));d.length&&a.changeSize(d,"large")},B=function(a){var b=e(a.currentTarget);b.attr("data-url");var c=b.attr("data-newjcw");c!==f&&"true"===c&&b.dispatchEvent(a);y(a,!1);a.preventDefault();a.stopPropagation()},z=function(a){l||
(y(a,!0),a.preventDefault(),a.stopPropagation())},C=function(a){a&&a.elem&&a.startEvent&&a.endEvent&&a.position&&(e.publish(a.startEvent),a.elem.on(c,function(){a.elem.off(c).parent().removeClass(r.isVisible).addClass(r.isHidden);e.publish(a.endEvent)}).css({transform:"translateY("+a.position+"px)"}))},A=function(a,b){a=e(a.currentTarget);var c=b?30:-30,d=b?v.accordionModelStart:v.accordionBodyStart,f=b?v.accordionModel:v.accordionBody,g={url:a.attr("data-url"),code:a.attr("data-item-code"),selectorLevel:t.selectorLevel2};
g=1===m.find(t.selectorCarouselContainer+' [data-item-code\x3d"'+a.data("bodytype-code")+'"]').length;var h={elem:a,startEvent:d,endEvent:f,position:c},l=function(){C(h);e.unsubscribe([v.delayChangeState,l])};b?C(h):g?C(h):(e.subscribe(v.delayChangeState,l),g={code:a.data("bodytype-code"),url:a.attr("data-url"),selectorLevel:t.selectorLevel1},e.publish(v.backToJourney,[g]))},D=function(a){A(a,!1);a.preventDefault()},H=function(a){var b={selectorLevel:t.selectorLevel2,index:0},c=function(d){d.selectorLevel===
b.selectorLevel&&d.index===b.index&&(e.unsubscribe([v.carouselCacheChecked,c]),A(a,!0))};e.subscribe(v.carouselCacheChecked,c);e.publish(v.carouselCacheCheck,[b]);a.preventDefault()},F=function(a){var b=e(a.btn);a.initialShow?(b.parent().removeClass(r.isHidden).addClass(r.isVisible),a=b.parent()[0],e(a).length&&a.offsetLeft):b.css("transform","translateY(0)")},G=function(a){var b=e(a.currentTarget),c=b.data("transmission");"Default"!==c&&mini.digital.util.currentModel.update("transmission",c);d.addCurrentEvent(d.events.CONFIGURATOR_START);
e.publish(v.loadingAdd,[v.configuratorLoading]);e.publish(v.configuratorInitialise,[{modelCode:b.data("item-code"),modelFeatures:b.data("sa-codes")},function(){e.publish(v.loadingRemove,[v.configuratorLoading]);k.setInAppAction()}]);a.preventDefault()},K=function(a){a?(h.addClass(r.hiddenFromView),h.closest(".md-cs-assembled").addClass(r.hiddenFromView)):(h.removeClass(r.hiddenFromView),h.closest(".md-cs-assembled").removeClass(r.hiddenFromView));e.publish(v.disableRender,[{disableRender:a}])},I=
function(){K(!0)},S=function(){K(!1)},J=function(){K(!1)},L=function(){l=!g.wide.matches},R=function(){for(;w.length;)e.unsubscribe(w.pop());h.off("click",t.selectorChangeState,z);h.off("click",t.selectorChangeStateWide,B);h.off("click",t.selectorAccordionBtnModels,H);h.off("click",t.selectorAccordionBtnRange,D);h.off("click",t.selectorConfigureCar,G)};return{init:function(a){h=e(a);h.find(t.selectorAccordion+""+t.selectorAccordionCampaign).length?(w.push(e.subscribe(v.configuratorInitialised,I)),
w.push(e.subscribe(v.configuratorUnload,S))):(R(),n=h.find(t.selectorAccordion).filter(":not("+t.selectorAccordionCampaign+")"),m=n.find(t.selectorLevel1Carousel),n.find(t.selectorLevel2Carousel),q=n.find("."+t.selectorLevel2),n.hasClass(r.accordionActiveLevel1)&&q.find(t.selectorAccordionBtnRange).css("transform","translateY(-30px)"),L(),w.push(e.subscribe(v.move,x)),w.push(e.subscribe(v.toggleComplete,u)),w.push(e.subscribe(v.resize,L)),w.push(e.subscribe(v.accordionBtnShow,F)),w.push(e.subscribe(v.configuratorInitialised,
I)),w.push(e.subscribe(v.configuratorChangeModel,J)),w.push(e.subscribe(v.configuratorUnload,S)),h.on("click",t.selectorChangeState,z),h.on("click",t.selectorChangeStateWide,B),h.on("click",t.selectorAccordionBtnModels,H),h.on("click",t.selectorAccordionBtnRange,D),h.on("click",t.selectorConfigureCar,G),q.find("."+r.accordionActive).length||e.publish(v.accordionBtnShow,[{btn:e(t.selectorAccordionBtnModels),initialShow:!1}]))},animateButton:C,setDisableRender:K,teardown:R}}(window,mini.digital.$,mini.digital.util.historyManager,
mini.digital.util.matchmedia,mini.digital.util.transitionEndEvent,mini.digital.util.responsiveimage,mini.digital.tracking.customselector)})();
(function(){mini.digital.comp.customselector.QuickLinkManager=function(b){return{processReturnLocation:function(){this.returnLocation&&!this.deleteOnNextNavigate?this.deleteOnNextNavigate=!0:this.deleteOnNextNavigate&&(this.clearReturnLocation(),this.deleteOnNextNavigate=!1)},onMoveComplete:function(){this.processReturnLocation()},setReturnLocation:function(e){var k=this.$children.filter('[data-item-code\x3d"'+e.bodyType.code+'"]');return this.returnLocation=b.extend(!0,{},e,{bodyType:{url:k.attr("data-url"),
description:k.attr("data-item-description")}})},clearReturnLocation:function(){this.returnLocation=null;b("."+this.settings.classes.returnEnabled).removeClass(this.settings.classes.returnEnabled)},onNavigateComplete:function(b){this.loadElements();this.setReturnLocation({bodyType:{code:b.returnBodyTypeCode,url:b.returnBodyTypeUrl,description:b.returnBodyTypeDescription},model:{code:b.returnModelCode}});this.setReturnLinkText();this.enableReturnToParentButton()},setReturnLinkText:function(){this.$returnLabel.text(this.returnLocation.bodyType.description)},
enableReturnToParentButton:function(){b(this.settings.selectors.selectorReturnEnabled).removeClass(this.settings.classes.returnEnabled);b(this.settings.selectors.childrenActive).addClass(this.settings.classes.returnEnabled)},onClickReturnToParent:function(e){e.preventDefault();e.stopPropagation();b.publish(this.settings.events.navigateRequest,[{url:this.returnLocation.bodyType.url,bodyTypeCode:this.returnLocation.bodyType.code,modelCode:this.returnLocation.model.code}]);this.deleteOnNextNavigate=
!0},init:function(e){this.$container=b(e);this.loadSettings();this.loadElements();this.bindEvents();this.bindEventListeners();this.initLocalVars();this.onResizeComponent()},loadSettings:function(){this.settings={};this.settings.events=mini.digital.comp.customselector.common.events;this.settings.classes=mini.digital.comp.customselector.common.cssClass;this.settings.selectors=mini.digital.comp.customselector.common.selector;this.settings.subscribes=[]},loadElements:function(){var e=this.$container,
k=this.settings.selectors;this.$wrap=b(k.selectorWrap,e);this.$children=b(k.selectorChildren,e);this.$returnLabel=b(k.selectorReturnLabel,e)},bindEvents:function(){this.$container.on("click",this.settings.selectors.selectorReturnToParent,this.onClickReturnToParent.bind(this));this.$container.on("click",this.settings.selectors.selectorQuickLink,this.onClickQuickLink.bind(this));this.$container.on("click",this.settings.selectors.selectorReturnShortcut,this.onClickReturnShortcut.bind(this))},onClickQuickLink:function(e){var k=
b(e.currentTarget),g=k.parents(".md-carousel-item").first(),c={bodyTypeCode:k.data("body-type-code"),modelCode:k.data("item-code"),bodyTypeUrl:k.data("body-type-url"),returnBodyTypeDescription:g.data("current-body-type-description")},a=this.settings.events;k=this.settings.selectors;var d=b(e.currentTarget).closest(k.selectorAccordionRow).find(k.selectorAccordionBtnRange),f=a.accordionBodyStart,h=a.accordionBody,n=function(){mini.digital.comp.customselector.stateManager.animateButton({elem:d,startEvent:f,
endEvent:h,position:-30});b.publish(a.updateAccordionBtns,[c]);b.unsubscribe([a.delayChangeState,n])};e.stopPropagation();this.persistReturnArgs({bodyTypeCode:g.data("bodytype-code"),bodyTypeUrl:g.data("current-body-type-url"),modelCode:g.data("item-code"),modelUrl:g.data("item-url")});this.enableReturnShortcut=!0;this.isNarrow&&b.subscribe(a.delayChangeState,n);b.publish(this.settings.events.navigateByQuickLink,[c])},persistReturnArgs:function(b){this.returnArgs=b},initLocalVars:function(){this.moveCompleteEventHandle=
{};this.returnArgs={};this.isNarrow=!1},onMove:function(){this.enableReturnShortcut&&b(this.settings.selectors.childrenActive).addClass(this.settings.classes.returnShortcutEnabled)},onChangeState:function(){this.disableReturnShortcut()},disableReturnShortcut:function(){this.enableReturnShortcut=!1},onClickReturnShortcut:function(e){var k=this.returnArgs;e.preventDefault();e.stopPropagation();this.disableReturnShortcut();b.publish(this.settings.events.navigateByReturnShortcut,[k])},onResizeComponent:function(){this.isNarrow=
Modernizr.mq("only screen and (max-width: "+mini.digital.comp.customselector.common.resolution.mobile+"px)")},bindEventListeners:function(){var e=this.settings.events;this.teardown();this.settings.subscribes.push(b.subscribe(e.navigateComplete,this.onNavigateComplete.bind(this)));this.settings.subscribes.push(b.subscribe(e.moveComplete,this.onMoveComplete.bind(this)));this.settings.subscribes.push(b.subscribe(e.move,this.onMove.bind(this)));this.settings.subscribes.push(b.subscribe(e.changeState,
this.onChangeState.bind(this)));this.settings.subscribes.push(b.subscribe(e.resize,this.onResizeComponent.bind(this)))},teardown:function(){for(;this.settings.subscribes.length;)b.unsubscribe(this.settings.subscribes.pop())}}}(mini.digital.$)})();
(function(){mini.digital.comp.customselector.broadcastManager=function(b,e,k,g,c,a){var d={},f={},h={},n=!1,m=[],q=mini.digital.comp.customselector.common.events,l=mini.digital.comp.customselector.common.selector,t=function(a){var d=b(l.selectorAccordion).not(l.selectorAccordionCampaign).find(l.selectorAccordionActive);if(a&&a.state&&"large"===a.state&&!a.isCampaign&&a.code&&a.url){var f=a.url;e.pushState({uri:f+window.location.search,title:d.find(l.childrenActive).attr("data-item-carname")})}w(a);
c.checkImages()},r=function(a){var c={},d=b(l.selectorAccordion).not(l.selectorAccordionCampaign).find(l.selectorAccordionActive).find(l.childrenActive).find(l.responsiveImage),f=0,e=d.length;if(a&&a.state&&"large"===a.state&&!a.isCampaign&&a.code&&a.url)for(c.code=a.code,c.url=a.url,b.publish(q.broadcastStart,[c]);f<e;f++)g.changeSize(d.eq(f),"large")},v=function(c){var d={},f=0;if(c&&c.selector&&!c.initialShow){var k=h.filter("."+c.selector);k=k.find(l.childrenActive);var m=k.find(l.responsiveImage);
var n=m.length;d.code=k.attr("data-item-code");d.url=k.attr("data-url");if(d.code!==a&&d.url!==a)for(b.publish(q.broadcastStart,[d]),e.pushState({uri:d.url+window.location.search,title:k.attr("data-item-carname")}),c.state="large",c.isCampaign=!1,c.selectorLevel=c.selector,c.url=d.url,w(c);f<n;f++)g.changeSize(m.eq(f),"large")}},w=function(a){var c={};if("large"===a.state&&!a.isCampaign){if("md-cs-selector-level1"===a.selectorLevel){var f=d.find(l.childrenActive).first();c={modelRangeCode:f.attr("data-item-code"),
modelRangeName:f.attr("data-item-carname"),url:f.attr("data-url")||a.url}}"md-cs-selector-level2"===a.selectorLevel&&(f=d.find(l.childrenActive).last(),c={modelRangeCode:f.attr("data-bodytype-code"),modelRangeName:f.attr("data-current-body-type-description"),modelCode:f.attr("data-item-code"),modelName:f.attr("data-item-carname"),modelLongName:f.attr("data-item-carname"),vehicleName:f.attr("data-item-carname"),url:f.attr("data-url"),multipleTransmissions:f.attr("data-availableTransmissions")});mini.digital.util.currentModel.set(c)}a.isCampaign&&
(a=b(l.selectorAccordion).filter(l.selectorAccordionCampaign).find(l.selectorAccordionActive),f=a.find(l.childrenActive),c.url=f.attr("data-url"),mini.digital.util.currentModel.set(c))},x=function(){for(;m.length;)b.unsubscribe(m.pop())};return{init:function(a){d=b(a);x();b(document.body);f=d.find(l.selectorAccordion);h=d.find(l.selectorAccordionRow);n=f.hasClass(l.selectorAccordionCampaign.substr(1));n||(x(),m.push(b.subscribe(q.moveComplete,r)),m.push(b.subscribe(q.moveComplete,t)),m.push(b.subscribe(q.accordionBtnShow,
v)))},teardown:x,updatePageAttr:w}}(mini.digital.$,mini.digital.util.historyManager,mini.digital.util.priceFinance,mini.digital.util.responsiveimage,mini.digital.util.lazyLoadImage)})();
(function(){mini.digital.comp.customselector.campaignsManager=function(b,e,k,g,c,a){var d=e.common.events,f=e.common.selector,h=e.common.cssClass,n=[],m={},q={},l={},t={},r=!1,v=0,w={},x=Modernizr.csstransforms3d?Modernizr.prefixed("transform"):"left",u=Modernizr.csstransforms3d?"translateX(%spx)":"%spx",y=function(){var a=b(f.selectorAccordion).not(f.selectorAccordionCampaign);r?(a=a.find(f.selectorLevel1Carousel+" "+f.childrenActive),a.length&&(a.attr("data-item-code"),a.attr("data-url"))):(a=a.find(f.selectorLevel1Carousel+
" "+f.selectorPaginationLink).filter('[data-item-code\x3d"i0"]'),a.length&&a.attr("href"),e.broadcastManager.updatePageAttr({isCampaign:!0}))},B=function(){var a=b(f.selectorComponent).length;l.width(v*a)},z=function(a){var d=r?-v:0;if(a){var e=l.find(f.selectorComponent);e.removeClass(h.componentHidden);l.on(k,function(a){b(a.target).hasClass(f.selectorAssembledWrap.substr(1))&&(l.off(k),e.eq(r?0:1).addClass(h.componentHidden),r&&c.lazyLoadImage.checkImages())}).css(x,u.replace("%s",d))}else l.css(x,
u.replace("%s",d));g.pushState({uri:w.url+window.location.search,title:(r?b(f.selectorAccordion).not(f.selectorAccordionCampaign):b(f.selectorAccordion).filter(f.selectorAccordionCampaign)).find(f.selectorChildren).eq(0).attr(r?"data-item-carname":"data-item-campaignname")})},C=function(){q.length&&(v=q.width(),B(),z())},A=function(a){a.current=a.childrenLength-1;a.goToPosition(a.current,!0);a.setChildCurrent()},D=function(){var a=q.find(f.selectorAccordion).not(f.selectorAccordionCampaign),c=a.find(f.selectorLevel1Carousel),
e=a.find(f.selectorLevel2Carousel),g=c.data("customselectorcarousel"),l=e.data("customselectorcarousel");a=c.find(f.selectorPaginationLink).filter('[href\x3d"'+w.url+'"]').attr("data-item-code");var k=[];e.addClass(h.immediateTransition);g.modules.modNoTransition.addItemToQueue("manageSwitchState");l.modules.modNoTransition.addItemToQueue("manageSwitchState");g.onComponentResize();l.onComponentResize();g.initListeners();l.initListeners();b.publish(d.loadingAdd,["loadingSwitchState"]);k=b.subscribe(d.toggleComplete,
function(a){a.url===w.url&&(e.removeClass(h.immediateTransition),g.modules.modNoTransition.removeItemFromQueue("manageSwitchState"),l.modules.modNoTransition.removeItemFromQueue("manageSwitchState"),b.unsubscribe(k),b.publish(d.loadingRemove,["loadingSwitchState"]),z(!0),y())});g.manageNavigation(w.url,a)},H=function(a){v=m.width();r=a.isCampaign;w=a;if(a.hasChanged)if(r)D();else{var g=q.find(f.selectorAccordion),k=g.filter(f.selectorAccordionCampaign).find(f.selectorCarousel),n=k.data("customselectorcarousel"),
C=g.not(f.selectorAccordionCampaign);g=C.find(f.selectorLevel1Carousel);C=C.find(f.selectorLevel2Carousel);g=g.data("customselectorcarousel");C=C.data("customselectorcarousel");g.teardown();C.teardown();a.isPaginationDerived?(n.requestProps.code=k.find(f.selectorPaginationLink).eq(0).attr("data-item-code"),n.resetPosition(),n.resetNavigation()):A(n);z(!0);y()}else t=b(e.requestManager.cache.i0),b(f.selectorComponent).wrap('\x3cdiv class\x3d"'+f.selectorAssembled.substr(1)+'"\x3e\x3cdiv class\x3d"'+
f.selectorAssembledWrap.substr(1)+'"\x3e\x3c/div\x3e\x3c/div\x3e'),q=b(f.selectorAssembled),l=q.find(f.selectorAssembledWrap),c.initialise(t),a.isCampaign?l.append(t):l.prepend(t),q.addClass(h.assembledMultiple),B(),a.isCampaign||(q.addClass(h.assembledNoTransition),k=q[0],b(k).length&&k.offsetLeft,l.css(x,u.replace("%s",-v)),k=q[0],b(k).length&&k.offsetLeft,q.removeClass(h.assembledNoTransition)),z(!0),b.publish(d.loadingRemove,[d.loadingRequests]),e.loadingIndicator.init(q.find(f.selectorComponent),
document),e.frameManager.init(t,document),e.accordionButtonsManager.init(t,document),e.accordionCtasManager.init(t,document),e.extensionsManager.init(t,document),r?(e.stateManager.init(t,document),e.broadcastManager.init(t,document)):r||a.isPaginationDerived||(a=q.find(f.selectorAccordion).filter(f.selectorAccordionCampaign),a=a.find(f.selectorCarousel),a=a.data("customselectorcarousel"),A(a)),y()},F=function(){for(;n.length;)b.unsubscribe(n.pop())};return{init:function(a){m=b(a);F();n.push(b.subscribe(d.carouselSwitch,
H));n.push(b.subscribe(d.resize,C))},teardown:F}}(mini.digital.$,mini.digital.comp.customselector,mini.digital.util.transitionEndEvent,mini.digital.util.historyManager,mini.digital.util)})();
(function(b){mini.digital.comp.customselector.init=function(e,k,g,c){mini.digital.comp.customselector.campaignsManager.init(e,k);for(var a in mini.digital.comp.customselector)mini.digital.comp.customselector.hasOwnProperty(a)&&"campaignsManager"!==a&&mini.digital.comp.customselector[a].hasOwnProperty("init")&&"function"===typeof mini.digital.comp.customselector[a].init&&mini.digital.comp.customselector[a].init(e,k,c);b.init(c,e)}})(mini.digital.tracking.customselector);
(function(b,e,k){var g=function(c,a,d){function f(a){a=a.find(".md-prodinfo-header").data("transmission");if(void 0===a||null===a)a="Default";return a}function g(a){a=a.find(".md-prodinfo-header").data("availableTransmissions");var b=[];a&&(b=-1<a.indexOf(",")?a.split(","):[a]);return b}function n(a){A.$toggle.find('input[value\x3d"'+a.transmission+'"]').click()}function m(a){a.preventDefault();a=e(a.currentTarget);q(a,A.$tabs);c.trigger("md:productinfo:tab",[a]);k.lazyLoadImage.checkImages();A.$compare&&
y()}function q(a,b){b.find("."+A.selectorActive).removeClass(A.selectorActive);a.addClass(A.selectorActive)}function l(){A.$modal.removeClass(A.selectorActive);e.publish("md:productinfo:close",[A.$modal])}function t(a){a.matches&&(A.$toggle.appendTo(A.$intro),l(),A.hasCompare&&!A.$compare&&w())}function r(a){a.value&&a.type&&a.type===A.$toggle.data("toggle-type")&&(A.$toggleContent.removeClass(function(a,b){return(a=b.match(/md-is-trans-\w+/g))?a.join(" "):""}),A.$toggleContent.addClass("md-is-trans-"+
a.value.toLowerCase()),A.transmission=a.value,A.$compare&&A.carouselIsLoaded&&y())}function v(a,b){var c=e.Deferred();A.compareData={relativeResourcePath:a.attr(A.compareAttr+"-resource"),next:a.attr(A.compareAttr+"-next"),prev:a.attr(A.compareAttr+"-prev")};D.push(e.subscribe("md:cpi:data",function(a,d){if("models"===a&&d&&d.length){if("equipment"==b||"productinfo"==b)for(A.compareData.models=[],a=0;a<d.length;a++){var f=-1;"equipment"==b&&"true"!=d[a].hideEquipment&&(f=a);"productinfo"==b&&"true"!=
d[a].hideProductInfo&&(f=a);-1!=f&&A.compareData.models.push(d[f])}else A.compareData.models=d;c.resolve()}}));return c.promise()}function w(){var a=d+"-compare";A.$compare=e([]);A.$hasCompare=c.find(a);var f=x();0<f.length&&c.addClass(A.selectorLoadingCompare);0<f.length&&A.$hasCompare.each(function(b){b=A.$hasCompare.eq(b).removeClass(a.slice(1));var c=b.clone().empty().addClass(A.selectorCompare);A.$compare=A.$compare.add(c.insertAfter(b))});A.$compare.ajaxCarousel({active:z(),defaultSlide:C(),
beforeLoad:u,afterLoad:function(a){A.$hasCompare.addClass(A.selectorHasCompare);c.removeClass(A.selectorLoadingCompare);k.initialise(a);A.carouselIsLoaded=!0},urls:A.compareData.models.map(function(a){return a.url+"/"+A.compareData.relativeResourcePath+".html"+b.location.search}),i18n:{next:A.compareData.next,prev:A.compareData.prev}})}function x(){var a=[];A.compareData.models.map(function(a){var c=a.url+"/"+A.compareData.relativeResourcePath+".html"+b.location.search;if(A.availableTransmissions&&
0<A.availableTransmissions.length){for(var d=!1,f=0;f<A.availableTransmissions.length;f++)if(-1!=a.transmissions.indexOf(A.availableTransmissions[f])){d=!0;break}d||(c=void 0)}return c}).forEach(function(b){b&&a.push(b)});return a}function u(a){var b=e(a).find(d+"-compare"),c=[];b.each(function(a){var d=b.eq(a);a=d.html();d=d.data("compare-row-id");var f=-1!=e.inArray(d,A.compareRowIds);(void 0===d||f)&&c.push(a)});return c}function y(){var a=z(),b=!!a.length,c=A.$compare.data("ajaxcarousel");c&&
c.updateActive(a);A.$compare.toggle(b);A.$hasCompare.toggleClass(A.selectorHasCompare,b);B()}function B(){var a=e("[data-component-name\x3dproductinfo]").find("a.md-prodinfo-tabs-btn.md-js-prodinfo-tabs-btn.md-is-selected").attr("href").substring(1);A.$table.find(".md-prodinfo-row").each(function(b){var c=e(this);c.data().categoryId==a&&e(this).find("td.md-has-compare").each(function(b){0<e(this).find("span.md-prodinfo-value[data-prodinfo-trans\x3d"+A.transmission+"]").find("[data-prodinfo-exists][data-category-id\x3d"+
a+"]").text().length?c.show():c.hide()})})}function z(){return A.compareData.models.map(function(a,b){return b}).filter(function(a){return-1<A.compareData.models[a].transmissions.indexOf(A.transmission)})}function C(){for(var a,b=z(),c=A.compareData.models,d=0;d<c.length;d+=1)if(c.length&&"true"===c[d].isDefaultCompareModel){var f=d;-1<b.indexOf(f)&&(a=f)}return a}var A=this,D=[];A.selectorActive="md-is-selected";A.selectorLoadingCompare="md-is-loading-compare";A.selectorCompare="md-is-compare";A.selectorJsCompare=
"md-js-prodinfo-compare";A.selectorHasCompare="md-has-compare";A.compareAttr="data-"+a+"-compare";A.compareRowIds=[];A.carouselIsLoaded=!1;A.availableTransmissions=[];A.filterContent=function(a){var b=d+"-group";q(e(a).closest(b),A.$table)};A.destroy=function(){k.matchmedia.wide.removeListener(t);k.unsubArray(D);c.off("."+a);A.$modal.off("."+a)};(function(){var b=c.find("["+A.compareAttr+"-resource]");A.$intro=c.find(d+"-intro");A.$toggle=c.find(d+"-toggle");A.$tabs=c.find(d+"-tabs");A.$table=c.find(d+
"-data");A.$modal=A.$table;A.$toggleContent=A.$table.add(c.find(d+"-models"));A.transmission=f(c);A.availableTransmissions=g(c);A.carouselIsLoaded=!1;c.on("click."+a,d+"-tabs-btn",m);c.on("click."+a,d+"-back",function(a){l();a.preventDefault()});c.on("md:productinfo:tab."+a,function(a,b){a=b[0].hash;A.filterContent(a);k.matchmedia.wide.matches||(b=e(a),A.$backButton=A.$backButton||e("\x3cbutton /\x3e",{"class":"md-prodinfo-back md-js-prodinfo-back md-icnpre-angle-left"}).prependTo(A.$table),A.$backButton.text(b.find(d+
"-category").text()),A.$modal.addClass(A.selectorActive),A.$toggle.appendTo(e(a)),a=A.$tabs.find("."+A.selectorActive),e.publish("md:productinfo:open",[A.$modal,a]))});D=[e.subscribe("md:toggle:init",r),e.subscribe("md:toggle:update",r),e.subscribe("md:currentModel:changed",n)];k.matchmedia.wide.addListener(t);var h=A.$tabs.find("."+A.selectorActive);A.filterContent(h.attr("href"));b.length&&v(b,c.data("componentName")).done(function(){A.hasCompare=!0;k.matchmedia.wide.matches&&w()});c.data(a,A);
A.compareRowIds=[];var q=c.find("."+A.selectorJsCompare);q.each(function(a){a=q.eq(a).data("compare-row-id");void 0!==a&&A.compareRowIds.push(a)})})()};mini.digital.comp.productinfo=function(){function c(a,c){f.not(a).removeClass(d);e(b).on("orientationchange",function(){setTimeout(function(){var a=c.offset().top;a=a-50-c.outerHeight(!0);console.log("orientation",c,a);e("html, body").animate({scrollTop:a})},2E3)})}function a(a){}var d="",f=e([]),h=0,n=[];return{init:function(b){b=e(b);b=new g(b,"prodinfo",
".md-js-prodinfo");h||(n.push(e.subscribe("md:productinfo:open",c)),n.push(e.subscribe("md:productinfo:close",a)));d=d||b.selectorActive;f=f.add(b.$modal);h+=1},teardown:function(a){if(a=e(a).data("prodinfo"))a.destroy(),--h;h||k.unsubArray(n)}}}()})(window,mini.digital.$,mini.digital.util);(function(){mini.digital.comp.equipment=function(){return{init:function(b){mini.digital.comp.productinfo.init(b)},teardown:function(b){mini.digital.comp.productinfo.teardown(b)}}}()})();
(function(b,e){mini.digital.comp.equipmentpacks=function(){return{init:function(k){var g=b(k),c=g.find(".md-js-equippacks-show-link"),a=g.find(".md-js-equippacks-details");mini.digital.comp.productinfo.init(k);g.on("click.equippacks",".md-js-equippacks-show-link",function(d){d.preventDefault();a.toggleClass("md-show");c.toggleClass("md-icnpost-angle-up");e.scrollTo.element(b(d.currentTarget.hash),{duration:500})})},teardown:function(e){b(e).off("click.equippacks");mini.digital.comp.productinfo.teardown(e)}}}()})(mini.digital.$,
mini.digital.util);
(function(b,e,k){b.configurator=function(){function g(){k.subscribe(ia.confInitialise,x);k.subscribe(ia.h5vcoChangeModel,v);k.subscribe(ia.h5vcoNextSteps,h);k.subscribe(ia.h5vcoSummaryClosed,n);k.subscribe(ia.h5vcoHeadbarClicked,n);k.subscribe(ia.h5vcoConfigurationChanged,f);k.subscribe(ia.h5vcoSaveModel,m);k.subscribe(ia.h5vcoCtaClicked,q);k.subscribe(ia.topNavigationClick,c);k.subscribe(ia.confUnload,function(){ta=!1;D.removeClass("md-configurator-next-steps-is-open");w()});k.subscribe("md:hide:loading",w);
k.subscribe(ia.h5vcoChangeModel,function(){})}function c(){if(0==qa&&1==ya&&1==k("div#h5vco-configurator").length){var a=k.find("div#savereminder");L=L||k.mdOverlay({open:!1,ajax:!1,title:k(a).data("title"),source:a,type:"veil",veilZIndex:12,style:"x-sml"},D);L.openOverlay();a=k.find("div#savereminder");k(a).find("button.md-btn-ok").off().on("click",function(){L.closeOverlay();qa=!0;var a=k("div.head-bar").find("li.cta.bookmark");k(a).find("a.button.button-secondary.ng-scope")[0].click()});k(a).find("button.md-btn-nok").off().on("click",
function(){L.closeOverlay();qa=!0});k.subscribe("md:overlay:closed",function(a){qa=!0})}}function a(a){var b=k(a.currentTarget).data("md-conf-model");a.preventDefault();x(b)}function d(){var a=k.Deferred(),b=k.subscribe("h5vco.vehicleAnonSaved",function(c){V.configUrl=c;V.shareConfigUrl=window.location.origin+"/?configurationID\x3d"+V.configUrl;(function(){var a=k.Deferred();window.mini.digital.comp.ucpApi?a.resolve(window.mini.digital.comp.ucpApi):require(["apps/minidigital/components/configurator-con/clientlib/ConfiguratorCon"],
function(b){window.mini.digital.comp.ucpApi=b;a.resolve(b)});return a})().then(function(c){c.getVehicle(V.configUrl).then(function(c){V.totalNet=c.totalNet;V.featuresNet=c.featuresNet;V.modelNet=c.modelNet;V.modelGross=c.modelGross;V.featureDetails=c.featureDetails;k.unsubscribe(b);a.resolve(V)})})});k.publish("h5vco.saveVehicleAnon");return a.promise()}function f(a){a&&(ya=void 0==V.modelCode||JSON.stringify(a)===JSON.stringify(V)?!1:!0,V=a,l(),G.attr("src",ba.placeholderImageUrl),K.attr("src",ba.placeholderImageUrl))}
function h(){G.attr("data-ri-src",ba.exteriorImageUrl);K.attr("data-ri-src",ba.interiorImageUrl);if(ba.exteriorImageUrl){var a=window.getComputedStyle(G[0]),b=-1;a.width&&-1<a.width.indexOf("%")&&(a=a.width,a=a.replace("%",""),b=parseInt(a)/100*G.context.offsetWidth);-1<b?e.lazyLoadImage.loadImage(G,ba.exteriorImageUrl,b):e.lazyLoadImage.init(G)}ba.interiorImageUrl&&e.lazyLoadImage.init(K);u();D.addClass("md-configurator-next-steps-is-open");k(window).on("debouncedresize",u)}function n(){D.removeClass("md-configurator-next-steps-is-open");
k(window).off("debouncedresize",u)}function m(){var a=T?"confCarUpdate":"confCarSave";V.configUrl=T;V.cosyImageInfos=[{},{},{urlString:ba.exteriorImageUrl},{urlString:ba.frontImageUrl},{urlString:ba.frontImageUrl}];k.publish(ia[a],[V]);ya=!1}function q(a){switch(a){case "RFI":var b=I;break;case "TDA":b=J;break;case "RFO":b=S;break;default:return}setTimeout(function(){h5vco.libs.angular.element(b[0]).trigger("click")},0)}function l(){var a=V.selectedFeatures.join(",");var b=V.agCode||V.modelCode,c=
a.match(/\bf\w+/i),d=a.match(/\bp\w+/i);d=d?"\x26PAINT\x3d"+d[0]:"";c=c?"\x26FABRIC\x3d"+c[0]:"";a=ba.defaultParams+"\x26SA\x3d"+a+d+c+"\x26VEHICLE\x3d"+b+"\x26";k.get(ba.serviceEndpoint+encodeURIComponent(a+ba.exteriorImageDefaultParams),function(a){a&&a.cosyUrl&&(ba.exteriorImageUrl=a.cosyUrl)});k.get(ba.serviceEndpoint+encodeURIComponent(a+ba.interiorImageDefaultParams),function(a){a&&a.cosyUrl&&(ba.interiorImageUrl=a.cosyUrl)});k.get(ba.serviceEndpoint+encodeURIComponent(a+ba.frontImageDefaultParams),
function(a){a&&a.cosyUrl&&(ba.frontImageUrl=a.cosyUrl)})}function t(){return{exteriorImageUrl:ba.exteriorImageUrl,interiorImageUrl:ba.interiorImageUrl,frontImageUrl:ba.frontImageUrl}}function r(){if(!e.iselementinviewport(H)){var a=H.find(".head-bar .model-title");a.length||(a=H);window.setTimeout(function(){e.scrollTo.element(a,{},800)},10)}}function v(){k.publish("md:configurator:model:changed")}function w(){oa.toggleClass("md-is-active",!1)}function x(a,c){var d=window.location.pathname;if(e.browser.isMobile&&
da&&0<da.length&&0>d.indexOf(da))d=null,a&&(a.modelCode&&(d=da+"?configCode\x3d"+a.modelCode),a.modelFeatures&&(-1<d.indexOf("?")?d=d+"\x26configFeatures\x3d"+a.modelFeatures:console.log("Error missing model code"))),0<window.location.search.length&&(d=da+window.location.search),k.isFunction(c)&&c(),window.location.replace(window.location.origin+d);else{mini.digital.comp.ctas.hideTopCtas();C();var f=void 0;"function"===typeof define&&define.amd&&(f=define,define=void 0);z().then(function(){try{ta=
!0;if(k.isPlainObject(a)&&!T){var d="uid\x3d"+N+"\x26language\x3d"+O+"\x26country\x3d"+U;B("#/configurator/"+a.modelCode+"/"+(a.features?a.features+"/"+d:a.modelFeatures?a.modelFeatures+"/"+d:d))}k.isPlainObject(a)&&T&&y(T);k.isPlainObject(a)&&Q&&!T&&(T=Q,y(Q));e.angular.isModuleAvailable("mdMINI")||(b.configurator.nextSteps.init(),mini.digital.comp.configurator.app.init("mdMINI","MINI","configurator.nextSteps","SF.Widget.Financing","UFL"));h5vco.libs.angular.element(A).scope()?H.show():h5vco.libs.angular.bootstrap(A,
["mdMINI"]);var g=h5vco.libs.angular.element(A).scope();k.publish(ia.confInitialised,[a]);k.isFunction(c)&&c();r();try{$scope.$$childHead&&h5vco.libs.angular.isFunction(g.$$childHead.hasConfigurationLoaded)&&!g.$$childHead.hasConfigurationLoaded()?oa.toggleClass("md-is-active",!0):w()}catch(ka){console.log(ka)}finally{w()}W&&q(W)}catch(ka){console.log(ka)}finally{void 0!==f&&(define=f)}})}}function u(){function a(){F.css({height:"100%",width:b.outerWidth(),top:c.outerHeight()})}var b=H.find(".summary"),
c=H.find(".header");if(0===b.length)return!1;a();clearInterval(la);clearTimeout(sa);la=setInterval(a,250);sa=setTimeout(function(){clearInterval(la)},5E3)}function y(a){B("#/configurator/configUrl/"+a+"/uid\x3d"+N+"\x26language\x3d"+O+"\x26country\x3d"+U)}function B(a){var b=a;if(void 0!=p&&null!=p)switch(p){case "view":b=a+"\x26view\x3d"+za;break;case "toolbox":b=a+"\x26toolbox\x3d"+za}window.location.hash=b}function z(){return k.when(e.lazyLoadScript({url:R+ua.CONF_JS,isLoaded:function(){try{return e.angular.isModuleAvailable("MINI",
h5vco.libs.angular)}catch(Z){return!1}}}))}function C(){return k.when(e.lazyLoadCss({url:R+ua.CONF_CSS,isLoaded:function(){try{return e.angular.isModuleAvailable("MINI",h5vco.libs.angular)}catch(Z){return!1}}}))}var A,D,H,F,G,K,I,S,J,L,R,O,U,N,T,Q,da,W,ca,Y,V={},la,sa,ta=!1,pa,qa=!1,ya=!1,na,M,p,za,ia={topNavigationClick:"md:navigation:toplevelclicked",confInitialise:"md:configurator:initialise",confInitialised:"md:configurator:initialised",confCarSave:"md:configurator:savecar",confCarUpdate:"md:configurator:updatecar",
confUnload:"md:configurator:unload",h5vcoChangeModel:"h5vco.changeModel",h5vcoNextSteps:"h5vco.nextSteps",h5vcoSaveModel:"h5vco.saveModel",h5vcoCtaClicked:"h5vco.ctaClicked",h5vcoHeadbarClicked:"h5vco.headbarClicked",h5vcoConfigurationChanged:"h5vco.configurationChanged",h5voTransformModel:"h5vco.transformModel",h5vcoSummaryClosed:"h5vco.summaryClosed"},ua={CONF_JS:"js/main.js",CONF_CSS:"css/main.css"},ba={exteriorImageUrl:"",interiorImageUrl:"",frontImageUrl:"",placeholderImageUrl:"",defaultParams:"QUALITY\x3d85",
exteriorImageDefaultParams:"RESP\x3dpng\x26BKGND\x3dTRANSPARENT\x26pov\x3dWALKAROUND,VISUALIZER\x26align\x3dCENTER\x26cut\x3d1\x26aliased\x3d0\x26layer\x3d-\x26quality\x3d80\x26sharp\x3d0\x26width\x3d852\x26height\x3d452\x26w\x3d9561\x26h\x3d11316\x26x\x3d614\x26y\x3d0\x26angle\x3d330\x26tilt\x3d0\x26pitch\x3d0\x26sa-shadow\x3don",interiorImageDefaultParams:"RESP\x3djpg\x26pov\x3dDASHBOARD\x26WIDTH\x3d500\x26BKGND\x3d2\x26width\x3d414\x26height\x3d283\x26w\x3d9912\x26h\x3d9035\x26x\x3d0\x26y\x3d965\x26cut\x3d1\x26align\x3dCENTER",
frontImageDefaultParams:"RESP\x3dPNG\x26POV\x3dWALKAROUND\x26bkgnd\x3dTRANSPARENT\x26WIDTH\x3d300\x26X\x3d1600\x26Y\x3d1800\x26H\x3d6900\x26W\x3d6900",serviceEndpoint:"/bin/public/mini/cosy/encode.html/"},oa;return{init:function(b){var c="",d={},f="";A=b;H=k(b);D=k(".md");k("body");k(".md-ctas");F=H.find(".md-configurator-next-steps");G=F.find(".md-configurator-next-steps-images-exterior");K=F.find(".md-configurator-next-steps-images-interior");J=F.find(".md-configurator-cta-tda");S=F.find(".md-configurator-cta-rfo");
I=F.find(".md-configurator-cta-rfi");oa=H.find(".md-page-loading-indicator");O=H.data("configurator-lang");U=H.data("configurator-country");N=H.data("configurator-uid");R=H.data("configurator-base");c=H.data("configurator-ucp")||"";da=H.data("configurator-url-mobile");b=H.data("configurator-ucp-baseurl-v3");H.data("gcdm-base");c&&(f=c.replace(/^(\/[^\/]*).*/,function(a,b){return b+"/finance"}));window.h5vcoExternalSettings={integrationMode:"digital",countryCode:U,language:O,gaVariantUID:N,ucpBaseUrl:c,
h5vcoBaseUrl:R,v3UcpBaseUrl:b,financeBaseUrl:f,env:H.data("configurator-ucp-env"),contextBaseUrl:{emission:{url:H.data("configurator-emission-url"),useCloudToken:H.data("configurator-emission-use-cloud-token")}}};ba.placeholderImageUrl=G.attr("src");g();H.on("click",".md-js-conf-update-model",a);H.on("click",".md-configurator-next-steps-back",n);T=window.location.hash.match(/configUrl\/([^\/]+)/i);Q=window.location.search.match(/[?&]configurationID=([^&]*)?/);W=window.location.search.match(/[?&]configurationCTA=([^&]*)?/);
ca=window.location.search.match(/configCode=([^&]*)?/);Y=window.location.search.match(/configFeatures=([^&]*)?/);na=window.location.search.match(/[?&]view=([^&]*)?/);M=window.location.search.match(/[?&]toolbox=([^&]*)?/);na&&(p="view",za=na[1]);M&&(p="toolbox",za=M[1]);W&&(W=W[1].toUpperCase());T&&(T=T[1],x({}));Q&&!T&&(Q=Q[1],x({}));ca&&(d.modelCode=ca[1],Y&&(c=decodeURIComponent(Y[1]).split(","),c=c.sort(),d.modelFeatures=c.join(",")),window.location.hash="",x(d))},events:ia,modules:{nextStepsModule:"configurator.nextSteps"},
isRunning:function(){return ta},manageConfiguratorLoaded:x,transformModel:function(a){k.publish(ia.h5voTransformModel,[a])},getCosyImages:t,getModelConfig:d,getVehicleToOverlay:function(a){var b=k.Deferred(),c=e.currentModel.get();d().then(function(a){var d=t();a.bodyName=c.modelRangeName;a.vehicleName=c.modelLongName;a.cosyImageInfos=[{},{},{urlString:d.exteriorImageUrl}];b.resolve(a)});return b.promise()},focusConfigurator:r,setFacadeApi:function(a){pa=a},getFacadeApi:function(){return pa}}}()})(mini.digital.comp,
mini.digital.util,mini.digital.$);
mini.digital.comp.configurator.app=function(b,e){return{init:function(k,g,c,a,d){k=h5vco.libs.angular.module(k,[g,c,a,d]);k.controller("mdMini_ConfiguratorController",["$scope","$rootScope","SF_HostingPageService","UFL_Access","$interval","UFL_LoadingIndicatorService",function(a,c,d,g,k,l){d.getFinanceFacadeForApplication("html5-mini").then(function(a){b.setFacadeApi(a)});c.$on("stage:heightUpdated",function(a,b){});var f=0,h=k(function(){null!=l&&l.isRequestInProgress()&&e.publish("md:hide:loading");
a.$$childHead&&h5vco.libs.angular.isFunction(a.$$childHead.hasConfigurationLoaded)&&(a.$$childHead.$$childHead.hasConfigurationLoaded()?(e.publish("md:hide:loading"),a.stop()):f+=1);6===f&&(e.publish("md:hide:loading"),a.stop())},500);a.stop=function(){k.cancel(h)}}]);return k}}}(mini.digital.comp.configurator,mini.digital.$);
(function(b,e,k){b.configurator.nextSteps=function(){return{init:function(){var e=h5vco.libs.angular.module(b.configurator.modules.nextStepsModule,[]);e.directive("configuratorNextSteps",[function(){return{restrict:"A",scope:!0,link:function(c){function a(a){a.requester.is(".md-configurator-cta")&&(a.overlayContent.empty(),k.unsubscribe(f),k.unsubscribe(e),k.unsubscribe(g));k.unsubscribe(d)}var d,f,e,g;c.openOverlay=function(c,h){b.configurator.getVehicleToOverlay(h).then(function(b){d=k.subscribe("md:formgcdm:loaded",
function(){k.publish("md:configurator:gcdmRequest",[b,h])});k.subscribe("md:selector:initialised",function(){k.publish("md:configurator:gcdmRequest",[b,h])});g=k.subscribe("md:overlay:closed",a);e=k.subscribe("md:overlay:contentLoaded",function(){mini.digital.util.lazyLoadImage.forceLoad=!0});f=k.subscribe("md:overlay:opened",function(){mini.digital.util.lazyLoadImage.forceLoad=!1});k(c.target).data("overlay").toggleOverlay(c)})}}}}]);e.directive("configuratorFormsOverlay",[function(){return{scope:{},
link:function(b,a,d){b=d.url;if(-1==b.indexOf("http")||-1==b.indexOf("https"))b=b.replace(".html","")+"/jcr:content/main.html?wcmmode\x3ddisabled";k(a).overlay({ajax:!0,source:b,style:"steps",veilZIndex:1030,titleFromContent:!0,titleSelector:".md-custom-overlay-header-title:first",history:!0})}}}]);return e}}}()})(mini.digital.comp,mini.digital.util,mini.digital.$);
(function(b,e,k,g,c,a,d,f,h,n){function m(b,c){return 0===a(c).closest(l.CLASSNAME_GALLERY_EXCLUDES).length}function q(b,e){function h(c){c.preventDefault();u&&u.removeClass(l.CLASSNAME_PREFIX+"-row-raised");b.removeClass(l.CLASSNAME_PREFIX+"-open");e.removeClass(l.CLASSNAME_PREFIX+"-slide-out");a.publish("md:gallery-state:changed")}function k(a){return 0<a.parents(l.CLASSNAME_GALLERY_EXCLUDES).length?3:z.index(a)}function n(g){g.preventDefault();w=!0;g=a(g.target).closest("."+l.CLASSNAME_PREFIX+
"-item");var h=g.closest("."+l.CLASSNAME_PREFIX+"-row");g=k(g);var m=f.wide.matches?1.5:1,n=h.offset().top;y=a(d).scrollTop();e.trigger("slider:jumpTo",0>g?0:g);d.requestAnimationFrame(function(){x&&x.is(h)||(x=h,e.insertAfter(x));u=h.nextAll("."+l.CLASSNAME_PREFIX+"-row").addClass(l.CLASSNAME_PREFIX+"-row-lowered");d.requestAnimationFrame(function(){b.toggleClass(l.CLASSNAME_PREFIX+"-open");e.addClass(l.CLASSNAME_PREFIX+"-slide-in");c.position(n+h.height()/m,550);setTimeout(function(){a.publish("md:gallery-state:changed")},
550)})})}function q(a){a.preventDefault();w=!1;u.removeClass(l.CLASSNAME_PREFIX+"-row-lowered").addClass(l.CLASSNAME_PREFIX+"-row-raised");e.removeClass(l.CLASSNAME_PREFIX+"-slide-in").addClass(l.CLASSNAME_PREFIX+"-slide-out");c.position(y,550);v&&h(a)}var w=!1,x,u,z=b.find("."+l.CLASSNAME_PREFIX+"-item").filter(m),y;b.on("click",".md-gallery-item",function(a){w?q(a):n(a)});b.on("click",".md-gallery-close",q);b.on(g,".md-gallery-slide-out",h)}var l={PLAYERSTATE:{PLAYING:"PLAYING"},SCROLL_SWIPE_THRESHOLD:16,
SCROLL_SWIPE_ANGLE:50,CLASSNAME_PREFIX:"md-gallery",CLASSNAME_CAROUSEL_EXCLUDES:".md-gallery-js-exclude-in-carousel",CLASSNAME_GALLERY_EXCLUDES:".md-gallery-slide-exclude",SLIDER:{ANIM_DURATION:750,DRAG:.15,FRICTION:.1,SNAP:{SLIDE_THRESHOLD:.25,VELOCITY_THRESHOLD:.25,DURATION:550}}},t,r="click",v=a("html").hasClass("ie8"),w=function(a,b){this.$node=b;this.type="image";this.imageInitialized=!1;this.notify=function(){this.imageInitialized||(n.lazyLoadImages(this.$node),this.imageInitialized=!0)}},x=
function(a,b){var c,d=b.find(".md-video-player \x3e *[id^\x3dplayer-]").attr("id");d&&(c=jwplayer(d));this.$node=b;this.type="video";this.notify=function(){c&&(c=jwplayer(d),c.getState()===l.PLAYERSTATE.PLAYING&&c.pause())}},u=function(a,b,c,d,f){return-d*(b/=f)*(b-2)+c},y=function(c,g,m,n,q,v,y){var z=this,B=0,A=0,C=y?!0===y.isVariableHeight:!1,D=g.map(function(a,b){return"video"===b.type?new x(a,b.visual):new w(a,b.visual)}).toArray();z.slider=new b(D,d.requestAnimationFrame,u,c.find(".md-gallery-carousel-visuals"),
{isVariableHeight:C});z.slider.addConstraint(new e.Drag(l.SLIDER.DRAG));z.slider.addConstraint(new e.EdgeResistance);z.slider.addConstraint(new e.Decelerate(l.SLIDER.FRICTION));z.slider.addConstraint(new e.SnapToGrid(l.SLIDER.SNAP.SLIDE_THRESHOLD,l.SLIDER.SNAP.VELOCITY_THRESHOLD,l.SLIDER.SNAP.DURATION));z.isOpen=!1;var H=function(){z.isOpen&&(d.requestAnimationFrame(H),z.isOpen=!1);if(B!==A){var a=B-A;A+=a/12;.005>Math.abs(a)&&(A=B);h.isIE&&!Modernizr.csstransforms3d?n.css("left",A+"%"):Modernizr.csstransforms3d?
n.css("transform","translate3d("+A+"%,0,0)"):n.css("left",A+"%")}},F=c.find(".md-gallery-next"),O=c.find(".md-gallery-prev");z.slider.onUpdate(function(a,b){var c=Math.round(-a.x/b.x);z.isOpen=!0;H();Modernizr.csstransforms3d?m.css("transform","translate3d("+100*a.x/b.x+"%,0,0)"):m.css("left",100*a.x/b.x+"%");B=100*Math.round(a.x/b.x);O.toggleClass("md-disabled",0===c);F.toggleClass("md-disabled",c===D.length-1)});z.slider.onSlideIndexUpdate(function(a,b){var c={eventInfo:{},attributes:{},category:{}},
d={eventInfo:{},attributes:{},category:{}};c.eventInfo.eventName="tile view";c.eventInfo.cause="default";c.eventInfo.effect="tile view";c.attributes.relatedComponentName="gallery";c.attributes.relatedComponentPrimaryCategory="gallery";c.category.primaryCategory="gallery";c.category.subCategory01="navigation";d.eventInfo.eventAction=r;d.eventInfo.eventPoints=a;d.eventInfo.timeStamp=Date.now();d.attributes.relatedComponentID=q;d.attributes.tileName=b;d.attributes.relatedContentHeadline=v;try{t.addEventTracking(c,
d,t.getCurrentPageIndex())}catch(M){console.log(M)}});g=function(){z.slider.setDimensions(new k(m.width(),m.height()))};g();a.subscribe("md:resize",g);var U,N,T=!1,Q=!1,da=c.find(".md-gallery-carousel-copies"),W=c.find(".md-gallery-carousel-visuals"),ca=function(a){a="next"===a?1:-1;var b=z.slider.getSlideIndex(z.slider.position.x);return b<z.slider.elements.length?b+a:0},Y=function(a){a=z.slider.getSlide(a);return z.slider.getNodeHeight(a)},V=function(a){a=ca(a);return Y(a)},la=function(a){a=c.find(".md-gallery-item-copy").eq(a);
var b=a.find(".md-gallery-item-desc"),d=a.find(".md-gallery-expanded-cta"),f=b.length?b.position():null;f=f?f.top:0;b=b.length?b.height():0;d=d.outerHeight(!0);a=parseInt(a.css("padding-bottom"),10);return f+b+d+a},sa=function(a){a=ca(a);return la(a)},ta=function(b,d){var f=!1!==b?Y(b):V(d);b=!1!==b?la(b):sa(d);f=f>b?f:b;da.height(f-parseInt(c.find(".md-gallery-carousel-copy-wrapper").css("padding-top"),10));W.height(f);setTimeout(function(){a.publish("md:gallery-state:changed")},l.SLIDER.ANIM_DURATION)};
if(Modernizr.touch)c.on("touchstart",function(a){a=a.originalEvent.touches[0];U=new k(a.pageX,a.pageY);T=!0;Q=!1;z.slider.start(U.clone())}).on("touchmove",function(a){var b=a.originalEvent.touches[0];N=new k(b.pageX,b.pageY);T&&(b=k.diff(N,U),b.mag()>l.SCROLL_SWIPE_THRESHOLD&&(T=!1,Math.abs(180*Math.atan(b.x/b.y)/Math.PI)>=l.SCROLL_SWIPE_ANGLE?Q=!0:(z.slider.end(),z.slider.pauseLoop())));z.slider.isDragging&&(Q&&a.preventDefault(),r="swipe",z.slider.move(N.clone()))}).on("touchend",function(){Q=
!1;z.slider.end();setTimeout(function(){z.slider.pauseLoop()},l.SLIDER.SNAP.DURATION)});c.on("click",".md-gallery-next",function(b){b=a(b.currentTarget).hasClass("md-disabled");r="click";z.slider.next(l.SLIDER.ANIM_DURATION);!f.wide.matches||b||y.isRowView||ta(!1,"next")}).on("click",".md-gallery-prev",function(b){b=a(b.currentTarget).hasClass("md-disabled");r="click";z.slider.prev(l.SLIDER.ANIM_DURATION);!f.wide.matches||b||y.isRowView||ta(!1,"prev")}).on("click",".md-gallery-close",function(){z.slider.notifyListeners();
z.slider.pauseLoop()});z.slider.notifyListeners();z.jumpTo=function(a){var b=new k(-a*z.slider.dimensions.x,0);z.slider.animateTo(b,0);z.slider.setHeightByPosition(b);B=100*Math.round(b.x/z.slider.dimensions.x);A=B-1E-5;f.wide.matches&&!y.isRowView&&ta(a)}};mini.digital.comp.gallery=function(){var b=[],c=function(b,c,d){function f(b){v.each(function(c,d){a.contains(d,b[0])&&u++});u===x&&(z||e(c,d),z=!0)}function e(b,c){v=v.map(function(){var b=a(this);if(b.hasClass("md-gallery-video"))return b.find(l.CLASSNAME_CAROUSEL_EXCLUDES).remove(),
{type:"video",visual:b.find(".md-gallery-item-video"),copy:b.find(".md-gallery-item-copy")};b=b.clone();b.find(l.CLASSNAME_CAROUSEL_EXCLUDES).remove();return{type:"image",visual:b,copy:b.find(".md-gallery-item-copy")}}).map(function(){this.visual=this.visual.attr("class","md-gallery-carousel-item");return this}).each(function(){k.append(this.visual);n.append(this.copy)});g.find("\x3e .md-flex-container-nopadding").append(h);var f=new y(h,v,k,n,b,d,{isVariableHeight:w,isRowView:B});h.on("slider:jumpTo",
function(a,b){f.jumpTo(b)});q(g,h)}var g=a(b),h,k,n,w,v,x,u,z=!1,B=g.hasClass("md-gallery-carousel-default-row-view");(function(){h=a('\x3cdiv class\x3d"md-gallery-carousel-wrapper"\x3e\x3cdiv class\x3d"md-gallery-carousel"\x3e\x3cdiv class\x3d"md-gallery-carousel-visuals"\x3e\x3cdiv class\x3d"md-gallery-carousel-items"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"md-gallery-carousel-controls"\x3e\x3cdiv class\x3d"md-icn-angle-left-circled md-gallery-ctrl md-gallery-prev"\x3e\x3cspan class\x3d"md-icn-alt"\x3ePrevious\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"md-icn-angle-right-circled md-gallery-ctrl md-gallery-next"\x3e\x3cspan class\x3d"md-icn-alt"\x3eNext\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"md-icn-close md-gallery-ctrl md-gallery-close"\x3e\x3cspan class\x3d"md-icn-alt"\x3eclose\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"md-gallery-carousel-copy-wrapper"\x3e\x3cdiv class\x3d"md-gallery-carousel-copies"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e');
k=h.find(".md-gallery-carousel-items");n=h.find(".md-gallery-carousel-copies");w=0<g.find('[data-variable-height\x3d"true"]').length;v=g.find(".md-gallery-item").filter(m);u=x=0;v.each(function(b,c){a(c).find(".md-rimage").length&&x++});0<x?a.subscribe("md:responsiveImage:afterRefresh",f):e(c,d)})()};return{init:function(a,d,f,e){d=f(a).parents(".md-component.md-parallax").find("h1").text();""==d&&(d=f(a).parent().find("h2").text().trim());f=f(a).closest("div[data-tracking-component]").data().trackingComponent.componentInfo.componentId;
b.push(new c(a,f,d));t=e}}}()})(mini.digital.util.slider.core,mini.digital.util.slider.constraints,mini.digital.util.vector,mini.digital.util.transitionEndEvent,mini.digital.util.scrollTo,mini.digital.$,window,mini.digital.util.matchmedia,mini.digital.util.browser,mini.digital.util.responsiveimage);mini.digital.comp.forms=mini.digital.comp.forms||{};mini.digital.comp.gcdm=mini.digital.comp.gcdm||{};mini.digital.comp.gcdm.controllers=mini.digital.comp.gcdm.controllers||{};
mini.digital.comp.gcdm.directives=mini.digital.comp.gcdm.directives||{};mini.digital.comp.gcdm.modules=mini.digital.comp.gcdm.modules||{};mini.digital.comp.gcdm.campaign=mini.digital.comp.gcdm.campaign||{};mini.digital.comp.gcdm.name="mdGcdm";
mini.digital.comp.gcdm.campaign=function(b,e,k,g,c){function a(){return{isTopDrive:/\/de_DE\//.test(k.location.pathname)}}function d(){function b(a){if(void 0!==a)return decodeURIComponent(a)}var c=e.location.getQueryParams();if(void 0!==c&&(0!=Object.keys(c).length||c.constructor!==Object)){var d=a();d.campaignId=b(c.ccid);d.leadSource=b(c.clc);d.treatmentId=b(c.ctid);return d}}function f(){var b=d();if(void 0===b&&(b=a(),n)){var c=e.cookiecontroller.getPersistence("clc_campaign_lead_context");b=
void 0===c||null===c?b:JSON.parse(c)}n&&e.cookiecontroller.setPersistence("clc_campaign_lead_context",JSON.stringify(b));return b}function h(){e.cookiecontroller.checkPresentAndInit().then(function(){n=e.cookiecontroller.isUsageAllowed("clc_campaign_lead_context");f()})}var n=!1;e.cookiecontroller.registerOnConsentChange(h);e.cookiecontroller.registerOnInitialized(h);h();return{getCampaignInfo:f,isValidCampaignInfo:function(a){return void 0!==a.campaignId||void 0!==a.leadSource||void 0!==a.treatmentId?
!0:!1},deleteCookie:function(){return e.cookiecontroller.deletePersistence("clc_campaign_lead_context")}}}(mini.digital.$,mini.digital.util,window,mini.digital.$(window),document);mini.digital.tracking.formgcdm=mini.digital.tracking.formgcdm||{};
(function(){mini.digital.tracking.formgcdm.common={trackingAPI:{},tracking:{componentTrackingIds:{},componentTrackingObj:{},ssLayerOpen:!1,formLoaded:!1,formType:"",formId:"",formTrackingInitalised:!1},EVENTS:{formTrackingSetup:"md:formgcdm:tracking:setup",formTrackingTeardown:"md:formgcdm:tracking:teardown",modelTypeChanged:"md:selector:model:type:changed",overlayClosing:"md:overlay:closing",overlayClosed:"md:overlay:closed",formLoaded:"md:formgcdm:loaded",newStepLoaded:"md:formgcdm:newStepLoaded",
formTrackingNewStep:"md:formgcdm:tracking:newStepLoaded",formSSBroadcast:"md:standardselector:formgcdm:broadcast",ssRangeLinkClicked:"md:selector:range:clicked",formModelUpdated:"md:gcdm:vehicle:updated",formCaptchaStateChange:"md:form:gcdm:captcha:state",formAnalyticsEvent:"md:form:gcdm:analytics:event",formAnalyticsAddPage:"md:form:gcdm:analytics:page:added"},elements:{$formEl:null,$formScope:null}}})();
mini.digital.tracking.formgcdm.errors=function(b,e,k){function g(e){!d||!d.trackingAPI||r||d&&d.trackingAPI&&d.trackingAPI.isTrackingDisabled()||(c(),q=[],l="",t={},l="in-line validation",t={addressError:{formErrorType:"invalidOrCouldNotBeFound",formErrorFieldName:"choose-address"},systemError:{formErrorType:"systemError",formErrorFieldName:"systemError"},validationErrorForm:{formErrorFieldName:"validationErrorForm"}},f.componentTrackingObj={attributes:{formHiddenFieldFilled:"false",formCaptchaPresent:"false"}},
m.push(b.subscribe(n.formTrackingSetup,g),b.subscribe(n.formTrackingTeardown,c),b.subscribe(n.formCaptchaStateChange,a)),r=!0)}function c(){e.unsubArray(m);r=!1}function a(a){var b=d.trackingAPI.getPageObject(f.componentTrackingIds.pageId),c=!1;b&&(c="error"===b.type?!1:!0);c&&(f.componentTrackingObj.attributes.formCaptchaPresent=a.captchaShown,d.trackingAPI.updateComponentTracking(f.componentTrackingIds.componentIndex,f.componentTrackingObj,f.componentTrackingIds.pageId))}var d=k.common,f=d.tracking,
h=d.elements,n=d.EVENTS,m=[],q=[],l="",t={},r=!1,v={eventInfo:{eventName:"error in form",eventAction:"automatic",eventPoints:"0",cause:"default",effect:"error shown to user"},category:{primaryCategory:"form error"},attributes:{formErrorFieldMandatory:"",formErrorFieldName:"",formErrorMessage:"",formErrorOn:"",relatedComponentID:"",relatedComponentName:"",relatedComponentPrimaryCategory:"forms"}};return{init:g,addRequiredField:function(a){q.push(a)},addError:function(a,c){c=b.extend({},v);if(f.componentTrackingObj){c.attributes.formErrorOn=
l;var d=c.attributes;var e=a.formErrorFieldName;var g=h.$formScope;void 0===g||null===g?console.warn("can't find field-label for 'for' value",e,"using this id instead of the label"):e=g.find('label[for\x3d"'+e+'"]').text();d.formErrorFieldName=e||"";c.attributes.formErrorFieldMandatory=-1<q.indexOf(a.formErrorFieldName);c.attributes.formErrorMessage=a.formErrorMessage;f.componentTrackingObj.componentInfo&&(c.attributes.relatedComponentID=f.componentTrackingObj.componentInfo.componentId,c.attributes.relatedComponentName=
f.componentTrackingObj.componentInfo.componentName);k.base.setCurrentEvent(c);k.base.pushEvent()}},removeError:function(a,b){if(void 0!==f.componentTrackingObj&&void 0!==f.componentTrackingObj.attributes&&f.componentTrackingObj){var c=[],d=0,e=c.length;""!==b&&t[b]&&(a=t[b].formErrorFieldName);for(;d<e;d++)if(b=c[d],b.formErrorFieldName===a)return c.splice(d,1),!0}},setFormErrorOn:function(a){l=a},pushErrorsArray:function(){d.trackingAPI.updateComponentTracking(f.componentTrackingIds.componentIndex,
f.componentTrackingObj,f.componentTrackingIds.pageId)}}}(mini.digital.$,mini.digital.util,mini.digital.tracking.formgcdm);
mini.digital.tracking.formgcdm.standardSelector=function(b,e,k){function g(){w&&q&&q.trackingAPI&&q.trackingAPI.isTrackingDisabled()||(c(),r="",v.push(b.subscribe(t.formTrackingTeardown,c),b.subscribe(t.formTrackingSetup,g),b.subscribe(t.modelTypeChanged,f),b.subscribe(t.ssRangeLinkClicked,d),b.subscribe(t.toggleUpdated,a),b.subscribe(t.formSSBroadcast,n),b.subscribe(t.formModelUpdated,m)),w=!0)}function c(){e.unsubArray(v);w=!1}function a(a){var b={eventInfo:{}};a.toggle.hasClass("md-ss-toggle")&&
(a="default"===a.value?"manual":"automatic",b.eventInfo.eventName="Switch to "+a,b.eventInfo.eventAction="toggle",k.base.setCurrentEvent(b),k.base.pushEvent())}function d(a){var b={eventInfo:{}};b.eventInfo.eventName="Click on body type";b.eventInfo.eventAction=a.event.type;b.eventInfo.effect="leads to the next step: select motorisation";k.base.setCurrentEvent(b);k.base.pushEvent()}function f(a){var c=a||{},d={eventInfo:{}};try{!l.currentModelTypeSelected&&c.newModelType?(r=c.newModelType,l.currentModelTypeSelected=
!0):l.currentModelTypeSelected&&c.newModelType&&(r=c.newModelType,a.event&&(d.eventInfo.eventName="Click on body type",d.eventInfo.eventAction=a.event.type,d.eventInfo.effect="leads to the next step: select motorisation",k.base.setCurrentEvent(d)),k.base.setNavigationPageAttributes(),q.trackingAPI.closeAllVirtualPages({closeAllAfterIdx:q.trackingAPI.getCurrentPageIndex()-1})),k.base.addVirtualPage({page:{pageInfo:{pageName:"specialEditions"===r?"select motorisation special models":"select motorisation standard models"}}}),
l.ssLayerOpen||(l.ssLayerOpen=!0,v.push(b.subscribe("md:layer:closed",h)))}catch(B){console.log("Error on modelTypeChange",B)}}function h(){l.ssLayerOpen&&(r="",l.currentModelTypeSelected=!1,q.trackingAPI.closeVirtualPage(q.trackingAPI.getCurrentPageIndex()),l.ssLayerOpen=!1)}function n(a){var b={productInfo:{},attributes:{}},c=b.productInfo,d=b.attributes,f=a.hasOwnProperty("vehicle")?a.vehicle.modelRangeName:"na";c.productID=a.modelCode||a.itemCode||"";c.productName=a.vehicleLongName||"";c.productUrl=
a.modelUrl||"";c.productImage=a.decodingImage||"";c.productThumbnail="";c.manufacturer="MINI";d.bodyName=a.bodyName||a.rangeName||f||"na";d.bodyType=a.modelRangeCode||"na";d.modelName=a.vehicleName||"na";d.modelCode=a.modelCode||"na";d.saCodeList="";"na"!==d.bodyType&&"na"!==d.modelCode&&k.base.setCurrentProduct(b)}function m(a){a=a||{vehicle:{}};var b={productInfo:{},attributes:{},category:{primaryCategory:"New Car",subCategory1:a.vehicle.bodyName,subCategory2:""}},c=b.productInfo,d=b.attributes,
f=a.vehicle.cosyImageInfos&&a.vehicle.cosyImageInfos[2]&&a.vehicle.cosyImageInfos[2].urlString;c.productID=a.vehicle.modelCode||"";c.productName=a.vehicle.bodyName||a.vehicle.modelRangeName||"";c.description=a.vehicle.modelName||"";c.productUrl=a.vehicle.shareConfigUrl||"";c.productImage=f||"";c.productThumbnail="";c.manufacturer="MINI";d.bodyName=a.vehicle.bodyName||a.vehicle.modelRangeName||"na";d.bodyType=a.vehicle.modelRange||"na";d.modelName=a.vehicle.modelName||"na";d.modelCode=a.vehicle.modelCode||
"na";d.saCodeListData=a.vehicle.selectedFeatures||"";d.saCodeList=""!==d.saCodeListData?d.saCodeListData.toString().replace(",","::")||"":"";"na"!==d.bodyType&&"na"!==d.modelCode&&k.base.setCurrentProduct(b)}var q=k.common,l=q.tracking,t=q.EVENTS,r="",v=[],w=!1;return{init:g,modelTypeChange:f}}(mini.digital.$,mini.digital.util,mini.digital.tracking.formgcdm);
mini.digital.tracking.formgcdm.tda=function(b,e,k){function g(a){a=a||{};var b={productInfo:{},category:{primaryCategory:"New Car",subCategory01:a.bodyName},attributes:{}},c=b.productInfo,d=b.attributes,f=a.cosyImageInfos&&a.cosyImageInfos[2]&&a.cosyImageInfos[2].urlString;c.productID=a.configUrl||"";c.productName=a.vehicleName||"";c.description=a.note;c.productUrl=a.shareConfigUrl||"";c.productImage=f||"";c.productThumbnail="";c.manufacturer="MINI";d.bodyName=a.bodyName||a.modelRangeName||a.rangeName||
a.rangeNameLong||"na";d.bodyType=a.modelRange||"na";d.modelName=a.bodyName||a.vehicleName||"na";d.modelCode=a.modelCode||"na";d.saCodeList="";void 0!==a.selectedFeatures&&(d.saCodeList=a.selectedFeatures.toString().replace(",","::")||"");return b}function c(){l&&(a(q),l=!1)}function a(a){"na"!==a.attributes.bodyType&&"na"!==a.attributes.modelCode&&(k.base.setCurrentProduct(a),k.base.pushProduct())}function d(){e.unsubArray(n);m=!1}var f=k.common,h=f.EVENTS,n=[],m=!1,q={productInfo:{},category:{},
attributes:{}},l=!1;return{init:function(){if(!m||f&&f.trackingAPI&&f.trackingAPI.isTrackingDisabled&&!f.trackingAPI.isTrackingDisabled())d(),n.push(b.subscribe(h.formLoaded,c),b.subscribe(h.formTrackingTeardown,d)),m=!0},primeProductData:function(a){q=g(a);l=!0},setProductData:function(b){b=g(b);a(b)}}}(mini.digital.$,mini.digital.util,mini.digital.tracking.formgcdm);
mini.digital.tracking.formgcdm.brochure=function(b,e,k){function g(a){a=a.newValue;for(var b=[],c={},d=0;d<a.length;d+=1)a[d].hasOwnProperty("informationMaterialCode")?b.push(a[d].informationMaterialCode+" - "+a[d].descriptionText):b.push(a[d].id);c.attributes={brochureList:b};l.tracking.componentTrackingObj.attributes.brochureList=b;l.trackingAPI.updateComponentTracking(l.tracking.componentTrackingIds.componentIndex,c,l.tracking.componentTrackingIds.pageId)}function c(a){a={attributes:{brochureDeliveryType:a.toggleValue}};
b.extend(!0,l.tracking.componentTrackingObj,a);l.trackingAPI.updateComponentTracking(l.tracking.componentTrackingIds.componentIndex,a,l.tracking.componentTrackingIds.pageId)}function a(a){var b="click";a.originalEvent&&(b=a.originalEvent.type);m({eventInfo:{eventName:"toggle "+a.toggleValue+" delivery",eventAction:b,effect:"Switched to "+a.toggleValue+" brochures"}})}function d(a){m({eventInfo:{eventName:a.eventName,eventAction:"click",effect:"User "+(a.itemAdded?"added":"removed")+" the "+a.lastBrochureSelected+
" brochure."}})}function f(a){m({eventInfo:{eventName:a.eventName,eventAction:"click",effect:"The user tried to add "+a.lastBrochureSelected+" to the basket, but the limit of "+a.itemData.currentBrochureLimit+" had already been reached"}})}function h(a){m({eventInfo:{eventName:a.eventName,eventAction:"click",effect:a.lastBrochureSelected+" was selected. There was a conflict, the user "+a.eventEffect+" the conflict."}})}function n(a){m({eventInfo:{eventName:a.eventName,eventAction:"click",effect:"The user clicked the "+
a.btnCta+" button"}})}function m(a){k.base.setCurrentEvent(a);k.base.pushEvent()}function q(){e.unsubArray(r)}var l=k.common,t=l.EVENTS,r=[],v={productInfo:{},category:{},attributes:{}};return{init:function(){l&&l.trackingAPI&&l.trackingAPI.isTrackingDisabled()||(r.push(b.subscribe(t.formTrackingTeardown,q),b.subscribe("md:formgcdm:brochureToggleUpdate",a),b.subscribe("md:formgcdm:brochureToggleUpdate",c),b.subscribe("md:formgcdm:analytics:basketUpdate",d),b.subscribe("md:formgcdm:analytics:basketUpdate",
g),b.subscribe("md:formgcdm:analytics:brochure:full",f),b.subscribe("md:formgcdm:analytics:brochure:conflict:accepted",h),b.subscribe("md:formgcdm:analytics:brochure:conflict:cancelled",h),b.subscribe("md:formgcdm:analytics:brochure:view:all",n)),v={productInfo:{},attributes:{}},l.tracking.componentTrackingObj.attributes.brochureDeliveryType="download",l.tracking.componentTrackingObj.attributes.formNature="global")},setProductData:function(a){a=a||{};v={productInfo:{description:a.label,productName:a.label,
manufacturer:a.brand,productID:a.productModelCode||"na"},category:{primaryCategory:"New car",subCategory01:a.label},attributes:{bodyName:a.label,bodyType:a.productConstructionSeries||"na",modelCode:a.productModelCode||"na",modelName:a.productModelName||"na"}};"na"!==v.attributes.bodyName&&(k.base.setCurrentProduct(v),k.base.pushProduct())}}}(mini.digital.$,mini.digital.util,mini.digital.tracking.formgcdm);
mini.digital.tracking.formgcdm.dealerlocator=function(b,e,k){function g(){var a={attributes:{dloViewType:b(".md-map-toggle input:checked").val()}};h(a)}function c(a){null===a?(v.tracking.formType="DEALERLOCATOR",k.common.tracking.componentTrackingObj=b.extend(!0,k.common.tracking.componentTrackingObj,B),k.common.tracking.componentTrackingObj=b.extend(!0,k.common.tracking.componentTrackingObj,b(".md-nav-shelf .md-form-gcdm-dealerlocator").data("tracking-obj")),k.base.addVirtualPage({page:{pageInfo:{pageName:"DLO"}}})):
"gcdmForm"===a&&(B=b.extend(!0,B,b(".md-nav-shelf .md-form-gcdm-dealerlocator").data("tracking-obj")),k.common.trackingAPI.initComponentTracking(B));g()}function a(){var a={eventInfo:{},category:{}};a.eventInfo.eventName="choose another dealer";a.eventInfo.eventAction="click";a.eventInfo.effect="user switches to general dealer view";a.category.primaryCategory="dealer locator";a.category.subCategory01="cta";k.base.setCurrentEvent(a);k.base.pushEvent()}function d(a){a=a||{};var b=a.isInForm?"forms":
"standalone",c=y[a.filter||""],d=a.layout||"",f=a.resultsCount||0;k.base.addVirtualPage({page:{pageInfo:{pageName:"DLO search results"}}});h({attributes:{dloVariant:b,dloFilterSettings:c,dloViewType:d,dloResultType:"search",onsiteSearch:"Dealer Locator",onsiteSearchTerm:a.searchTerm,onsiteSearchResults:f,onsiteSearchType:"type in"}})}function f(a){a=a||{};var b={attributes:{dloVariant:a.isInForm?"forms":"standalone",dloFilterSettings:y[a.filter||""],dloViewType:a.layout||"",dloResultType:a.resultType}};
k.base.addVirtualPage({page:{pageInfo:{pageName:"DLO dealer card"},attributes:{dealerName:a.name,dealerID:a.id}}});h(b)}function h(a){for(var c=k.common.trackingAPI.getCurrentPageIndex(),d=k.common.trackingAPI.getPageObject(c),f=-1,e=0,g=d.component.length;e<g;e++)if("Dealer Locator"===d.component[e].componentInfo.componentName){f=e;break}-1!==f?k.common.trackingAPI.updateComponentTracking(f,a,c):(B=b.extend(!0,B,b(".md-nav-shelf .md-form-gcdm-dealerlocator").data("tracking-obj")),B=b.extend(!0,B,
a),k.common.trackingAPI.initComponentTracking(B))}function n(){var a={eventInfo:{},category:{}};a.eventInfo.eventName="save preferred dealer";a.eventInfo.eventAction="click";a.eventInfo.effect="user saves dealer as preferred";a.category.primaryCategory="dealer locator";a.category.subCategory01="cta";k.base.setCurrentEvent(a);k.base.pushEvent()}function m(){var a={eventInfo:{},category:{}};a.eventInfo.eventName="visit dealer";a.eventInfo.eventAction="click";a.eventInfo.effect="user visits dealer's website";
a.category.primaryCategory="dealer locator";a.category.subCategory01="cta";k.base.setCurrentEvent(a);k.base.pushEvent()}function q(){var a={eventInfo:{},category:{}};a.eventInfo.eventName="clear preferred dealer";a.eventInfo.eventAction="click";a.eventInfo.effect="user clears preferred dealer";a.category.primaryCategory="dealer locator";a.category.subCategory01="cta";k.base.setCurrentEvent(a);k.base.pushEvent()}function l(){var a={eventInfo:{},category:{}};a.eventInfo.eventName="load preferred dealer";
a.eventInfo.eventAction="click";a.eventInfo.effect="user loads preferred dealer";a.category.primaryCategory="dealer locator";a.category.subCategory01="cta";k.base.setCurrentEvent(a);k.base.pushEvent()}function t(a){var b={eventInfo:{},category:{}};a.hasClass("md-form-gcdm-dealerlocator")&&(b.eventInfo.eventName="close dealer locator",b.eventInfo.eventAction="click",b.eventInfo.effect="user closes dealer locator",b.category.primaryCategory="dealer locator",b.category.subCategory01="cta",k.base.setCurrentEvent(b),
k.base.pushEvent())}function r(){e.unsubArray(x);u=!1}var v=k.common,w=v.EVENTS,x=[],u=!1,y={"":"all",F:"new minis",G:"used minis",T:"service"},B={category:{primaryCategory:"Tools",subCategory01:"Dealer Locator"},componentInfo:{componentName:"Dealer Locator"}};return{init:function(e){e="string"!==typeof e?null:e;!u&&v&&v.trackingAPI&&v.trackingAPI.isTrackingDisabled&&!v.trackingAPI.isTrackingDisabled()&&(r(),x.push(b.subscribe(w.formTrackingTeardown,r),b.subscribe("md:dlo:dloSelected",f),b.subscribe("md:dlo:searchResults",
d),b.subscribe("md:dlo:chooseAnotherDealer",a),b.subscribe("md:dealerlocator:loadPreferred",l),b.subscribe("md:dealerlocator:setPreferred",n),b.subscribe("md:dealerlocator:removePreferred",q),b.subscribe("md:dealerlocator:visitDealerWebsite",m),b.subscribe("md:navigation:component:closed",t),b.subscribe("md:navigation:dlopened",c),b.subscribe("md:toggle:update",g)),u=!0,c(e))},chooseAnotherDealer:a,searchForDealer:d,dealerSelected:f,savePreferredDealer:n,visitDealerWebsite:m,clearPreferredDealer:q,
loadPreferredDealer:l,closeDealerLocator:t}}(mini.digital.$,mini.digital.util,mini.digital.tracking.formgcdm);
mini.digital.tracking.formgcdm.offer=function(b,e,k){function g(a){a=a||{};var b={productInfo:{},category:{},attributes:{}},c=b.productInfo,d=b.attributes,f=a.cosyImageInfos&&a.cosyImageInfos[2]&&a.cosyImageInfos[2].urlString;c.productID=a.configUrl||"";c.productName=a.bodyName||"";c.description=a.note;c.productUrl=a.shareConfigUrl||"";c.productImage=f||"";c.productThumbnail="";c.manufacturer="MINI";d.bodyName=a.bodyName||a.modelRangeName||"na";d.bodyType=a.modelRange||"na";d.modelName=a.bodyName||
"na";d.modelCode=a.modelCode||"na";a.selectedFeatures&&(d.saCodeList=a.selectedFeatures.toString().replace(",","::")||"");return b}function c(){l&&(a(q),l=!1)}function a(a){"na"!==a.attributes.bodyType&&"na"!==a.attributes.modelCode&&(k.base.setCurrentProduct(a),k.base.pushProduct())}function d(){e.unsubArray(n);m=!1}var f=k.common,h=f.EVENTS,n=[],m=!1,q={productInfo:{},category:{},attributes:{}},l=!1;return{init:function(){if(!m||f&&f.trackingAPI&&f.trackingAPI.isTrackingDisabled&&!f.trackingAPI.isTrackingDisabled())d(),
n.push(b.subscribe(h.formTrackingTeardown,d),b.subscribe(h.formLoaded,c)),m=!0},primeProductData:function(a){q=g(a);l=!0},setProductData:function(b){b=g(b);a(b)}}}(mini.digital.$,mini.digital.util,mini.digital.tracking.formgcdm);
mini.digital.tracking.formgcdm.base=function(b,e,k){function g(a){function c(a){if(!b(a).hasClass("md-dealer-item-toggle")&&!b(a).hasClass("pika-select")){var c=a.id;if("appointmentDateTime"!==c){var d=b(a).closest(".md-toggle");if(0!==d.length)return c=d.data("toggle-type"),"radio"===a.type?c+"-"+a.value:c;if(void 0!==a.name&&""!==a.name)return a.name;if(void 0!==c&&""!==c)return c;c=b(a).attr("ng-model");if(void 0!==c)return c;console.log("WARN: tracking close-form event: can't determine name of field",
a)}}}function d(a){a.find("input,select").each(function(){if("hidden"!==this.type&&b(this).is(":visible")){var a=c(this);if(void 0!==a){a=(void 0!==this.form.id&&""!==this.form.id?this.form.id:this.form.name)+"."+a;var d=b(this).data("md-tracking-field-status");void 0!==d?d="true"===d.toString():b(this).is("select")?(d=0,""===this.options[d].label&&(d+=1),d=this.selectedIndex>d):d="checkbox"===this.type||"radio"===this.type?this.checked:void 0!==this.value&&""!==this.value;f.nameList.push(a);f.statusList.push(d)}}})}
var f={nameList:[],statusList:[]};a=void 0!==a?a.overlayContent:void 0;if(void 0===a||0===a.length)return f;var e=!0;a.find("form").each(function(){var a=b(this);void 0===a.attr("gcdm-brand")||"login_form"===a.attr("id")&&!e||(d(a),e=!1)});return f}function c(a){!y.formLoaded||u&&u.trackingAPI&&u.trackingAPI.isTrackingDisabled()||(a=g(a),l({attributes:{formFieldGcdmNameList:a.nameList,formFieldStatusList:a.statusList},eventInfo:{eventName:"close form",eventAction:"",effect:"user navigates away from form"}}),
t(),e.unsubArray(C),f(),b.publish(z.formTrackingTeardown),L=!0,y.formLoaded=!1)}function a(a){if(u.trackingAPI&&!y.formLoaded&&a.formType&&!(u&&u.trackingAPI&&u.trackingAPI.isTrackingDisabled())){var f={eventInfo:{}};B.$formEl=b(a.formEl);y.formType=a.formType.toUpperCase();y.requestFormType=a.requestFormType;"ACCESSORY"==y.formType&&(y.formType="ACCESSORIES");y.formId=B.$formEl.attr("id");if(!(y.formLoaded||u&&u.trackingAPI&&u.trackingAPI.isTrackingDisabled())){A=0;y.formLoaded=!1;var g=y.formType+
" form",h="forms",l=y.formType;"DEALERLOCATOR"===y.formType&&(g="Dealer Locator",h="Tools",l="Dealer Locator");y.componentTrackingObj={attributes:{formHiddenFieldFilled:"false",formCaptchaPresent:"false",formNature:"global"},category:{primaryCategory:h,subCategory01:l},componentInfo:{componentName:g}};y.componentTrackingObj.attributes.formType=y.requestFormType;"CONTACT"===y.formType&&(y.componentTrackingObj.attributes.contactInquiryType="");"SERVICE"===y.formType&&(y.componentTrackingObj.attributes.serviceCategory=
"",y.componentTrackingObj.attributes.optionalService="");D={page:{pageInfo:{},attributes:{virtualPage:!0},category:{subCategory01:y.formType}},component:[],event:[],product:[]};K={eventInfo:{eventPoints:"0",cause:"default"},category:{primaryCategory:"form navigation"},attributes:{relatedComponentID:y.formId,relatedComponentName:g,relatedComponentPrimaryCategory:h}};H={attributes:{relatedComponentID:y.formId,relatedComponentName:g,relatedComponentPrimaryCategory:h},category:{primaryCategory:h,subCategory01:y.formType}};
y.componentTrackingIds={};e.unsubArray(C);0<C.length||u&&u.trackingAPI&&u.trackingAPI.isTrackingDisabled()||C.push(b.subscribe(z.overlayClosing,c),b.subscribe(z.newStepLoaded,d),b.subscribe(z.formAnalyticsEvent,q),b.subscribe(z.formAnalyticsAddPage,m));b.publish(z.formTrackingSetup)}y.formLoaded=!0;A=u.trackingAPI.getCurrentPageIndex();y.componentTrackingObj=b.extend(!0,y.componentTrackingObj,B.$formEl.data("tracking-obj"));k[a.formType]&&k[a.formType].init(u.trackingAPI);d({stepIndex:1,previousStepIndex:null});
f.eventInfo.eventName="open form";f.eventInfo.eventAction="";f.eventInfo.effect="user is shown form";b.publish(z.formAnalyticsEvent,[{eventObj:f,immediatePush:!0}])}}function d(a){if(B.$formEl&&y.formLoaded){var b,c={closeAllAfterIdx:A};h(B.$formEl.find(".md-form-gcdm-step").eq(a.stepIndex-1))||h(B.$formEl);if(b=B.$formScope.data("tracking-vpage"))a.steppingBackwards||1!==a.stepIndex||(c.closeAllAfterIdx=A=u.trackingAPI.getCurrentPageIndex()),L||(t(),r()),v(),u.trackingAPI.closeAllVirtualPages(c),
n({page:{pageInfo:{pageName:b}}}),"select a dealer"!==b.toLowerCase()&&"select preferred dealer"!==b.toLowerCase()||k.dealerlocator.init("gcdmForm"),L&&(t(),r(),L=!1);x.setFormErrorOn("in-line validation");a.steppingBackwards&&a.stepHasStandardSelector&&w.modelTypeChange()}}function f(){u.trackingAPI.closeAllVirtualPages({closeAllAfterIdx:A})}function h(a){if(0===a.length)return!1;B.$formScope=a;return!0}function n(a){if(!(u&&u.trackingAPI&&u.trackingAPI.isTrackingDisabled())){var c=u.trackingAPI.getPageObject(0).page;
D.page=b.extend(!0,{},c,D.page);var d="forms",f=y.formType;"DEALERLOCATOR"===y.formType&&(d="Tools",f="Dealer Locator");a.page.pageInfo.pageName=f+" - "+a.page.pageInfo.pageName;D.page.pageInfo.pageInstanceId=(c.pageInfo.pageName+" "+a.page.pageInfo.pageName).toLowerCase()+"_"+c.pageInfo.geoRegion+"_"+c.pageInfo.language+"_"+c.pageInfo.devEnv;D.page.pageInfo.pageID=c.pageInfo.pageID+" "+a.page.pageInfo.pageName;D.page.pageInfo.breadCrumbs||(D.page.pageInfo.breadCrumbs=[]);D.page.pageInfo.breadCrumbs.push(a.page.pageInfo.pageName);
D.page.category.primaryCategory=d;D.page.category.subCategory01=f;D.page.category.pageType="virtual";J||v();J=!1;u.trackingAPI.addVirtualPage(b.extend(!0,{},D,a),null,document.location.href);a=b.extend({},y.componentTrackingObj);a.attributes.formType=y.requestFormType;y.componentTrackingIds=u.trackingAPI.initComponentTracking(a);t()}}function m(a){f();n(a.virtualPage);h(a.element)}function q(a){l(a.eventObj);a.pageNavigationObj&&!b.isEmptyObject(a.pageNavigationObj)&&v(a.pageNavigationObj);a.immediatePush&&
t()}function l(a){var c={eventInfo:{timeStamp:Date.now(),eventName:a.eventInfo.eventName}};F=b.extend(!0,a,c);G=!1}function t(){G||(""===F.eventInfo.effect&&(F.eventInfo.effect="User continues to "+B.$formScope.data("tracking-vpage")),u.trackingAPI.addEventTracking(K,F,u.trackingAPI.getCurrentPageIndex()),G=!0)}function r(){S||u.trackingAPI.isTrackingDisabled()||(u.trackingAPI.initProductTracking(I),D.product=[],D.product.push(I),S=!0)}function v(a){var c=u.trackingAPI.getCurrentPageIndex();c=(c=
u.trackingAPI.getPageObject(c))&&c.page&&c.page.pageInfo?c.page.pageInfo:{breadCrumbs:[]};var d=y.formType+" form",f="forms";"DEALERLOCATOR"===y.formType&&(d="Dealer Locator",f="Tools");c.breadCrumbs||(c.breadCrumbs=[]);b.extend(!0,D.page.attributes,{navigationLevel:c.breadCrumbs.length,navigationItemType:"",navigationSource:c.pageName,navigationItemWording:"",navigationComponentId:y.formId,navigationComponentName:d,navigationComponentPrimaryCategory:f},a);J=!0}var w=k.standardSelector,x=k.errors,
u=k.common,y=u.tracking,B=u.elements,z=u.EVENTS,C=[],A=0,D={},H={},F={},G=!0,K={},I={},S=!0,J=!1,L=!0;return{init:function(d,f){y.formTrackingInitalised?(c(),y.formLoaded=!1):(b.subscribe(z.formLoaded,a),u.trackingAPI=d);k.errors.init(f);k.standardSelector.init();y.formTrackingInitalised=!0},closeAllFormPages:f,setScope:h,addVirtualPage:n,setCurrentEvent:l,pushEvent:t,setCurrentProduct:function(a){I=b.extend(!0,{},H,a);S=!1},pushProduct:r,setNavigationPageAttributes:v,updateComponentAttribute:function(a){if(y&&
y.componentTrackingObj&&y.componentTrackingObj.componentInfo&&y.componentTrackingObj.componentInfo.componentName){for(var b=y.componentTrackingObj.componentInfo.componentName,c=k.common.trackingAPI.getCurrentPageIndex(),d=k.common.trackingAPI.getPageObject(c),f=-1,e=0;e<d.component.length;e++)if(b===d.component[e].componentInfo.componentName){f=e;break}a&&-1!=f&&k.common.trackingAPI.updateComponentTracking(f,{attributes:a},c)}}}}(mini.digital.$,mini.digital.util,mini.digital.tracking.formgcdm);
mini.digital.comp.formgcdm=function(b,e,k,g,c,a,d){function f(){var b=c(F),f=b.closest(".md-custom-overlay-main");0!==f.length&&(b=b.find(".md-form-gcdm-step"),a.touch&&(d.isIPhone||b.css("position","absolute")),0===b.length&&(f.hasClass("md-tabview")||f.css("overflow-y","scroll")))}function h(){var a=c.Deferred();window.mini.digital.comp.ucpApi?a.resolve(window.mini.digital.comp.ucpApi):require(["apps/minidigital/components/configurator-con/clientlib/ConfiguratorCon"],function(b){window.mini.digital.comp.ucpApi=
b;a.resolve(b)});return a}function n(a,d){function k(a,b){a.getVehicle(b).then(function(a){"tda"==u?c.publish("md:standardselector:init:model",[{modelRange:a.modelRange,modelName:a.vehicleName,modelCode:a.modelCode,configUrl:a.configUrl,shareConfigUrl:a.shareConfigUrl},u]):v(a,u)})}var n=c.Deferred(),q=c(a).attr("gcdm-api-endpoint"),w=c(a).attr("md-gcdm-api-javascript-url"),u=c(a).data("formgcdm-type"),x=c(a).data("request-formgcdm-type");if("directdealermap"===u)return n;if(void 0===w||"null"===
w)w=q+"formcomponents/js/gcdm.js";F=F||a;b.gcdm.init(w).then(function(){e.app.init(a);!angular.element(a).scope()&&d&&(angular.module("integration.gcdm.cssConfig",[]).value("inShelf",{inShelf:!1}),angular.bootstrap(a,["integration.gcdm.cssConfig",e.name]));h().then(function(d){var f=window.location.search,e;if(f){var g=f.match(/[?&]configId=([^&]*)?/);var h=f.match(/[?&]ucpBaseurl=([^&]*)?/);var n=f.match(/[?&]modelRange=([^&]*)?/);var q=f.match(/[?&]modelCode=([^&]*)?/);(e=f.match(/[?&]options=([^&]*)?/))&&
e[1]&&0<e[1].indexOf(",")&&(e=decodeURIComponent(e[1]),e=e.split(","))}if(b.stockLocator.isStockLocatorInPath())m(u);else if(b.stockLocator.isVin17InPath())l(u,a);else if(d.isConEnabled()&&f)if(h&&h[1]&&d.setUcpV3Url(decodeURIComponent(h[1])),g&&g[1])k(d,g[1]);else{var w={modelRange:"",modelCode:"",modelName:""};n&&n[1]&&(w.modelRange=n[1]);q&&q[1]?(w.modelCode=q[1],e&&0<e.length&&d.getVehicleByModelCodeAndOptions(w.modelCode,e).then(function(a){"tda"==u?c.publish("md:standardselector:init:model",
[{modelRange:a.modelRange,modelName:a.vehicleName,modelCode:a.modelCode,configUrl:a.configUrl,shareConfigUrl:a.shareConfigUrl},u]):v(a,u)}),d.getModelNameForModelCode(w.modelCode).then(function(a){w.modelName=a;r(u,w)})):r(u,w)}require(["core/componentInitializer"],function(a){var b=c(F).find("div.md-component.md-dealerlocator");0<b.length&&a.initElement(b)})});c(a).addClass("md-js-form-gcdm-loaded");c.publish("md:formgcdm:loaded",[{formType:u,formEl:a,requestFormType:x}]);g[u]&&g[u].init(a);f();
n.resolve()}).fail(function(){console.error("There was a problem loading the requested content. Please try again later.")});return n}function m(a){var c=b.stockLocator.loadVehicleFromLocalStorage();c&&c.vin17?q(c.vin17).then(function(b){c.vin=b.vin;r(a,c)}):c&&c.vin?r(a,c):console.error("no configData object or vin number found in local storage object: "+key)}function q(a){var b=c.Deferred();c.ajax({url:window.location.origin+"/bin/public/translate/vin?vin\x3d"+a,type:"GET"}).done(function(a){b.resolve(a)});
return b}function l(a,d){var f=b.stockLocator.getParamsFromPath();d=c(d).attr("data-formgcdm-template-locale");var e=null;d&&(e=d.split("_")[1].toUpperCase());f&&f.vin17?t(f.vin17,e).then(function(b){b.dealerId=f.dloPartner;b.outletId=f.dloOuter;b.vin=b.vin17;b.source="stockLocator";r(a,b)}):console.error("no vin number found in path")}function t(a,b){var d=c.Deferred();c.ajax({url:window.location.origin+"/bin/public/vin-vehicle-data/vin?vin\x3d"+a+"\x26country\x3d"+b,type:"GET"}).done(function(a){d.resolve(a)});
return d}function r(a,b){if(b.modelRange||b.modelCode)"tda"===a||"tdavariant2"===a?c.publish("md:standardselector:init:model",[b,a]):v(b,a)}function v(a,c){b.angular.injectEvent(F,"md:formgcdm:gcdmRequest",[a,c])}function w(a){b.angular.injectEvent(F,"md:formgcdm:gcdmAccessoryRequest",[a])}function x(a,c,d){"tda"!==d&&"tdavariant2"!==d&&"rfo"!==d&&"rfs"!==d&&"rfa"!==d||v(a,d);b.angular.injectEvent(F,"md:formgcdm:ss:selected",[a,c,d])}function u(a){"downloadToggle"===a.type&&c("form.md-form-gcdm-steps").find(".md-form-gcdm-brochure-dl").attr("data-selected-value")!=
a.value&&b.angular.injectEvent(F,"md:formgcdm:brochureToggleUpdate",[a.value,a.originalEvent])}function y(a){"downloadToggle"===a.type&&b.angular.injectEvent(F,"md:formgcdm:brochureToggleUpdate",[a.value,a.originalEvent])}function B(a){a.overlayContent.find(F).length&&H();if(0<G.length){F=null;var d=c(G[0]).attr("id"),f=c(document).find("#"+d);f=f.parent();a=window.location.pathname.replace(".html","/jcr:content/main.html");f&&0<f.length&&c.ajax({url:a,data:{value:1},type:"get",error:function(a,b,
c){404==a.status&&(window.location.href=url)},success:function(a){a=c(a).find("#"+d);c(c(f.find("#"+d))).replaceWith(a.clone());b.initialise(f)}});G=[]}}function z(a){b.angular.injectEvent(F,"loginIdChange",[a])}function C(){b.angular.injectEvent(F,"md:formgcdm:window:resize")}function A(a,b){"tda"==b&&c.publish("md:standardselector:init:model",[{modelRange:a.modelRange,modelName:a.vehicleName,modelCode:a.modelCode},b]);if(!a.cosyImageInfos&&a.featureDetails){for(var d,f,e,g=[],k=0;k<a.featureDetails.length;k++)(e=
a.featureDetails[k])&&e.featureKey&&e.featureKey.typeAndCode&&(0==e.featureKey.typeAndCode.indexOf("P")?d=e.featureKey.typeAndCode:0==e.featureKey.typeAndCode.indexOf("F")?f=e.featureKey.typeAndCode:g.push(e.featureKey.typeAndCode));a.options=g;a.paint={code:d};a.fabric={code:f};h().then(function(c){a.cosyImageInfos=[{},{},{urlString:c.getCosyImages(a)}];v(a,b)})}else v(a,b)}function D(){K.push(c.subscribe("md:resize",C),c.subscribe("md:mymini:gcdmRequest",v),c.subscribe("md:configurator:gcdmRequest",
v),c.subscribe("md:formgcdm:gcdmRequest",v),c.subscribe("md:accessory:gcdmRequest",w),c.subscribe("md:overlay:closed",B),c.subscribe("md:standardselector:formgcdm:broadcast",x),c.subscribe("md:toggle:update",u),c.subscribe("md:toggle:init",y),c.subscribe("md:mymini:loggedin:change",z),c.subscribe("md:sendvehicle:gcdmRequest",A))}function H(){c.each(K,function(a,b){c.unsubscribe(b)});K=[]}var F,G=[],K=[],I=null;c("html");return{init:function(a,b,d,f){if(F){var e;F&&(e=c(F).attr("data-formgcdm-resource-path"))&&
(e=e.replace("/jcr:content/main/par/formgcdm",""));b=e;e=window.location.pathname.replace(".html","");b==e&&G.push(F)}F=a;d(a).parent().prev().find(".md-custom-overlay-header-title").addClass("md-form-gcdm-main-title");d=d(a).data("formgcdm-type");k.init(f,d);n(a,!0);H();D()},setup:n,manageEvents:function(){H();D()},setVal:function(a,b,c){a.find(b).val(c)},toggleTabView:function(a){var d=c(".md-form-gcdm-mymini");d.toggleClass("md-hidden",a);void 0!==I&&window.clearTimeout(I);I=window.setTimeout(function(){a||
d.hasClass("md-hidden")||!d.hasClass("md-component-defer")||(d.removeClass("md-component-defer"),b.initialise(d))},500)}}}(mini.digital.util,mini.digital.comp.gcdm,mini.digital.tracking.formgcdm.base,mini.digital.comp.forms,mini.digital.$,Modernizr,mini.digital.util.browser);
mini.digital.comp.gcdm.app=function(b,e,k,g){return{init:function(c){c=e(c);var a=["gcdm","ngAnimate","angularPikaday"];if(d){var d=d.split(",");a=a.concat(d)}b.appModule=angular.module(b.name,a).config(["$provide","$locationProvider",function(a,b){g.isRunning()||-1<window.location.hash.indexOf("#/dlo")||b.html5Mode({enabled:!0,requireBase:!1,rewriteLinks:!1});a.decorator("GcdmVehicleTreeProvider",["$delegate","$q",function(a,b){a.getNewBMWGroupVehicles=function(){var a=b.defer();a.resolve({modelData:{series:[{value:"MI",
name:"Mini"}],bodytypes:[{name:"MINI Countryman",value:"F60",series:"MI",defaultModelCode:"ZB32"}],models:[{name:"MINI Countryman",value:"ZB32",bodytype:"F60",series:"MI"}]}});return a.promise};return a}]);a.decorator("GcdmVehicleAccessoryProvider",["$delegate","mdGcdmRequestedAccessoryService",function(a,b){a.getVehicleAccessories=function(){return b.requestedAccessory};return a}]);a.decorator("GcdmVehicleConfigurationProvider",["$delegate","$q","mdGcdmRequestedVehicleService",function(a,b,c){a.getVehicleConfiguration=
function(){var a=b.defer(),d=c.getFormattedVehicle();a.resolve(d.modelCode?d:{});return a.promise};return a}]);a.decorator("$browser",["$delegate",k.angular.browserDecorator]);a.decorator("$location",["$delegate","$browser",k.angular.locationDecorator])}]);b.controllers.gcdm.init(c);b.controllers.login.init();b.controllers.contactPolicy.init(c);b.controllers.registration.init(c);b.controllers.registrationCheck.init(c);b.controllers.confirmation.init();b.controllers.forgottenpassword.init();b.controllers.changepassword.init();
b.controllers.profile.init();b.controllers.profileChange.init();b.controllers.deleteAccount.init();b.controllers.loginIdChange.init();b.controllers.dealerlocator.init();b.controllers.brochure.init();b.controllers.tda.init();b.controllers.activate.init();b.controllers.brochure.init();b.controllers.offer.init();b.controllers.directDealerMap.init();b.controllers.vco.init();b.directives.init();b.services.init(c);b.modules.init()}}}(mini.digital.comp.gcdm,mini.digital.$,mini.digital.util,mini.digital.comp.configurator);
mini.digital.comp.gcdm.directives=function(b,e,k,g,c,a,d,f,h,n,m){var q=f.getFinanceApp();return{init:function(){function f(a,b,c){b.is(":checked")?c||a(function(){b.trigger("click")}):c&&a(function(){b.trigger("click")})}function m(a,b){a.$watch("checked",function(c,d){!d&&c&&("BROCHURE"===a.gcdmInfoMaterial.informationType&&"post"===b.requestType||"DOWNLOAD"===a.gcdmInfoMaterial.informationType&&"download"===b.requestType)&&b.addSelectedBrochure(a.gcdmInfoMaterial);d&&!c&&b.removeSelectedBrochure(a.gcdmInfoMaterial.informationMaterialCode)})}
function r(a,b,c){a.$on("md:formgcdm:brochure:full",function(d,e){a.checked&&e.informationMaterialCode===a.gcdmInfoMaterial.informationMaterialCode&&f(b,c,!1)})}b.appModule.directive("mdGcdmHasConfirmation",function(){return{restrict:"A",link:function(a){a.hasConfirmation=!0}}});b.appModule.directive("mdGcdmRequestedVehicle",["mdGcdmRequestedVehicleService",function(a){return{restrict:"A",scope:{},template:'\x3cdiv class\x3d"md-form-gcdm-preselected-container"\x3e\x3cp class\x3d"md-form-gcdm-preselected-range"\x3e{{ vehicle.getVehicle().vehicleName || vehicle.getVehicle().bodyName || vehicle.getVehicle().rangeName }}\x3c/p\x3e\x3c/div\x3e\x3cimg class\x3d"md-form-gcdm-preselected-image" ng-class\x3d"{\'md-form-gcdm-preselected-image-front\': vehicle.getVehicle().note}" alt\x3d"{{ vehicle.getVehicle().vehicleName || vehicle.getVehicle().bodyName || vehicle.getVehicle().rangeName }}" md-src\x3d"{{ vehicle.getVehicle().preselectedImage || vehicle.getVehicle().cosyImageInfos[2].urlString }}" /\x3e',
link:function(b){b.vehicle=a;e.publish("md:gcdm:vehicle:updated",[{vehicle:b.vehicle.getVehicle()}])}}}]);b.appModule.directive("mdSrc",function(){return{restrict:"A",link:function(a,b,c){c.$observe("mdSrc",function(a){function d(a,b){var c=0;b&&(c=a.outerWidth(!0));b=a.css("max-width").replace("px","");b=parseInt(b);0===c&&0<b&&(c=b);return 0<c?c:d(a.parent(),!0)}null!==c.mdSrc&&void 0!==c.mdSrc&&""!==c.mdSrc&&(a=d(e(b[0]),!1),n.lazyLoadImage.loadImage(e(b[0]),c.mdSrc,a))})}}});b.appModule.directive("mdGcdmBrochureVehicle",
["mdGcdmRequestedVehicleService",function(a){return{restrict:"A",scope:!0,link:function(b){b.vehicle=a;e.publish("md:gcdm:vehicle:updated",[{vehicle:b.vehicle.getVehicle()}])}}}]);b.appModule.directive("mdGcdmTdaModel",["mdGcdmRequestedVehicleService","GcdmUtilService",function(a,b){return{restrict:"A",scope:!0,link:function(c,d,f){c.$watch(function(){return a.getVehicle()?a.getVehicle():null},function(a){b.updateModel(c,f.ngModel,a.modelCode);e.publish("md:gcdm:vehicle:updated",[{vehicle:a}])})}}}]);
b.appModule.directive("mdGcdmSwitchModelName",["mdGcdmRequestedVehicleService",function(a){return{restrict:"A",scope:!0,link:function(b,c,d){a.setReplaceModelNameWithRangeName("true"===d.mdGcdmSwitchModelName?!0:!1)}}}]);b.appModule.directive("mdGcdmVehicleSummaryOutput",["mdGcdmRequestedVehicleService",function(a){return{restrict:"A",scope:!0,link:function(b){b.mdGcdmVehicleSummary=a}}}]);b.appModule.directive("mdGcdmBrochureRangeSelect",["mdGcdmBrochureService","$rootScope",function(a,b){function c(a,
b){b.find("option").each(function(b,c){void 0!==c&&(b=e(c).val(),0===a.getTypedRangeBrochures(b).length?e(c).hide():e(c).show())})}return{restrict:"A",scope:!0,link:function(d,f,g){var h=e(f);b.$on("md:formgcdm:rfi:loaded",function(){c(d,h);if(d.preselectedBrochureIds){var b=d.preselectedBrochureIds[0],e=a.getRangeFromBrochure(b),g=h.children("option").filter('[data-ss-item-code\x3d"'+e+'"]');g.prop("selected",!0);d.initSelectedBrochure(e,b)}else(b=f.val())?d.initSelectedBrochure(b):(g=f.children("option").filter('[data-ss-item-code\x3d"other"]'))&&
g.prop("selected",!0);d.$watch(function(){return a.requestType},function(a){c(d,h)})})}}}]);b.appModule.directive("mdCustomGcdmInformationMaterials",["mdCustomDropdownService","$rootScope",function(a,b){return{restrict:"A",scope:!0,link:function(a,b,c){}}}]);b.appModule.directive("mdGcdmBrochureDropdown",["mdGcdmBrochureService","$rootScope",function(a,b){return{restrict:"A",require:"^form",replace:!0,scope:!0,template:function(){return'\x3cselect ng-model\x3d"selectedBrochure" ng-change\x3d"onBrochureChanged()" md-gcdm-validate-brochure ng-options\x3d"brochure as getBrochureLabel(brochure) for brochure in brochureOptions" gcdm-apply-value gcdm-validation gcdm-validation-identifier\x3d"request_informations" gcdm-model-check\x3e\x3c/select\x3e'},
link:function(c,d,f){d=e(d);var g=d.data("empty-brochure-label"),h=d.data("brochure-criteria"),k=d.data("multi-brochure-selection");b.$on("md:formgcdm:rfi:loaded",function(){var a=void 0;c.preselectedBrochureIds&&(a=c.preselectedBrochureIds[0]);c.initBrochureOptions(g,a,h,k);e.publish("md:selector:initialised")});b.$on("md:formgcdm:gcdmRequest",function(b,d,f){d&&d.modelRange&&(b=a.getBrochureIdFromModelRange(d.modelRange,c.gcdmDownloadBrochure))&&c.initBrochureOptions(g,b,h,k)})}}}]);b.appModule.directive("mdGcdmValidateBrochure",
function(){return{require:"?ngModel",link:function(a,b,c,d){a="true"!=c.multiBrochureSelection;d&&a&&(d.$validators.brochures=function(a,b){return void 0!=b&&"_empty_"!=b.informationMaterialCode&&""!=b.informationMaterialCode})}}});b.appModule.directive("mdGcdmRangeCodeForService",["$rootScope",function(a){return{restrict:"A",link:function(b,c,d){e(c);a.$on("md:formgcdm:gcdmRequest",function(a,c,d){if("rfs"===d||"rfa"===d)b.gcdmFormModel.vehicle.model=c.modelRangeCode})}}}]);b.appModule.directive("mdGcdmBrochureImageSetup",
["mdGcdmBrochureService","$rootScope",function(a,b){return{restrict:"A",link:function(c,d,f){function g(b){b.find(".md-ss-range-item .md-ss-range-link").each(function(b,c){b=e(c);c=b.data("ss-item-code");c=a.gcdmBrochuresGrouped[c]||[];var d=b.find("img").data("cosySrcset");for(b=0;b<c.length;b++)c[b].image={src:d}})}var h=b.$on("md:formgcdm:rfi:loaded",function(){g(e(d))});c.$on("$destroy",function(){h()})}}}]);b.appModule.directive("mdGcdmFormUpdateCampaign",function(){return{restrict:"A",scope:!0,
link:function(a,b,c){function d(a){a&&-1<a.indexOf("{{")&&-1<a.indexOf("}}")&&(a=void 0);return a}console.log("link update campaign");a.gcdmFormModel.campaign.campaignId=d(a.gcdmFormModel.campaign.campaignId);a.gcdmFormModel.campaign.campaignName=d(a.gcdmFormModel.campaign.campaignName);a.gcdmFormModel.campaign.leadContext=d(a.gcdmFormModel.campaign.leadContext);a.gcdmFormModel.campaign.leadSource=d(a.gcdmFormModel.campaign.leadSource);a.gcdmFormModel.campaign.leadSourceId=d(a.gcdmFormModel.campaign.leadSourceId);
a.gcdmFormModel.campaign.offerId=d(a.gcdmFormModel.campaign.offerId);a.gcdmFormModel.campaign.treatmentId=d(a.gcdmFormModel.campaign.treatmentId);a.gcdmFormModel.campaign.treatmentName=d(a.gcdmFormModel.campaign.treatmentName);c.gcdmCampaignId&&c.$observe("gcdmCampaignId",function(b){a.gcdmFormModel.campaign.campaignId=c.gcdmCampaignId});c.gcdmCampaignName&&c.$observe("gcdmCampaignName",function(b){a.gcdmFormModel.campaign.campaignName=c.gcdmCampaignName});c.gcdmLeadContext&&c.$observe("gcdmLeadContext",
function(b){a.gcdmFormModel.campaign.leadContext=c.gcdmLeadContext});c.gcdmLeadSource&&c.$observe("gcdmLeadSource",function(b){a.gcdmFormModel.campaign.leadSource=c.gcdmLeadSource});c.gcdmLeadSourceId&&c.$observe("gcdmLeadSourceId",function(b){a.gcdmFormModel.campaign.leadSourceId=c.gcdmLeadSourceId});c.gcdmOfferId&&c.$observe("gcdmOfferId",function(b){a.gcdmFormModel.campaign.offerId=c.gcdmOfferId});c.gcdmTreatmentId&&c.$observe("gcdmTreatmentId",function(b){a.gcdmFormModel.campaign.treatmentId=
c.gcdmTreatmentId});c.gcdmTreatmentName&&c.$observe("gcdmTreatmentName",function(b){a.gcdmFormModel.campaign.treatmentName=c.gcdmTreatmentName})}}});b.appModule.directive("mdGcdmFormStatus",function(){return{restrict:"A",scope:!0,link:function(a,b,c){a.formSubmitting=!1;a.$watch("gcdmIsLoading()",function(c){c?(b.addClass("md-form-gcdm-submitting"),a.formSubmitting=!0):(b.removeClass("md-form-gcdm-submitting"),a.formSubmitting=!1)})}}});b.appModule.directive("mdRequestType",function(){return{restrict:"A",
link:function(a,b,c){a.$watch(c.mdRequestType,function(c){c&&a.$evalAsync(function(){"download"===c&&/^DIG/.test(a.gcdmInfoMaterial.label)||"post"===c&&/^DLR/.test(a.gcdmInfoMaterial.label)?e(b).removeClass("md-form-gcdm-checkbox-disabled"):e(b).addClass("md-form-gcdm-checkbox-disabled")})})}}});b.appModule.directive("mdFormGcdmBrochureType",["mdGcdmBrochureService",function(a){return{restrict:"A",link:function(b,c,d){if(b=d.mdFormGcdmBrochureType)a.requestType=b}}}]);b.appModule.config(["$provide",
function(a){a.decorator("gcdmInformationIdDirective",["$delegate",function(a){a[0].template=function(a,b){return'\x3cinput ng-model\x3d"checked" ng-click\x3d"onClick()" type\x3d"'+(b.gcdmFieldType?b.gcdmFieldType:"hidden")+'" '+(b.value?' value\x3d"'+b.value+'"':"")+"\x3e"};return a}])}]);b.appModule.directive("mdGcdmInformationId",["mdGcdmBrochureService","mdGcdmRequestedVehicleService","$timeout",function(a,b,c){return{restrict:"A",scope:!0,link:function(d,g,h){function k(a){f(c,l,a)}var l=e(g);
d.$watch(function(){return b.getVehicle()?b.getVehicle().modelCode:null},function(a){a:{var b=d.preselectedBrochureIds;var c=d.gcdmInfoMaterial.informationMaterialCode;if(void 0!==b)for(var f=b.length;f--;)if(b[f]===c){b.splice(f,1);b=!0;break a}b=!1}b?k(!0):h.mdBrochureModelCode===a?"DOWNLOAD"===d.mdGcdmBrochureType&&/^DIG/.test(d.gcdmInfoMaterial.label)?k(!0):"DOWNLOAD"!==d.mdGcdmBrochureType&&/^DLR/.test(d.gcdmInfoMaterial.label)&&k(!0):k(!1)});d.$watch(function(){return a.requestType},function(b,
c){if(b!==c){var f,e;c=a.getSelectedBrochures();k(!1);null!==c&&angular.forEach(c,function(a){f=a.productVgModelCode||a.productAgModelCode;e=d.gcdmInfoMaterial.productVgModelCode||d.gcdmInfoMaterial.productAgModelCode;a=/^DIG/.test(d.gcdmInfoMaterial.label)?"download":"post";void 0!==e&&e===f&&a===b&&k(!0)})}});m(d,a);r(d,c,l)}}}]);b.appModule.directive("mdGcdmInformationIdInit",["mdGcdmBrochureService","$timeout",function(a,b){return{restrict:"A",scope:!0,link:function(c,d,g){var h=e(d);m(c,a);r(c,
b,h);c.$watch(function(){return mini.digital.util.currentModel.get()},function(a){if(void 0!==a){var d=c.gcdmCredentials.gcdmLanguage.toLowerCase();a.modelRangeCode===c.gcdmInfoMaterial.productConstructionSeries&&d==c.gcdmInfoMaterial.languageISO&&f(b,h,!0)}})}}}]);b.appModule.directive("mdGcdmBrochurePrepare",["mdGcdmRequestedVehicleService","mdGcdmBrochureService","$rootScope","$timeout",function(a,b,c,d){return{restrict:"A",link:function(a,b){var d=e(b),f=c.$on("md:formgcdm:rfi:loaded",function(){d.removeAttr("aria-busy");
f()})}}}]);b.appModule.directive("mdBrochureRequestOutput",["mdGcdmBrochureService",function(a){return{restrict:"A",link:function(b){b.$watchCollection(function(){return[a.selectedBrochures,a.conflictedBrochures,a.requestType,a.selectedBrochuresLimit]},function(a){b.selectedBrochuresLimit=a[3];b.isDownload="download"===a[2];b.brochures=a[0];b.conflictedBrochures=a[1]})}}}]);b.appModule.directive("mdGcdmDateTime",["GcdmUtilService",function(a){return{restrict:"A",scope:!0,link:function(b,c,d){var f=
{am:"T09:00:00",pm:"T13:00:00"};var g=b.$watchCollection(function(){return b.$parent.mdTdaAppointment},function(g){var h=e(c).closest(".md-form-gcdm-item").find(".md-form-gcdm-datecustom").attr("format");if(g&&g.date){var l=k(g.date,h).format("YYYY-MM-DD");e.publish("md:overlay:iphone:resize")}d.mdGcdmTimeSlot&&l&&(l+=f[g.timeIsPm?"pm":"am"]);a.updateModel(b,d.ngModel,l)});b.$on("$destroy",function(){g()})}}}]);b.appModule.directive("mdGcdmFormSteps",["mdGcdmStepService","$rootScope",function(a,b){return{restrict:"A",
scope:!0,link:function(d,f){d.formIsSteppingForward=!0;d.setFormStepDirection=function(a){d.formIsSteppingForward="next"===a};d.$watch("gcdmActiveSectionIndex",function(b){var c=e(f).find(".md-form-gcdm-step").eq(b-1),d=c.find(".md-form-gcdm-ss"),g=a.activeStep||0;a.setActiveStep(b);a.isSkipStep(b)||e.publish("md:formgcdm:newStepLoaded",[{previousStepIndex:g,stepIndex:b,steppingBackwards:g&&g>b,stepHasStandardSelector:0<d.length,selector:c}])});d.$watch("gcdmLastSectionIndex",function(b){a.setTotalSteps(b)});
e(f).find("[ng-animate]").on(c,function(){b.$broadcast("stepTransitionEnded");e.publish("stepTransitionEnded")})}}}]);b.appModule.directive("mdGcdmSkipSection",["mdGcdmStepService",function(a){return{restrict:"A",scope:!0,link:function(b,c,d){var f,e=b.gcdmFormSectionIndex;b.$watch(d.mdGcdmSkipSection,function(b){(f=b)?a.setSkipStep(e):a.removeSkipStep(e)});b.$watch("gcdmIsSectionActive()",function(a){f&&a&&(b.formIsSteppingForward?b.gcdmNextFormSection():b.gcdmPrevFormSection())})}}}]);b.appModule.directive("mdGcdmBrochureTypeSwitch",
["$rootScope","mdGcdmBrochureService",function(a,b){return{restrict:"A",scope:!0,link:function(a,c){a.mdGcdmBrochureType=c.attr("data-selected-value")?c.attr("data-selected-value"):b.requestType;"download"===a.mdGcdmBrochureType?(a.mdDisableRegFlow(),a.setGcdmDownloadBrochure(!0)):a.setGcdmDownloadBrochure(!1)}}}]);b.appModule.directive("mdGcdmFormStepsScrollPane",["$timeout",function(b){return{restrict:"A",scope:!0,link:function(c,d,f){function g(){var a=k.outerHeight();d[0].style.height=a+"px"}
var h=window.JSON.parse(d[0].dataset.scrollPane),k=e(d).closest(h.scrollParentClass);k.find(h.footerNavClass);var l=a.isSamsung;"disabled"!==f.mdGcdmFormStepsScrollPane&&(g(),c.$on("md:formgcdm:window:resize",g),c.$on("stepTransitionEnded",function(){l?b(g,500):g()}),c.$on("brochureBasketEmpty",g),c.$on("brochureBasketTransitionEnd",g))}}}]);b.appModule.directive("mdGcdmFormProgress",["mdGcdmStepService",function(a){return{restrict:"A",scope:{i18nTitle:"@",i18nItem:"@"},template:'\x3cp class\x3d"md-form-gcdm-progress-title" id\x3d"md-form-gcdm-progress-label"\x3e{{ i18nTitle }}\x3c/p\x3e\x3col aria-labelledby\x3d"md-form-gcdm-progress-label" ng-if\x3d"steps.totalSteps" class\x3d"md-form-gcdm-progress" role\x3d"progressbar" aria-valuenow\x3d"{{ steps.activeStep }}" aria-valuemin\x3d"1" aria-valuemax\x3d"{{ steps.totalSteps }}"\x3e\x3cli class\x3d"md-form-gcdm-progress-bar" ng-class\x3d"{\'md-form-gcdm-progress-bar-active\': steps.activeStep \x3e\x3d $index + 1}" ng-repeat\x3d"i in getSteps(steps.totalSteps) track by $index"\x3e\x3cspan class\x3d"md-form-gcdm-progress-bar-text"\x3e{{ i18nItem }} {{ $index + 1 }}\x3c/span\x3e\x3c/li\x3e\x3c/ol\x3e',
compile:function(){return function(b){b.steps=a;b.getSteps=function(a){var b=[];if(1===a)return b;for(var c=0;c<a;c++)b.push("");return b}}}}}]);b.appModule.directive("mdGcdmIsEditMode",function(){return{restrict:"A",scope:!0,link:function(a,b,c){a.isEditMode="true"===c.mdGcdmIsEditMode}}});b.appModule.directive("mdGcdmTdaSummaryOutput",["mdGcdmTdaSummaryService","mdGcdmRequestedVehicleService",function(a,b){return{restrict:"A",scope:!0,link:function(c){c.tdaSummary={};angular.extend(c.tdaSummary,
b,!0);c.$watch(function(){return b.getVehicle()},function(){angular.extend(c.tdaSummary,b,!0)});c.$watch(function(){return a.summaryData},function(a){angular.extend(c.tdaSummary,a)},!0)}}}]);b.appModule.directive("mdFormGcdmPolicy",["$timeout",function(a){return{restrict:"A",link:function(b,c){function d(a,c,d){h=d.css("height")>c.css("max-height");b.termsOverflow=a&&h;return b.termsOverflow}var f=e(c[0]),g=e(c.find("div")[0]),h;0<g.length&&b.$watch("termsVisible",function(b,c){c!==b&&(f.css("height",
b?g.height():0),a(d.bind(this,b,f,g),50))})}}}]);b.appModule.directive("mcGcdmPolicyUsageConsentValue",["$timeout",function(a){return{restrict:"A",link:function(b,c,d){var f=d.mcGcdmPolicyUsageConsentValue,g=d.gcdmPolicyUsageId,h=e(c).closest("[gcdm-policy-id]").attr("gcdm-policy-id");void 0!==h&&a(function(){for(var a=void 0,c=0;c<b.gcdmFormModel.policyConsents.length;c++)if(b.gcdmFormModel.policyConsents[c].policyId===h){a=b.gcdmFormModel.policyConsents[c];break}void 0!==a&&(a=a.policyUsageConsents[g],
void 0!==a&&(a.selected=!!f))})}}}]);b.appModule.directive("mdGcdmProfileRefresh",["GcdmProfileService",function(a){return{restrict:"A",link:function(a,b,c){a.gcdmIsLoggedIn()&&a.$watch("gcdmFormModel.settings.updateProfile",function(){a.gcdmFormModel.businessPartner.addresses[0].preferred=a.gcdmFormModel.settings.updateProfile?!0:!1})}}}]);b.appModule.directive("ngActivateControl",function(){return function(a,b,c){b.bind("keydown keypress",function(b){if(13===b.which||32===b.which)a.$apply(function(){a.$eval(c.ngActivateControl)}),
b.preventDefault()})}});b.appModule.directive("mdGcdmAddToCalendar",function(){return{restrict:"A",link:function(a,b){function c(a){try{return k(a).format("YYYYMMDDTHHmmss")}catch(B){}}var d;b.on("click",function(a){a.preventDefault();d="BEGIN:VCALENDAR\nVERSION:2.0\n";d+="PRODID:-//MINI//NONSGML v1.0//EN\n";d+="BEGIN:VEVENT\n";d+="UID: "+Math.random().toString(36).substr(2,9)+"\n";d+="DTSTAMP:"+b.attr("data-md-calendar-date-time")+"\n";d+="ORGANIZER;CN\x3d"+b.attr("data-md-calendar-firstname")+" "+
b.attr("data-md-calendar-surname");d+=":MAILTO::"+b.attr("data-md-calendar-email")+"\n";a=d+="DTSTART:"+c(b.attr("data-md-calendar-date-time"))+"\n";a:{var f=b.attr("data-md-calendar-date-time");try{var e=c(k(f).add(1,"days"));break a}catch(C){}e=void 0}d=a+("DTEND:"+e+"\n");d+="LOCATION:"+b.attr("data-md-calendar-address")+"\n";d+="SUMMARY:"+b.attr("data-md-calendar-title")+"\n";d+="END:VEVENT\n";d+="END:VCALENDAR";window.open("data:text/calendar;charset\x3dutf8,"+encodeURI(d))})}}});b.appModule.directive("mdGcdmRfoInput",
["mdGcdmRfoSummaryService",function(a){return{restrict:"A",require:"?ngModel",link:function(b,c,d,f){var e=d.mdGcdmRfoInput,g={};e&&f&&b.$watch(function(){return f.$modelValue},function(b){void 0!==b&&(g[e]=b,a.setSummaryData(g))})}}}]);b.appModule.directive("mdGcdmFinance",["mdGcdmFinanceService",function(a){return{restrict:"A",scope:!0,link:function(b,c){b.$watch("gcdmIsSectionActive()",function(c){c&&(a.loadFinanceInterest(),b.existFinanceInterests=a.isFinanceInterests())});e.subscribe("md:finance:initialised",
function(){a.loadFinanceInterest();b.existFinanceInterests=a.isFinanceInterests()})}}}]);b.appModule.directive("mdGcdmRfoSummaryOutput",["mdGcdmRfoSummaryService",function(a){return{restrict:"A",link:function(b){b.rfoSummaryData=a.summaryData}}}]);b.appModule.directive("mdGcdmDealerLocatorDistances",function(){return{restrict:"A",link:function(a,b){var c=e(b);a.showDistances=function(){c.find(".md-dealer-distance").css("display","table-cell")};a.hideDistances=function(){c.find(".md-dealer-distance").css("display",
"none")}}}});b.appModule.directive("mdGcdmDealerLocatorErrorOverlay",function(){return{restrict:"A",link:function(a,b){function c(a){if(!a.requester.is(".md-gcdm-has-error"))return!1;m=e(a.overlayContent);k=m.find("button");e.subscribe("md:overlay:closed",d);m.find(".md-form-gcdm-dlo-error-content").removeClass("md-dlo-overlay-hide");k.on("click",f);e.unsubscribe(n)}function d(){a.onErrorMessageHandled();l=void 0}function f(){l.closeOverlay()}var g=e(b),h=g.find(".md-form-gcdm-dlo-error-content"),
k,l,m,n;a.$watch("dealerLocatorError",function(b){!0===b&&((b=h.find('[gcdm-error-type\x3d"'+a.currentErrorMessage+'"]').data("overlay-title"))||(b=h.data("default-overlay-title")),l=e.mdOverlay({open:!1,ajax:!1,title:b,source:h,style:"x-sml"},g),n=e.subscribe("md:overlay:opened",c),l.openOverlay())});a.$on("destroy",function(){k&&k.off("click",f)})}}});b.appModule.directive("mdGcdmDealerLocatorTempSaveWarning",function(){return{restrict:"A",link:function(a,b){function c(){a.$apply(function(){a.confirmTempSaveWarningSelection(m);
a.tempSave=!1;a.messageBoxOpen=!1})}function d(){c();mini.digital.comp.myminishelf.openShelf()}function f(){m=!0;c()}var g=e(b),h,k,l,m;a.hideLoginLink=1===g.parents(".md-nav-shelf, .md-custom-overlay").length;a.displayTempSaveWarning=function(){a.messageBoxOpen=!0;a.tempSave=!0;m=!1;l=g.find(".md-dlo-confirm-temp-save-btn");h=g.find(".md-form-dlo-temp-save-action .md-login-link");k=g.find(".md-dlo-cancel-temp-save-btn");h.on("click",d);l.on("click",f);k.on("click",c);g.closest(".md-form-gcdm-step-content").animate({scrollTop:0},
"slow")}}}});b.appModule.directive("mdDirectDealerSelectUpdateInfo",function(){return{restrict:"A",link:function(a,b){var c=e(b),d,f;e("body").hasClass("md-group-dealer")||(a.updateAddressInfo=function(a){d=c.closest(".md-ds-address");f=d.find(".md-ds-addressinfo");var b=f.data("addressInfo");b&&b.setData(a)})}}});b.appModule.directive("mdGcdmDealerLocatorOverwriteWarning",function(){return{restrict:"A",link:function(a,b){function c(){a.$apply(function(){a.confirmOverwriteDialogueSelection(l);a.overwriteDealer=
!1;a.messageBoxOpen=!1})}function d(){l=!0;c()}function f(){c()}var g=e(b),h,k,l;a.openOverwriteDialogue=function(){a.messageBoxOpen=!0;a.overwriteDealer=!0;l=!1;k=g.find(".md-dlo-cancel-overwrite-btn");h=g.find(".md-dlo-confirm-overwrite-btn");h.on("click",d);k.on("click",f)}}}});b.appModule.directive("mdDloMapEventBinding",function(){return{restrict:"A",link:function(a,b){function c(b){var c=e(b.target);b=1===c.parents(".md-dealer-item").length;var d=1===c.parents(".md-form-gcdm-dlo-searchbar").length;
c=c.hasClass("mxnIcon");b||c||d||a.closeInfoBox()}function d(){}b=e(b);var f=1===b.closest(".md-nav-shelf").length,g=b.closest(f?".md-nav-shelf-component":".md-js-dlo-map-container"),h=!1;if(!h){g.on("mousedown",c);var k=a.$on("md:formgcdm:window:resize",d);h=!0}a.$on("$destroy",function(){h&&(g.off("mousedown",c),k&&k(),h=!1)})}}});b.appModule.directive("mdDloCustomInfoBox",["$timeout",function(a){return{restrict:"A",link:function(b,c){function d(){if(m.is(":visible")){var a=v.offset();if(void 0!==
a){var b=n.offset().left,c=n.offset().top,d=m.height(),f=a.top+v.height(),e=v.width()/2,h=m.width()/2,k=m.offset().top;a=a.left+(e-b-h);c=f-c-d;f-=k;f<d&&(c=c+f-d);c=g.wide.matches?c-14:c-30;m.css({top:c+"px",left:a+"px"})}}}function f(){w=(t=1===m.closest(".md-nav-shelf").length)?".md-nav-shelf-component":".md-js-dlo-map-container";v=m.closest(w)}function h(){console.log("onDloSearchResults");n=m.closest(".mxnIconAnchor");q=n.find(".mxnIcon");f();r||(q.on("click",k),r=!0);a(function(){d()})}function k(){b.gcdmDloLocalSearch.gcdmIsPinInfoHidden||
a(function(){d()})}function l(){J.forEach(function(a){e.unsubscribe(a[0])});J=[];x=!1;m.off();r&&(q.off("click",k),r=!1)}var m=e(c),n,q,v,w,x=!1,r=!1,t=!1,J=[];b.$on("$destroy",function(){x&&l()});J.push(e.subscribe("md:dlo:searchResults",h));J.push(e.subscribe("md:dlo:serchResultsDone",h));J.push(e.subscribe("md:dlo:searchResultsSingle",h));J.push(e.subscribe("md:dlo:dloSelected",function(){b.gcdmDealerData.attributes.distributionPartnerId===b.currentDealer.attributes.distributionPartnerId&&a(function(){n=
m.closest(".mxnIconAnchor");q=n.find(".mxnIcon");f();d()})}))}}}]);b.appModule.directive("mdDloLayoutToggle",function(){return{restrict:"A",link:function(a,b){var c=e(b).find(".md-toggle-map-layout-list"),d=e(b).find(".md-toggle-map-layout-map");a.switchToList=function(){c.trigger("click")};a.switchToMap=function(){d.trigger("click")}}}});b.appModule.directive("mdGcdmDloLightSelectPreferredDealer",function(){return{restrict:"A",link:function(a,b){a.$watch("preferredDealer",function(b){if(void 0!==
b)a.onDealerSelected({name:a.preferredDealer.name,street:a.preferredDealer.street,city:a.preferredDealer.city,country:a.preferredDealer.country,postalCode:a.preferredDealer.postalCode,attributes:{distributionPartnerId:a.preferredDealer.distributionPartnerId,outletId:a.preferredDealer.outletId}})})}}});b.appModule.directive("mdGcdmAddressCompletionList",function(){return{link:function(a,b){e(b).on("click",function(){a.gcdmAddress.street="";a.gcdmAddress.regionCode="";a.gcdmAddress.city="";a.addressFieldsShow||
a.addressFieldsToggle()})}}});b.appModule.directive("mdGcdmContinueTrigger",["$rootScope","$timeout",function(a,b){return{restrict:"A",link:function(c,d){a.$on("md:formgcdm:ss:selected",function(){b(function(){e(d).trigger("click")})})}}}]);b.appModule.directive("mdGcdmBrochureSelectorListing",["mdGcdmBrochureService","$rootScope","$timeout",function(a,b,c){return{scope:{},restrict:"A",templateUrl:"brochureListing.html",link:function(d,f,g){var h=b.$on("md:formgcdm:rfi:loaded",function(){d.brochures=
a.gcdmBrochuresGrouped[g.mdGcdmBrochureGroup]||[];c(function(){b.$broadcast("md:formgcdm:rfi:listingrendered",e(f),g.mdGcdmBrochureGroup)});h()})}}}]);b.appModule.directive("mdGcdmBrochureSelectorFilter",["mdGcdmBrochureService","$rootScope",function(a,b){return{restrict:"A",link:function(c,d,f){function g(a,b){b.find(".md-ss-models-list-item").addClass("md-ss-models-brochure-disabled").filter("[data-ss-item-brochure-type\x3d"+a+"]").removeClass("md-ss-models-brochure-disabled")}function h(a,b){var c=
"download"===a?k:l;b.find(".md-ss-models-list").each(function(){var a=e(this),b=a.next(".md-ss-models-empty-list");a.find(".md-ss-models-list-item:not(.md-ss-models-brochure-disabled)").length?b.addClass("md-ss-models-brochure-disabled"):b.length?b.text(c).removeClass("md-ss-models-brochure-disabled"):(a=a.closest(".md-standard-selector-layer"),b=a.data("ss-item-code"),a.closest(".md-ss-container").find(".md-ss-range-item .md-ss-range-link[data-ss-item-code\x3d"+b+"]").parent().hide())})}var k=f.mdGcdmBrochureEmptyDownload,
l=f.mdGcdmBrochureEmptyPost,m=e(d),n=b.$on("md:formgcdm:rfi:listingrendered",function(b,c,d){g(a.requestType,c);h(a.requestType,c);b=a.gcdmBrochuresGrouped[d]||[];d=m.find('.md-ss-range-list .md-ss-range-link[data-ss-item-code\x3d"'+d+'"]').find(".md-ss-range-image-wrapper img").data("ri-src");for(c=0;c<b.length;c++)b[c].image={src:d}});c.$watch(function(){return a.requestType},function(a,b){a!==b&&(g(a,m),h(a,m))});c.$on("$destroy",function(){n()})}}}]);b.appModule.directive("mdGcdmBrochureImage",
["$rootScope",function(a){return{restrict:"A",link:function(a,b,c){function d(b){if(!(c.ngSrc&&0<c.ngSrc.length)){a.imageUrl="";var d=c.mdGcdmBrochureImage;d&&(d.lastIndexOf("/")!==d.length-1&&(d+="/"),a.imageUrl=d+b.informationMaterialCode+".jpg")}}d(a.brochure);a.$watch("brochure",function(a){d(a)})}}}]);b.appModule.directive("mdGcdmBrochureSelectorTriggers",["$rootScope","$timeout",function(a,b){return{restrict:"A",link:function(c,d){var f=e(d),g=a.$on("md:formgcdm:ss:selected",function(a,c,d){a=
d.data("ssItemBrochureId");if(a&&!d.hasClass("md-ss-models-brochure-disabled")){var e=f.find(".md-form-gcdm-checkbox:not(.md-form-gcdm-checkbox-disabled) #"+a);e.length&&(d.hasClass("md-ss-models-brochure-selected")&&e.is(":checked")||!d.hasClass("md-ss-models-brochure-selected")&&!e.is(":checked"))&&(d.attr("aria-busy","true"),b(function(){e.trigger("click")}))}});c.$on("$destroy",function(){g()})}}}]);b.appModule.directive("mdGcdmBrochureSelectorState",["$rootScope",function(a){return{restrict:"A",
link:function(b,c){function d(a,b){e(c).find(".md-ss-models-list-link[data-ss-item-brochure-id\x3d"+a.informationMaterialCode+"]")[b?"removeClass":"addClass"]("md-ss-models-brochure-selected").removeAttr("aria-busy")}a.$on("md:formgcdm:brochure:add",function(a,c){b.lastBrochureSelected=c.descriptionText;d(c)});a.$on("md:formgcdm:brochure:remove",function(a,c){d(c,!0);b.lastBrochureSelected=c.descriptionText});a.$on("md:formgcdm:brochure:full",function(a,c){d(c,!0);b.lastBrochureSelected=c.descriptionText})}}}]);
b.appModule.directive("mdGcdmBrochureDrawer",["$rootScope","$timeout",function(a,b){return{restrict:"A",link:function(f,h,k){function l(){q.removeClass("md-form-gcdm-drawer-is-open");r=!1;v.css("height",u?0:100+d())}function m(){r&&b(n)}function n(){if(u){var b=w.outerHeight();0===b&&(v.one(c,function(){l()}),a.$broadcast("brochureBasketEmpty"));v.css("height",240<b?240:b)}}var q=e(h);f=JSON.parse(k.mdGcdmBrochureDrawer);h=q.find(f.triggerElem);var w=q.find(f.hiddenElem),v=q.find(f.listWrap),u=!g.wide.matches,
r=!1;h.on("click",function(){v.one(c,function(){a.$broadcast("brochureBasketTransitionEnd")});r?l():(n(),0!==w.outerHeight()&&(q.addClass("md-form-gcdm-drawer-is-open"),r=!0))});a.$on("md:formgcdm:brochure:add",m);a.$on("md:formgcdm:brochure:remove",m);a.$on("md:formgcdm:window:resize",function(){if(u&&g.wide.matches||!u&&!g.wide.matches)u=!g.wide.matches,l()});l()}}}]);b.appModule.directive("mdGcdmBrochureRemove",["mdGcdmBrochureService",function(a){return{restrict:"A",link:function(b,c){c.on("click",
function(){a.removeSelectedBrochure(b.brochure.informationMaterialCode);document.getElementById(b.brochure.informationMaterialCode).click()})}}}]);b.appModule.directive("mdGcdmInformationMaterials",["mdGcdmBrochureService","$rootScope",function(a,b){return{restrict:"A",link:function(c,d,f){var e=f.mdGcdmInformationMaterialsMap?JSON.parse(f.mdGcdmInformationMaterialsMap):[];c.$parent.$watch("gcdmSelectValues",function(c){if(!a.gcdmBrochures.length&&c&&c.length){var d={aftersales:[],finance:[],other:[]},
f=0,g=c.length,h=function(a){return e.filter(function(b){return b.brochureId===a})};for(f;f<g;f++){c[f].requestType=/^DIG/.test(c[f].label)?"download":"post";var k=h(c[f].informationMaterialCode);k.length?(d[k[0].brochureSeries]=d[k[0].brochureSeries]||[],d[k[0].brochureSeries].push(c[f])):c[f].productConstructionSeries?(d[c[f].productConstructionSeries]=d[c[f].productConstructionSeries]||[],d[c[f].productConstructionSeries].push(c[f])):c[f].brochureGroup?(d[c[f].brochureGroup.toLowerCase()]||d.other).push(c[f]):
d.other.push(c[f])}a.gcdmBrochures=c;a.gcdmBrochuresGrouped=d;b.$broadcast("md:formgcdm:rfi:loaded")}})}}}]);b.appModule.directive("mdGcdmBrochureConflicts",["mdGcdmBrochureService","$timeout",function(a,b){return{restrict:"A",link:function(c,d,f){var g=e(d),h,k;d=f.mdGcdmBrochureConflictsTitle;var l=f.mdGcdmBrochureConflictsConstrain,m=e(f.mdGcdmBrochureConflictsToggle);f={source:g.children().first(),constrain:l?g.closest(l):null,group:"md-gcdm-brochure-conflicts",initialiseSource:!1,style:"steps",
title:d?d:null};var n=function(){c.$apply(function(){a.resetConflictedBrochures();g.data("layer").close()});e.publish("md:formgcdm:analytics:brochure:conflict:cancelled",[{eventName:"md:formgcdm:analytics:brochure:conflict:cancelled",eventEffect:"cancelled",lastBrochureSelected:c.lastBrochureSelected}])},q=function(){var b=[];angular.forEach(a.conflictedBrochures,function(a){b.push("#"+a.informationMaterialCode+":checked")});e(b.join()).trigger("click");c.$apply(function(){a.resetConflictedBrochures();
a.toggleRequestType();g.data("layer").close()});e.publish("md:formgcdm:analytics:brochure:conflict:accepted",[{eventName:"md:formgcdm:analytics:brochure:conflict:accepted",eventEffect:"accepted",lastBrochureSelected:c.lastBrochureSelected}])},w=function(a){a.requester.is("[md-gcdm-brochure-conflicts]")&&(a.layerContent.find(".md-gcdm-cancel-conflicts").on("click",n),a.layerContent.find(".md-gcdm-accept-conflicts").on("click",q),e.unsubscribe(h))},v=function(b){b.requester.is("[md-gcdm-brochure-conflicts]")&&
(a.pendingRequestType&&(a.resetPendingRequestType(),m.find("label:not(.md-is-active)").click()),e.unsubscribe(k))};g.layer(f);c.$watch(function(){return a.conflictedBrochures},function(a){a&&a.length&&b(function(){h=e.subscribe("md:layer:opened",w);k=e.subscribe("md:layer:closed",v);g.data("layer").open()})})}}}]);b.appModule.directive("mdGcdmBrochureFull",["mdGcdmBrochureService","$timeout","$rootScope",function(a,b,c){return{restrict:"A",link:function(d,f,g){d=g.mdGcdmBrochureBasketFullTitle;var h=
g.mdGcdmBrochureBasketFullConstrain;g=g.mdGcdmBrochureRequestLimit;var k=e(f);g&&a.setSelectedBrochuresLimit(g);k.layer({style:"steps",source:k.children().first(),constrain:h?k.closest(h):null,group:"md-gcdm-brochure-basket-full",title:d?d:null});c.$on("md:formgcdm:brochure:full",function(){b(function(){k.data("layer").open()})})}}}]);b.appModule.directive("mdGcdmBrochureId",function(){return{restrict:"A",scope:!0,link:function(a){a.$watchCollection("gcdmFormModel.information",function(a,b){if(a!==
b){for(var c in a)"difference"!==c&&-1===b.indexOf(a[c])&&e.publish("md:formgcdm:analytics:basketUpdate",[{eventName:"Brochure selected",newValue:a,itemAdded:"added",lastBrochureSelected:a[c].id}]);for(var d in b)"difference"!==d&&-1===a.indexOf(b[d])&&e.publish("md:formgcdm:analytics:basketUpdate",[{eventName:"Brochure de-selected",newValue:a,itemAdded:"removed",lastBrochureSelected:b[d].id}])}})}}});b.appModule.directive("mdGcdmContactReason",["$rootScope","$location",function(a,b){return{restrict:"A",
scope:!0,link:function(a,c){var d=JSON.parse(c.attr("dealermap"));a.skipDloSection=!1;a.receivedSelectedDealer=null;a.$on("md:dlo:select:dealer",function(c,f){a.receivedSelectedDealer=f;if(f.attributes){console.log("set the RFX mail",f.attributes.rfSupportedEmail[a.gcdmFormModel.useCase]);c=f.attributes.rfSupportedEmail[a.gcdmFormModel.useCase];if(!angular.isDefined(a.gcdmFormModel.contact.requestEmail)||""===a.gcdmFormModel.contact.requestEmail||null===a.gcdmFormModel.contact.requestEmail){a.gcdmFormModel.contact.requestEmail=
c;for(var e in d)d[e]&&(a.gcdmRequestEmails[e]=c)}f=b.url();if(-1<f.indexOf("dloPartner")&&-1<f.indexOf("dloOutlet"))for(e in d)a.gcdmRequestEmails[e]=c}});a.$watch("gcdmFormModel.contact.reason",function(b,c){if(b!==c){if(c=b)c=c.replace(/[\r\n]+/g,""),c=c.trim();a.skipDloSection=void 0===b?!1:!d[c];h.base.updateComponentAttribute({contactInquiryType:b});h.common.tracking.componentTrackingObj.attributes.contactInquiryType=b}})}}}]);b.appModule.directive("mdUpdateTrackingValue",["$rootScope",function(a){return{restrict:"A",
link:function(a,b){e(b);a.$watch("accessory",function(a,b){e.subscribe("md:formgcdm:tracking:setup",function(){a&&(h.base.updateComponentAttribute({accessoryName:a.name,accessoryID:a.id}),h.common.tracking.componentTrackingObj.attributes.accessoryName=a.name,h.common.tracking.componentTrackingObj.attributes.accessoryID=a.id)})});a.$watch("gcdmServiceModel.serviceCategory",function(a,b){a&&(h.base.updateComponentAttribute({serviceCategory:a}),h.common.tracking.componentTrackingObj.attributes.serviceCategory=
a)});a.$watch("gcdmServiceModel.serviceType",function(a,b){a&&(h.base.updateComponentAttribute({optionalService:a}),h.common.tracking.componentTrackingObj.attributes.optionalService=a)})}}}]);b.appModule.directive("mdGcdmValidationErrorMessage",["mdGcdmAnalyticsService",function(a){return{restrict:"A",link:function(b,c){var d="",f="",g=[{gcdmScopeVar:"gcdmShowAddressValidationErrorMessage",errorType:"addressError"},{gcdmScopeVar:"gcdmShowSystemNotAvailableMessageState",errorType:"systemError"}],k=
e(c),l=function(){a.setErrorsPushed(!1);b.$evalAsync(function(){a.getErrorsPushed()||(h.errors.pushErrorsArray(),a.setErrorsPushed(!0))})},m=0;b.$watch(function(){f=d="";if(b.gcdmShowValidationError)return b.gcdmShowValidationError();if(b.gcdmShowErrorMessage)return b.gcdmShowErrorMessage();for(;m<g.length;m++){var a=g[m];if(b.hasOwnProperty(a.gcdmScopeVar)){b[a.gcdmScopeVar]?d=a.errorType:f=a.errorType;break}}return""!==d?!0:!1},function(a){a?(a={formErrorType:""===d&&k.attr("gcdm-error-type")||
"",formErrorMessage:k.text(),formErrorFieldName:""===d&&(k.attr("gcdm-for")||k.attr("md-gcdm-tracking-name"))||""},h.errors.addError(a,d),l()):(a=h.errors.removeError(k.attr("gcdm-for"),f))&&l()})}}}]);b.appModule.directive("mdGcdmErrorScrollContainer",["$timeout",function(b){return{restrict:"A",link:function(c,d){c.$on("md:form:submit:error",function(c,f){b(function(){function b(a){var c=a instanceof HTMLElement&&window.getComputedStyle(a).overflowY;return a?"visible"!==c&&"hidden"!==c&&a.scrollHeight>=
a.clientHeight?a:b(a.parentNode)||document.body:null}var c="."+f;c=e(d).find(c).eq(0);var g=b(c[0]);g=e(g);e.publish("md:overlay:iphone:resize");c.length&&g.length&&(g.animate({scrollTop:c.position().top},400),a.isIPhone&&e("body").animate({scrollTop:c.position().top},400))},500)})}}}]);b.appModule.directive("mdGcdmScrollContainer",["$timeout",function(b){return{restrict:"A",link:function(c,d){a.isMobile&&e.subscribe("md:form:scroll",function(){b(function(){var a=e(d);a=a.hasClass("md-form-gcdm-step-content")?
a:a.find(".md-form-gcdm-step-content");var b=e(".md-form-gcdm-container"),c=e(".md-form-gcdm-ss");b.length&&a.length&&a.animate({scrollTop:c.height()},400)},500)})}}}]);b.appModule.directive("mdSetCorrespondLanguage",["$timeout","$location",function(a,b){return{restrict:"A",require:"^form",link:function(a,b){var c=e(b).closest("form");b.bind("click",function(){var b=c.closest(".md-component.md-form-gcdm").attr("gcdm-language");void 0==a.gcdmFormModel.businessPartner.correspondLanguageISO&&void 0!==
b&&void 0!==a.gcdmFormModel.businessPartner&&(a.gcdmFormModel.businessPartner.correspondLanguageISO=b)})}}}]);b.appModule.directive("mdGcdmDeferredFormSubmit",["$timeout","$location","mdGcdmBrochureService","mdGcdmRequestedVehicleService",function(a,c,d,f){return{restrict:"A",require:"^form",link:function(c,g){function h(a){return e.trim(m[a].$el.toArray().reduce(function(a,b){return a+b.value},""))}function k(a,b){return a.includes(b)?a:a?a+" "+b:b}var l=e(g).closest("form"),m={isBlankEmail:{id:"email",
$el:l.find("#emailPrivate, #emailBusiness, #rfb-emailAddress, #rfbEmailAddress")},isBlankSms:{id:"sms",$el:l.find("#phonePrivate")},isBlankPhone:{id:"phone",$el:l.find("#phoneBusiness, #phonePrivate")}},n={},v={};e.each(m,function(a){c[a]=!h(a);c.$watch(function(){return h(a)},function(b){c[a]=!b})});g.bind("click",function(){function g(a){if(void 0!==a)return a.toString()}function h(a,b,c){void 0!==c&&(void 0===a.customExtensions&&(a.customExtensions={}),a.customExtensions[b]={key:g(b),value:g(c)})}
function m(a,b){b.isTopDrive&&(h(a,"leadContext",b.campaignId),h(a,"leadSourceId",b.leadSource));b.campaignId&&(a.campaign.campaignId=g(b.campaignId));b.leadSource&&(a.campaign.leadContext=g(b.leadSource));b.treatmentId&&(a.campaign.treatmentId=g(b.treatmentId));if(void 0!==a.campaignFOURDB){b=l.attr("md-gcdm-campaign-number");var c=l.attr("md-gcdm-campaign-agreement-number");void 0!==b&&(a.campaignFOURDB.campaignNumber=b);void 0!==c&&(a.campaignFOURDB.agreementNumber=c)}}function w(a){var c=b.campaign.getCampaignInfo();
b.campaign.isValidCampaignInfo(c)||(c.campaignId=a.campaignId,c.leadSource=a.campaignLeadSource,c.treatmentId=a.campaignTreatmentSource);return c}function r(){var a=l.closest(".md-component.md-form-gcdm");return a?"true"==a.attr("data-allowed-dynamic-context"):!1}var u=c[l[0].name],t=[];e.each(l.find(".md-form-gcdm-policy-container").find("input"),function(a,b){e(b).attr("required")&&t.push(b)});var x=!1;0<t.length&&(e.each(t,function(a,b){e(b).is(":checked")?e(e(b).parent()).removeClass("mandatory-policy-error"):
(e(e(b).parent()).addClass("mandatory-policy-error"),x=!0)}),e(t).on("click",function(a){e.each(t,function(a,b){e(b).is(":checked")?e(e(b).parent()).removeClass("mandatory-policy-error"):(e(e(b).parent()).addClass("mandatory-policy-error"),x=!0)})}));0===Object.keys(u.$error).length&&(u.$invalid=x);if("RFO"===c.gcdmFormModel.useCase){var z=f.getVehicle();if("stockLocator"===z.source&&z.vin){var B=_.get(c,"gcdmFormModel.comment");u=c[l[0].name];u=u.$error&&u.$error.required&&0<u.$error.required.length?
!0:!1;u||(B=k(B,z.vin),_.set(c,"gcdmFormModel.comment",B))}if(q.isLoaded){if(n=q.SF.getFacade().getSFRequest().interests){for(z=0;z<n.length;z++)v[n[z].key+"RequestIncluded"]=n[z].value;c.gcdmFormModel.offer=v}}else c.gcdmFormModel.offer={financeRequestIncluded:!1}}if("rfi"===c.gcdmFormModel.requestType||"rfid"===c.gcdmFormModel.requestType)c.gcdmFormModel.requestType="download"===d.requestType?"rfid":"rfi",c.gcdmFormModel.useCase="download"===d.requestType?window.gcdm.USE_CASES.REQUEST_FOR_INFORMATION_DOWNLOAD:
window.gcdm.USE_CASES.REQUEST_FOR_INFORMATION,c.gcdmDownloadBrochure&&c.gcdmFormModel&&0<c.gcdmFormModel.businessPartner.addresses.length&&c.gcdmFormModel.businessPartner.addresses.splice(0,1);c.newsletterTemplateId&&0<c.newsletterTemplateId.indexOf("usecase")&&(z=c.gcdmFormModel.useCase,z===window.gcdm.USE_CASES.REQUEST_FOR_INFORMATION&&(z="download"===d.requestType?window.gcdm.USE_CASES.REQUEST_FOR_INFORMATION_DOWNLOAD:window.gcdm.USE_CASES.REQUEST_FOR_INFORMATION),c.newsletterTemplateId=c.newsletterTemplateId.replace("usecase",
z));c.gcdmFormModel&&c.gcdmFormModel.fulfillmentInfo&&c.gcdmFormModel.fulfillmentInfo.newsletters.push({templateID:c.newsletterTemplateId});z=l.closest(".md-component.md-form-gcdm").attr("gcdm-language");void 0!==z&&void 0!==c.gcdmFormModel.businessPartner&&(c.gcdmFormModel.businessPartner.correspondLanguageISO=z);if(function(a){if(a.gcdmFormModel&&a.gcdmFormModel.contactPolicyConsents&&0<a.gcdmFormModel.contactPolicyConsents.length&&(a=a.gcdmFormModel.contactPolicyConsents[0],a.usageDefinitions&&
0<a.usageDefinitions.length))for(var b=0;b<a.usageDefinitions.length;b++){var c=a.usageDefinitions[b];if(c&&c.consents)for(var d=0;d<c.consents.length;d++){var f=c.consents[d];if("ANALYTICS"==f.usageId&&"ACCEPT"==f.consent)return!0}}return!1}(c)||r())z=w(c),m(c.gcdmFormModel,z);(function(a,b){if(!a.gcdmIsLoggedIn()){var c=b.data("formgcdmCampaignVehicleInterest");b=b.data("formgcdmCampaignVehicleInterestPost");if(c||b){var f=a.gcdmFormModel.brand;"rfi"!==a.gcdmFormModel.requestType&&"rfid"!==a.gcdmFormModel.requestType||
"download"==d.requestType||(c=b);a.gcdmFormModel.profile.vehicleInterest={productId:c,brand:f}}}})(c,l);0<e("form[data-additional-brochurename-and-brand]").length&&h(c.gcdmFormModel,"brochureBrandName","MINI");"CR"==c.gcdmFormModel.useCase&&(c.campaignResponseType&&0<c.campaignResponseType.length&&(c.gcdmFormModel.campaign.responseType=c.campaignResponseType),(z=e("form[gcdm-request-type]").attr("gcdm-request-type"))&&0<z.length&&(c.gcdmFormModel.campaign.requestType=z));c.mdSetBusinessPartner(c.gcdmFormModel.businessPartner);
a(c.gcdmSubmit)})}}}]);b.appModule.directive("mdConvertToString",function(){return{require:"ngModel",link:function(a,b,c,d){d.$parsers.push(function(a){return""+a});d.$formatters.push(function(a){return parseFloat(a)})}}});b.appModule.directive("mdGcdmErrorScrollSubmit",["$timeout",function(a){return{restrict:"A",link:function(b,c,d){c.bind("click",function(){a(function(){b.$emit("md:form:submit:error",d.mdErrorSelector)})})}}}]);b.appModule.directive("mdGcdmFormAnalyticsErrors",["mdGcdmStepService",
"mdGcdmAnalyticsService",function(a,b){return{restrict:"A",require:"form",link:function(c,d,f,e){var g=e.$name,k="in-line validation";c.$watch("formSubmitting",function(b){b&&(k=a.activeStep===a.totalSteps?"form submit":"form next step",h.errors.setFormErrorOn(k))});c.$watch("gcdmErrorInfo",function(a){a=a.error;if(a&&"validationError"!==a.type){var c=a.type+"Form";h.errors.addError({formErrorType:a.type,formErrorCode:a.code,formErrorMessage:a.message},c);b.setCurrentFormError(c);h.errors.pushErrorsArray()}else(a=
h.errors.removeError(null,b.getCurrentFormError()))&&h.errors.pushErrorsArray()},!0);var l=c[g];c.$watch(function(){return c[g].$submitted},function(a){l.$error&&l.$error.required&&0<l.$error.required.length&&angular.forEach(l.$error.required,function(a){h.errors.addRequiredField(a.$name)})});angular.forEach(c[g],function(a,b){var d="";"$"!==b[0]&&(c.$evalAsync(function(){a&&a.$error&&a.$error.required&&h.errors.addRequiredField(a.$name)}),d=g+"."+b+".$viewValue",c.$watch(d,function(){h.errors.setFormErrorOn("in-line validation")},
!0))})}}}]);b.appModule.directive("mdGcdmFormAnalyticsAddPage",["$timeout",function(a){return{restrict:"A",link:function(b,c,d){var f={page:{pageInfo:{pageName:""}}};b.$watch(d.mdGcdmFormAnalyticsAddPage,function(b){b&&(f.page.pageInfo.pageName=d.mdGcdmFormAnalyticsPageTitle,a(function(){e.publish("md:form:gcdm:analytics:page:added",[{virtualPage:f,element:c}])}))})}}}]);b.appModule.directive("mdGcdmFormAnalyticsEvent",[function(){return{restrict:"A",link:function(a,b,c){var d={eventInfo:{}},f={};
b.bind("click",function(a){f.navigationItemWording="submit form";d.eventInfo.eventName=c.mdGcdmFormAnalyticsEventName||f.navigationItemWording;d.eventInfo.eventAction=f.navigationItemType=a.type||"";d.eventInfo.effect=c.mdGcdmFormAnalyticsEventEffect||"";e.publish("md:form:gcdm:analytics:event",[{eventObj:d,pageNavigationObj:f,immediatePush:"true"===c.mdGcdmFormAnalyticsImmediate}])})}}}]);b.appModule.directive("mdGcdmFormAnalyticsCaptcha",[function(){return{restrict:"A",link:function(a){a.$watch("gcdmIsShowCaptcha",
function(a){void 0!==a&&e.publish("md:form:gcdm:captcha:state",[{captchaShown:!0===a?!0:!1}])})}}}]);b.appModule.directive("mdGcdmRestrictChars",function(){return{restrict:"A",link:function(a,b){var c=e(b).find("textarea"),d=parseInt(c.attr("maxlength"),10);a.charsRemaining=d;c.bind("keyup keypress keydown change",function(){a.$apply(function(){a.charsRemaining=d-c.val().length})});a.$on("$destroy",function(){c.unbind("keyup keypress keydown change")})}}});b.appModule.directive("mdGcdmCaptchaReload",
["$window",function(a){return{restrict:"A",link:function(b,c){c.bind("click",function(){a.Recaptcha&&a.Recaptcha.reload()})}}}]);b.appModule.directive("mdGcdmCaptchaHelp",["$window",function(a){return{restrict:"A",link:function(b,c){c.bind("click",function(){a.Recaptcha&&a.Recaptcha.showhelp()})}}}]);b.appModule.directive("mdGcdmCaptchaSwitch",["$window",function(a){return{restrict:"A",link:function(b,c,d){var f=d.mdGcdmCaptchaSwitch;c.bind("click",function(){a.Recaptcha&&a.Recaptcha.switch_type(f)})}}}]);
b.appModule.directive("mdGcdmCheckboxRepaint",function(){return{restrict:"A",link:function(a,b){function c(){d.css("display","inline-block");d.height();d.css("display","")}var d=e(b);if(Modernizr.touch)d.find('[type\x3d"checkbox"]').on("change",c)}}});b.appModule.directive("gcdmFormOverlay",["mdGcdmRequestedVehicleService",function(a){return{restrict:"A",link:function(b,c,d){d=d.gcdmFormUrl;e(c).overlay({ajax:!0,source:d.replace(".html","")+"/_jcr_content/main.html?wcmmode\x3ddisabled",style:"steps",
veilZIndex:1030,titleFromContent:!0,titleSelector:".md-custom-overlay-header-title:first"});b.gcdmFormOpenOverlay=function(b){var c=a.getVehicle(),d=e.subscribe("md:formgcdm:loaded",function(){e.publish("md:formgcdm:gcdmRequest",[c]);e.unsubscribe(d)});e(b.target).data("overlay").toggleOverlay(b)}}}}]);b.appModule.directive("mdGcdmFormAnalyticsBrochureOutput",function(){return{restrict:"A",link:function(a){var b=0;a.$watch(function(){return a.brochures},function(c,d){d!==c&&(c={newValue:c,oldValue:d,
itemAdded:a.brochures.length>b,eventName:"md:formgcdm:analytics:basketUpdate",lastBrochureSelected:a.lastBrochureSelected},b=a.brochures.length,e.publish("md:formgcdm:analytics:basketUpdate",[c]))},!0);a.$on("md:formgcdm:brochure:full",function(b,c){e.publish("md:formgcdm:analytics:brochure:full",[{ngEventData:b,itemData:c,eventName:"md:formgcdm:analytics:brochure:full",lastBrochureSelected:a.lastBrochureSelected}])})}}});b.appModule.directive("mdGcdmFormAnalyticsBrochureViewAll",function(){return{restrict:"A",
link:function(a,b){a=e(b);var c=a.text().trim().toLocaleLowerCase();a.on("click",function(a){e.publish("md:formgcdm:analytics:brochure:view:all",[{originalEvent:a,eventName:"md:formgcdm:analytics:brochure:view:all",btnCta:c||" "}])})}}});b.appModule.directive("mdGcdmVehicleBrandSelectFilter",function(){return{restrict:"A",link:function(a,b,c){e(b);var d=c.mdGcdmVehicleBrandSelectFilter;void 0!=d&&null!=d&&(d=d.split(","),a.$watch(function(){return a.gcdmSelectValues.brands},function(b){if(void 0!==
b&&0!==b.length){for(var c=[],f=0;f<b.length;f++)for(var e=b[f],g=0;g<d.length;g++)if(d[g]===e.id){c.push(e);break}b.length!==c.length&&(a.gcdmSelectValues.brands=c)}}))}}});b.appModule.directive("mdGcdmCustomDate",["$rootScope",function(a){return{restrict:"A",require:"^form",template:function(a,b){a="md-form-gcdm-custom-"+b.dateFieldIndex;return'\x3cdiv class\x3d"md-gcdm-form-date-container" md-gcdm-form-date data-field\x3d"'+a+'"    date-i18n-day\x3d"'+b.dateI18nDay+'"    date-i18n-month\x3d"'+
b.dateI18nMonth+'"    date-i18n-year\x3d"'+b.dateI18nYear+"\"    ng-class\x3d\"{'md-form-gcdm-has-error': gcdmHasFieldError('"+a+'\')}"\x3e\x3c/div\x3e\x3cinput name\x3d"'+a+'" tabindex\x3d"-1" id\x3d"'+a+'" class\x3d"md-form-gcdm-hidden" ng-model\x3d"gcdmExtension.value" gcdm-custom-extension gcdm-custom-extension-key\x3d"'+b.dateFieldId+'"'+(void 0!==b.dateFieldRequired?' required\x3d"true"':"")+'"\x3e'}}}]);b.appModule.directive("mdGcdmFormDate",["$rootScope",function(a){return{restrict:"A",require:"^form",
template:'\x3cinput class\x3d"md-form-gcdm-input md-form-gcdm-small-date-input md-form-gcdm-day" maxlength\x3d"2" pattern\x3d"[0-9]{2}" placeholder\x3d"{{ date.day }}" /\x3e\x3cinput class\x3d"md-form-gcdm-input md-form-gcdm-small-date-input md-form-gcdm-month" maxlength\x3d"2" pattern\x3d"[0-9]{2}" placeholder\x3d"{{ date.month }}" /\x3e\x3cinput class\x3d"md-form-gcdm-input md-form-gcdm-large-date-input md-form-gcdm-year" maxlength\x3d"4" pattern\x3d"[0-9]{4}" placeholder\x3d"{{ date.year }}" /\x3e',
link:function(b,c,d,f){function g(a,b){if(a){var c=0;for(b-=a.length;c<b;c++)a="0"+a}return a}var h=e(c),k=h.find(".md-form-gcdm-day"),l=h.find(".md-form-gcdm-month"),m=h.find(".md-form-gcdm-year");c=k.add(l).add(m);var n=h.attr("data-field"),q=1===h.closest("fieldset").find('[gcdm-error-type\x3d"format"]').length;h=void 0;n&&(k.attr("name",n+"Day"),l.attr("name",n+"Month"),m.attr("name",n+"Year"),"birthday"==n&&(h="gcdmFormModel.businessPartner.birthday"));h&&b.$watch(h,function(b){b&&(a.setDate=
new Date(b),b=a.setDate,k.val()||k.val(b.getDate()),l.val()||l.val(b.getMonth()+1),m.val()||m.val(b.getFullYear()))});c.on("blur",function(){var a=m.val();a=g(a,4);var c=g(l.val(),2),d=g(k.val(),2);a=a&&c&&d?a+"-"+c+"-"+d:"";d=e("#"+n);d.val(a).trigger("change");c="birthday"==n;var h=d[0];d=f[h.name];d.$setValidity("required",!0);d.$setValidity("format",!0);if(h.required&&""===a)d.$dirty=!0,d.$setValidity("required",!1);else if(q&&""!==a&&!a.match(/^\d{4}-\d{1,2}-\d{1,2}$/)&&(d.$dirty=!0,d.$setValidity("format",
!1)),""!==a){h=new Date;var r=a.split("-");if(r[0]>=h.getUTCFullYear()||12<r[1]||31<r[2])d.$dirty=!0,d.$setValidity("format",!1)}b.gcdmFormModel.businessPartner.birthday!=a&&c&&(b.gcdmFormModel.businessPartner.birthday=a);b.$apply()});b.date={day:d.dateI18nDay,month:d.dateI18nMonth,year:d.dateI18nYear}}}}]);b.appModule.directive("mdGcdmLoginDeferred",["$timeout","$controller","$rootScope","GcdmCredentials",function(a,b,c,d){return{restrict:"A",link:function(f,g,h){var k,l,m=e(g).parents("#login_form"),
n,q=!!e(g).parents(".md-form-gcdm-mymini").length&&!!e(g).parents(".md-custom-overlay-main").find(".md-form-gcdm-offer").length,r=function(){var a,g,k;var m=angular.element(l).injector().get("GcdmLoginService");m.policyId="MINI.digital-register";m.loginImplicit().then(function(){a=b("GcdmBaseFormController",{$scope:f,GcdmCredentials:d,$attrs:h});f.gcdmResetFormModel();g=n.$watch("gcdmFormModel.businessPartner.givenName",function(){f.gcdmFormModel=angular.copy(n.gcdmFormModel);a.onSuccess();g()});
k=n.$watch("gcdmIsLoggedIn()",function(a){a&&(c.$broadcast("loginIdChange"),c.$broadcast("md:mymini:loggedin",a),e.publish("md:mymini:loggedin:change",[a]),k())})})};g.bind("click",function(){k=e("[name\x3dgcdmLoginIFrameForm]");l=k.eq(0);l.find("[name\x3dscope]").attr("value","remote_services vehicle_data authenticate_user smacc fupo");1<k.length&&q?m.length&&m.hasClass("ng-valid")&&(l=k.eq(0),l.attr("action",f.gcdmLoginAction),l.find("[name\x3dusername]").attr("value",f.gcdmFormModel.authentication.loginId),
l.find("[name\x3dpassword]").attr("value",f.gcdmFormModel.authentication.password),n=angular.element(l).scope(),f.gcdmFormModel&&f.gcdmFormModel.authentication&&f.gcdmFormModel.authentication.loginId&&f.gcdmFormModel.authentication.password&&n.gcdmFormModel&&(n.gcdmFormModel.authentication||(n.gcdmFormModel.authentication={}),n.gcdmFormModel.authentication.loginId=f.gcdmFormModel.authentication.loginId,n.gcdmFormModel.authentication.password=f.gcdmFormModel.authentication.password,r())):a(f.gcdmSubmit)})}}}]);
b.appModule.directive("mdGcdmDealerAddress",[function(){return{restrict:"A",link:function(a,b,c){function d(a){return e.map(a.match(/[^\{\}]+/g),function(a){return e.trim(a)})}a.$watch("gcdmDealerData.name",function(){if(a.gcdmDealerData&&a.gcdmDealerData.name){var f={street:a.gcdmDealerData.street,city:a.gcdmDealerData.city,country:c.country,state:a.gcdmDealerData.state,postalCode:a.gcdmDealerData.postalCode},g=d(c.addressSequence),h="";e(g).each(function(a,b){"br"===b?h+="\x3cbr/\x3e":"space"===
b?h+=" ":f[b]&&(h+='\x3cspan data-field\x3d"'+b+'"\x3e'+f[b]+"\x3c/span\x3e")});g=b.children();0<g.length&&g.remove();b.append(h)}})}}}]);b.appModule.directive("mdGcdmFieldsMandatory",[function(){return{restrict:"A",link:function(a,b,c){c.mdGcdmFieldsMandatory&&(a.mandatoryFields=c.mdGcdmFieldsMandatory.split(","))}}}]);b.appModule.directive("mdAddFieldsMandatory",["$compile",function(a){return{restrict:"A",link:function(b,c,d){b.mandatoryFields||(b.mandatoryFields=d.mdAddFieldsMandatory.split(","));
if(b.mandatoryFields)for(d=0;d<b.mandatoryFields.length;d++)c.attr("id")===b.mandatoryFields[d]&&(c.attr("required",!0),a(c[0])(b))}}}]);b.appModule.directive("mcGcdmAddressFloorId",[function(){return{restrict:"A",require:"^gcdmAddressContainer",replace:!0,template:'\x3cinput ng-model\x3d"gcdmAddress.floorID" ng-blur\x3d"gcdmValidateAddress()" gcdm-apply-value autocomplete\x3d"off"\x3e'}}]);b.appModule.directive("mdAccessoryComponentInit",["$timeout",function(a){return{restrict:"A",scope:!0,link:function(b,
c){a(function(){mini.digital.comp.accessory.init(c)})}}}]);b.appModule.directive("mcGcdmProfilePersonalIdentificationType",["GcdmMetadataApiService","GcdmElementUtilService","GcdmStorageService",function(a,b,c){return{restrict:"A",require:"^form",replace:!0,template:'\x3cselect ng-model\x3d"gcdmType" ng-change\x3d"gcdmInitPersonalIdentification()" ng-options\x3d"key as value for (key, value) in gcdmSelectValues.personalIdentificationTypes" gcdm-apply-value gcdm-validation gcdm-validation-identifier\x3d"gcdm_type" gcdm-model-check\x3e\x3coption value\x3d"""\x3e{{psText}}\x3c/select\x3e',
link:function(d,f,e,g){d.isLoggedIn&&((f=c.get(window.gcdm.STORAGE_KEY.BUSINESS_PARTNER))||(f=c.get(window.gcdm.STORAGE_KEY.BUSINESS_PARTNER_LOGGED_IN)),f&&f.profile&&f.profile.personalIdentifications&&0<f.profile.personalIdentifications.length&&(d.gcdmFormModel.profile.personalIdentifications=f.profile.personalIdentifications,d.gcdmType=f.profile.personalIdentifications[0].type));d.gcdmInitPersonalIdentification=function(){g.gcdmInitPersonalIdentification(d.gcdmType)};b.appendPsTextToSelection(d,
e);d.gcdmSelectValues=a.getValuelists().selectValues.profile}}}]);b.appModule.directive("mcGcdmProfilePersonalIdentificationExposeInit",["GcdmStorageService",function(a){return{restrict:"A",require:"^form",link:function(b,c,d,f){if(b.isLoggedIn){var g=a.get(window.gcdm.STORAGE_KEY.BUSINESS_PARTNER);g||(g=a.get(window.gcdm.STORAGE_KEY.BUSINESS_PARTNER_LOGGED_IN));g&&g.profile&&g.profile.personalIdentifications&&0<g.profile.personalIdentifications.length&&(b.gcdmFormModel.profile.personalIdentifications=
g.profile.personalIdentifications,b.gcdmPersonalIdentification&&(b.gcdmPersonalIdentification.id=g.profile.personalIdentifications[0].id,b.gcdmPersonalIdentification.type=g.profile.personalIdentifications[0].type),b.gcdmType=g.profile.personalIdentifications[0].type)}f.gcdmInitPersonalIdentification=function(a){b.gcdmType=a;var c=[];b.isLoggedIn&&g.profile.personalIdentifications&&0<g.profile.personalIdentifications.length&&g.profile.personalIdentifications[0].type==b.gcdmType&&(b.gcdmFormModel.profile.personalIdentifications=
g.profile.personalIdentifications);e.each(b.gcdmFormModel.profile.personalIdentifications,function(a,d){d.type===b.gcdmType&&c.push(d)});b.gcdmFormModel.profile.personalIdentifications=c;b.gcdmInitPersonalIdentification()}}}}]);b.appModule.directive("mdGcdmDealerDirectSelect",["$compile",function(a){return{restrict:"A",link:function(b,c,d){var f=n.stockLocator.getDealerIdFromLocalStorage();f||(f=d.mdDistributionPartnerId);void 0!==f&&""!==f&&(b.dealerDirectSelectDealerId=f,c.html(void 0===f?"":'\x3cdiv distribution-partner-id\x3d"'+
f+'"\x3e\x3c/div\x3e'),a(c.contents())(b),e.publish("md:directDealer:init"))}}}]);b.appModule.directive("mdShowAccessoryDescriptionHtml",[function(){return{restrict:"A",link:function(a,b,c){b.append(a.accessory.description)}}}]);b.appModule.directive("mdDloShow",[function(){return{restrict:"A",link:function(a,b,c){var d=b.css("position");a.$watch(c.mdDloShow,function(f){console.log("mdDloShow",c.mdDloShow,f,a);f?(b.css("visibility","visible"),b.css("position",d)):(b.css("visibility","hidden"),b.css("position",
"absolute"))})}}}]);b.appModule.directive("mdAutoFocus",["$timeout",function(a){return{restrict:"A",link:function(b,c,d){a(function(){c[0].focus()})}}}]);b.appModule.directive("mdGcdmExperianAddressValidation",["MdAddressValidationService",function(a){function b(a,b){b=b.components;a.buildingID=f(b,"organisation",20);var e=c(b,"building");var g=c(b,"subBuilding");e=e.concat(g);e=d(e,40);a.strSuppl1=e;a.street=f(b,"street",60);a.houseNumber=f(b,"streetNumber",10);a.postalCode=f(b,"postalCode",10);
a.city=f(b,"locality",40);a.regionCode=f(b,"country",60)}function c(a,b){var c=[];b=new RegExp(b+"\\d+");for(var d=0;d<a.length;d++){var f=a[d],e=Object.keys(f)[0];b.test(e)&&c.push(f[e])}return c}function d(a,b){for(var c="",d="",f=0;f<a.length;f++){d+=a[f].trim();if(c.length+d.length>b)break;c+=d;d=" "}return""!==c?c:null}function f(a,b,f){a=c(a,b);return d(a,f)}return{restrict:"A",link:function(c,d,f){c.showValidationMessageForExperianAddress=function(){return c.gcdmFormSubmitted&&!(c.gcdmFormModel.businessPartner&&
c.gcdmFormModel.businessPartner.addresses&&0<c.gcdmFormModel.businessPartner.addresses.length&&c.gcdmFormModel.businessPartner.addresses[0]&&c.gcdmFormModel.businessPartner.addresses[0].street)};var e=a.getEndpoint();f=new mini.digital.util.experian.address({token:e.token,endpoint:e.url,placeholderText:f.mdGcdmExperianAddressValidation,elements:{input:d[0],countryList:{value:e.country}},maxSize:100});f.events.on("post-formatting-search",function(a){c.experianSelectedAddress=a;c.$apply(b(c.gcdmFormModel.businessPartner.addresses[0],
a));d.attr("data-md-tracking-field-status","true")});f.events.on("pre-search",function(a){delete c.experianSelectedAddress});d[0].name="address-validation"}}}]);b.appModule.directive("mdExpandText",function(){return{restrict:"A",link:function(a,b,c){var d="\x3cdiv class\x3d'read-more-text read-more-pointer'\x3e\x3cbutton class\x3d'md-read-more-icon-plus'\x3e\x3c/button\x3e\x3cspan\x3e"+c.mdExpandText+"\x3c/span\x3e\x3c/div\x3e",f=!1;a.$watch(function(){return b.context.innerHTML.length},function(a,
c){f||(a=b.find(".read-more"),0<a.length||(a=b.find(".read-more-pointer"),0<a.length&&!a.context.classList.contains("read-more")&&(e(a[0]).addClass("read-more"),b.attr("data-hide-text","true"),0==b.find(".read-more-text").length&&b.append(d))))});b.on("click",function(a){var c=e(a.target);c&&c.context&&(c.context.classList.contains("read-more-pointer")||c.context.parentElement.classList.contains("read-more-pointer"))&&"A"!==a.target.nodeName&&(a.stopPropagation(),a.preventDefault(),f=!0,a=b.find(".read-more-pointer"),
c=b.find(".read-more-text"),0<a.length&&("true"===b.attr("data-hide-text")?(e(a[0]).removeClass("read-more"),c.css({display:"none"}),b.attr("data-hide-text","false")):(e(a[0]).addClass("read-more"),c.css({display:""}),b.attr("data-hide-text","true"))))})}}});b.appModule.directive("mdGcdmContactPolicy",["GcdmPolicyManagementApi","GcdmLoginStatusService","GcdmPolicyConfirmationApi","$compile","$log","GcdmStorageService",function(a,b,c,d,f,e){return{restrict:"E",controller:"mdContactPolicyController",
link:function(g,h,k){var l="no",m=!0,n=void 0,q=void 0;if(angular.isDefined(k.policyDocumentId))if(angular.isDefined(k.country)){angular.isDefined(k.checkConsent)&&(l=k.checkConsent);angular.isDefined(k.showMarketingPolicy)&&(m=!1);angular.isDefined(k.submode)&&(n=k.submode);angular.isDefined(k.linkTextSubmode)&&(q=k.linkTextSubmode);var r=function(b,c,f,e,h){if(b.textBlocks)for(var l=0;l<b.textBlocks.length;l++)if(b.textBlocks[l].brand&&k.brand.toLowerCase()===b.textBlocks[l].brand.name.toLowerCase()){var m=
k.brand;console.log("This is a brand policy!")}a.addUsageDefinitionsToModel(g,b,k.touchpointId,f,m);b=g.getPolicyTemplate(b,c,f,e,h,m,n,q);return d(b)(g)},t=function(a,d){var f=[],g=null;angular.isDefined(k.valuePropositions)&&(f=JSON.parse("["+k.valuePropositions+"]"));angular.isDefined(k.positionPreferredCommunication)&&(g={display:"true"==k.positionPreferredCommunication?!0:!1,afterUsage:k.usagePreferredCommunication,html:'\x3cdiv class\x3d"md-gcdm-preferred-channel"\x3e\x3cfieldset class\x3d"md-form-gcdm-item"\x3e\x3clabel class\x3d"md-form-gcdm-label" for\x3d"preferredCommunication" \x3e'+
k.preferredCommunicationLabel+'\x3c/label\x3e\x3cdiv class\x3d"md-form-gcdm-select"\x3e\x3cspan id\x3d"preferredCommunication" name\x3d"preferredCommunication" gcdm-profile-communication-type-preferred\x3e\x3c/span\x3e\x3c/div\x3e \x3cspan class\x3d"md-form-gcdm-error" gcdm-validation-error-message md-gcdm-validation-error-message gcdm-for\x3d"preferredCommunication" gcdm-error-type\x3d"required"\x3e'+k.generalError+"\x3c/span\x3e \x3c/fieldset\x3e\x3c/div\x3e"});if(b.getUserData().loggedIn&&m&&"update"!==
d)c.checkPolicyConfirmation(a.name,e.get(window.gcdm.STORAGE_KEY.ACCESS_TOKEN),a.country,!0).then(function(a){a.isMarketingPolicy?h.replaceWith("\x3cspan id\x3d'donothing'/\x3e"):(l=r(a.checkedPolicyDocument,v,k.language,f,g),h.replaceWith(l))},function(){l=r(a,v,k.language,f,g);h.replaceWith(l)});else if(b.getUserData().loggedIn&&"update"===d)c.checkConsents(a.name,e.get(window.gcdm.STORAGE_KEY.ACCESS_TOKEN),a.country).then(function(a){a&&(l=r(a,v,k.language,f,g),h.replaceWith(l))},function(){l=
r(a,v,k.language,f,g);h.replaceWith(l)});else{var l=r(a,v,k.language,f,g);h.replaceWith(l)}},v="combined";k.mode&&(v=k.mode);g.$parent.policyDocuments[k.policyDocumentId+"_"+k.country]?(f.info("Initialized Policy for confirmation dialog by event for policy: "+g.$parent.policyDocuments[k.policyDocumentId+"_"+k.country].name),t(g.$parent.policyDocuments[k.policyDocumentId+"_"+k.country])):(f.info("Open policy document : "+k.policyDocumentId+" Country : "+k.country),a.getPolicyDocument(k.policyDocumentId,
k.country).then(function(b){200===b.status?b.data?t(b.data,l):a.createErrorMessage(g,b.status,"Can't load policy document"):a.createErrorMessage(g,b.status,"Can't load policy document")},function(b){f.error(b);a.createErrorMessage(g,"unreachable","Can't load policy document")}))}else f.error("Country is missing on directive gcdmContactPolicy");else f.error("policyDocumentId is missing on directive gcdmContactPolicy")}}}]);b.appModule.directive("mdFormStyle",["inShelf",function(a){return{restrict:"A",
link:function(b,c,d){a&&!0===a.inShelf||c.addClass("md-form-gcdm-white-components")}}}]);b.appModule.directive("mdPasswordCheck",["$compile",function(a){return{restrict:"A",link:function(b,c,d){d=c.closest(".md-form-gcdm");var f=d.attr("data-show-password-msg"),e=d.attr("data-hide-password-msg"),g=!1,h=angular.element('\x3cdiv class\x3d"md-icon md-icn-preview md-password-check" title\x3d"'+f+'"\x3e\x3c/div\x3e');h.insertAfter(c);a(h)(b);c.css("padding-right","40px");h.on("click",function(){g=!g;if(g){var a=
"md-icn-preview";var b="md-icn-preview-off";var d=e}else a="md-icn-preview-off",b="md-icn-preview",d=f;h.removeClass(a);h.addClass(b);h.attr("title",d);c.attr("type",g?"text":"password")})}}}]);b.appModule.directive("mdAddressStatusBusiness",function(){return{restrict:"A",link:function(a,b,c){a.gcdmAddress.addressStatus="BUSINESS"}}});b.appModule.directive("mdDecodeCommentParameter",["$location",function(a){return{restrict:"A",link:function(a,b,c){b="pfc".replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");
b=(new RegExp("[\\?\x26]"+b+"\x3d([^\x26#]*)")).exec(location.search);(b=null===b?"":decodeURIComponent(b[1].replace(/\+/g," ")))&&!a.gcdmFormModel.comment&&(a.gcdmFormModel.comment=atob(b))}}}])}}}(mini.digital.comp.gcdm,mini.digital.$,window.moment,mini.digital.util.matchmedia,mini.digital.util.transitionEndEvent,mini.digital.util.browser,mini.digital.util.scrollbarsize,mini.digital.util.finance,mini.digital.tracking.formgcdm,mini.digital.util,mini.digital.util.experian);
mini.digital.comp.gcdm.services=function(b,e,k){return{init:function(g){b.appModule.service("mdGcdmRequestedVehicleService",["$rootScope",function(b){function a(a){if(a.startsWith("srcset")&&0<a.indexOf("pre")){var b="";a=a.split(",");for(var c=0,d="",f=0;f<a.length;f++)if(a[f].startsWith("srcset"))b=a[f].replace("srcset:","").replace(" ","").replace("pre","");else{var e=a[f].split(" ");if(1<e.length){var g=new Number(e[1]);g>c&&(c=g,d=e[0])}}return b+d}if(a.startsWith("srcset")&&0>a.indexOf("pre")){a=
a.split(",");c=-1;if(0<a.length)for(d=0;d<a.length;d++)f=a[d].split(" "),1<f.length&&(e=new Number(f[1]),c<e&&(c=e,-1<f[0].indexOf("srcset")&&(f[0]=f[0].replace("srcset","")),b=f[0]));return b}return a}var c={},f=null,e=!1;b.$on("md:formgcdm:gcdmRequest",function(a,b,d){a=(a=c=angular.copy(b))||{};a.requestVehicle=!0;angular.isObject(a.modelCode)&&(a.modelBaseCode=a.modelCode.originalValue,a.modelCode=a.modelCode.value);c=a;c.vehicleName&&0!=c.vehicleName.length||(c.vehicleName=c.modelName);"tda"!==
d&&"tdavariant2"!==d||!e||(c.vehicleName=c.rangeNameLong);"rfo"===d&&b.isOpenArea&&(c.source="openArea",c.vin=b.vin?b.vin:void 0);f=d});this.getVehicle=function(){return c};this.getFormattedVehicle=function(){var b={},d=[{prop:"modelPrice",val:"modelGross"},{prop:"modelPrice",val:"modelGross"},{prop:"totalEquipmentPrice",val:"featuresGross"},{prop:"totalPrice",val:"totalGross"},{prop:"totalPrice",val:"grossPrice"}],f=[{prop:"modelPrice",val:"modelNet"},{prop:"modelPrice",val:"modelNet"},{prop:"totalEquipmentPrice",
val:"featuresNet"},{prop:"totalPrice",val:"totalNet"},{prop:"totalPrice",val:"netPrice"}],e=[{prop:"requestVehicle",val:"requestVehicle"},{prop:"bodyCode",val:"modelRangeCode"},{prop:"bodyName",val:"rangeName"},{prop:"modelCode",val:"modelCode"},{prop:"modelName",val:"vehicleName"},{prop:"configId",val:"configUrl"},{prop:"configUrl",val:"shareConfigUrl"}],g=[{prop:"requestVehicle",val:"requestVehicle"},{prop:"bodyCode",val:"modelRange"},{prop:"modelBaseCode",val:"agModelCode"},{prop:"modelCode",val:"modelCode"},
{prop:"modelName",val:"modelName"},{prop:"configId",val:"configId"},{prop:"configUrl",val:"configUrl"},{prop:"vin",val:"vin"}],h=[{prop:"requestVehicle",val:"requestVehicle"},{prop:"bodyCode",val:"modelRange"},{prop:"modelBaseCode",val:"agCode"},{prop:"modelCode",val:"vgCode"},{prop:"modelCode",val:"modelCode"},{prop:"modelName",val:"vehicleName"},{prop:"vin",val:"vin"}],k=[{prop:"requestVehicle",val:"requestVehicle"},{prop:"bodyCode",val:"modelRange"},{prop:"modelBaseCode",val:"agCode"},{prop:"modelCode",
val:"vgCode"},{prop:"modelCode",val:"modelCode"},{prop:"modelName",val:"vehicleName"},{prop:"configId",val:"configUrl"},{prop:"configUrl",val:"shareConfigUrl"}];c.source&&"standardselector"===c.source?k=e:c.source&&"openArea"===c.source?k=g:c.source&&"stockLocator"===c.source&&(k=h);k=this.isTopDrive()?k.concat(f):k.concat(d);angular.forEach(k,function(a){void 0!==c[a.val]&&(b[a.prop]=c[a.val])});c.featureDetails&&(b.optionalEquipments={optionalEquipments:[]},angular.forEach(c.featureDetails,function(a){b.optionalEquipments.optionalEquipments.push({code:a.featureKey.typeAndCode,
name:a.name,price:a.price.netPrice,displayFlag:"IN_MARKET_VISIBLE"===a.displayType?!0:!1,standard:a.standard})}));if(c&&c.cosyImageInfos&&0<c.cosyImageInfos.length)for(d=0;d<c.cosyImageInfos.length;d++)if((f=c.cosyImageInfos[d])&&f.urlString&&0<f.urlString.length){b.cosyData={cosyImageUrl:a(f.urlString)};break}return b};this.isTopDrive=function(){var a=!1;if("offer"===this.getFormType()||"offerforbusiness"===this.getFormType())a=/\/de_DE\//.test(window.location.pathname);return a};this.getFormType=
function(){return f};this.setVehicleField=function(a,b){"string"===typeof a&&(c[a]=b)};this.setReplaceModelNameWithRangeName=function(a){e=a}}]);b.appModule.service("mdGcdmRequestedAccessoryService",["$rootScope","$q",function(b,a){var c=a.defer();this.requestedAccessory=c.promise;b.$on("md:formgcdm:gcdmAccessoryRequest",function(a,b){c.resolve([b])})}]);b.appModule.service("mdGcdmCookieService",["$rootScope",function(b){this.areBrowserCookiesEnabled=function(){return e.api.areBrowserCookiesEnabled()};
this.isRegulationAccepted=function(){return!0===e.api.isRegulationAccepted()}}]);b.appModule.service("mdGcdmExternalBrochureService",["$http","$rootScope",function(b,a){var c=g.data("formgcdm-resource-path"),f=[];b({method:"GET",url:"/bin/public/mini/brochure?resourcePath\x3d"+c}).success(function(b){b&&"success"===b.status&&b.brochureObjects.length&&(f=b.brochureObjects,a.$broadcast("md:formgcdm:brochure:external"))});this.markExternalBrochure=function(a){!angular.isObject(a)||"download"!=a.requestType&&
"DOWNLOAD"!==a.informationType||f.some(function(b){if(b.id===a.informationMaterialCode)return a.isExternal=!0,a.externalUrl=b.url,!0});return a};this.getExternalBrochureData=function(a){if(angular.isObject(a)&&"DOWNLOAD"===a.informationType&&f)for(var b=0;b<f.length;b++){var c=f[b];if(c.id===a.informationMaterialCode){var d=c;break}}return d}}]);b.appModule.service("mdCustomDropdownService",["$http","$rootScope","mdGcdmBrochureService",function(b,a,d){var c=g.data("formgcdm-resource-path");b({method:"GET",
url:"/bin/public/mini/informationmaterial?resourcePath\x3d"+c}).success(function(b){b&&(d.gcdmBrochures=b.informationMaterialEntries.informationMaterialEntries,a.$emit("md:formgcdm:rfi:loaded","md:formgcdm:rfi:loaded"))})}]);b.appModule.service("mdGcdmBrochureService",["$rootScope","mdGcdmExternalBrochureService",function(b,a){var c=this,f=b.$on("md:formgcdm:brochure:external",function(){angular.forEach(c.selectedBrochures,function(b,d){c.selectedBrochures[d]=a.markExternalBrochure(b)});f()});c.selectedBrochuresLimit=
1;c.selectedBrochures=[];c.conflictedBrochures=[];c.gcdmBrochures=[];c.gcdmBrochuresGrouped={};c.requestType="post";c.pendingRequestType="";c.getGcdmRequestType=function(){if("post"===c.requestType)return"BROCHURE";if("download"===c.requestType)return"DOWNLOAD"};c.updateGcdmFromModel=function(b){b.information=[];for(var d=0;d<c.selectedBrochures.length;d++){var f=c.selectedBrochures[d],e=a.getExternalBrochureData(f);var g=0<$("form[data-additional-brochurename-and-brand]").length?{id:f.informationMaterialCode,
type:f.informationType,name:f.label}:{id:f.informationMaterialCode,type:f.informationType};var h=[];f.label&&h.push({key:"DESCRIPTION",value:f.label});angular.isObject(f)&&"DOWNLOAD"===f.informationType&&(f=f.urlLinkBrochure,e&&e.url&&(f=e.url),f&&(g.urlLinkBrochure=f,h.push({key:"URL_LINK_BROCHURE",value:f})));0<h.length&&(g.customExtension={parameters:h});b.information.push(g)}};c.getRangeFromBrochure=function(a){var b;var d=0;for(b=c.gcdmBrochures.length;d<b;d++)if(c.gcdmBrochures[d].informationMaterialCode===
a)return c.gcdmBrochures[d].productConstructionSeries};c.getBrochureIdFromModelRange=function(a,b){var d;var f=0;for(d=c.gcdmBrochures.length;f<d;f++)if(c.gcdmBrochures[f].productConstructionSeries===a&&(b?"DOWNLOAD"===c.gcdmBrochures[f].informationType:"BROCHURE"===c.gcdmBrochures[f].informationType))return c.gcdmBrochures[f].informationMaterialCode;return null};c.setSelectedBrochuresLimit=function(a){c.selectedBrochuresLimit=a};c.toggleRequestType=function(){c.requestType=c.pendingRequestType?c.pendingRequestType:
c.requestType;c.resetPendingRequestType()};c.resetPendingRequestType=function(){c.pendingRequestType=""};c.isBasketFull=function(a){return c.selectedBrochures.length>=(a?3:1)};c.addSelectedBrochure=function(d,f){c.isBasketFull(f)?(d.currentBrochureLimit=c.selectedBrochuresLimit,b.$broadcast("md:formgcdm:brochure:full",d)):(d=a.markExternalBrochure(d),c.selectedBrochures.push(d),b.$broadcast("md:formgcdm:brochure:add",d))};c.addConflictedBrochure=function(a){c.conflictedBrochures.push(a)};c.removeSelectedBrochure=
function(a){angular.forEach(this.selectedBrochures,function(d,f){d.informationMaterialCode===a&&(c.selectedBrochures.splice(f,1),b.$broadcast("md:formgcdm:brochure:remove",d))})};c.resetSelectedBrochures=function(){c.selectedBrochures=[]};c.resetConflictedBrochures=function(){c.conflictedBrochures=[]};c.getSelectedBrochures=function(){return c.selectedBrochures};c.hasConflicts=function(a){var b=[],d="download"===a?/^DIG/:/^DLR/;if(!c.selectedBrochures.length)return!1;angular.forEach(c.selectedBrochures,
function(a){var f,e=a.productVgModelCode||a.productAgModelCode;b.push(a);a=0;for(f=c.gcdmBrochures.length;a<f;a++){var g=c.gcdmBrochures[a].productVgModelCode||c.gcdmBrochures[a].productAgModelCode;if(void 0!==g&&g===e&&d.test(c.gcdmBrochures[a].label)){b.pop();break}}});return b.length?(c.conflictedBrochures=b,!0):!1}}]);b.appModule.service("mdGcdmStepService",function(){var b=this;b.teardown=function(){b.activeStep=null;b.totalSteps=null;b.skipSteps={}};b.setTotalSteps=function(a){b.totalSteps=
a};b.setActiveStep=function(a){b.activeStep=a};b.isSkipStep=function(a){a=b.skipSteps[a];return void 0!==a&&a};b.setSkipStep=function(a){b.isSkipStep(a)||--b.totalSteps;b.skipSteps[a]=!0};b.removeSkipStep=function(a){b.isSkipStep(a)&&(b.totalSteps+=1);b.skipSteps[a]=!1};b.teardown()});b.appModule.service("mdGcdmTdaSummaryService",function(){this.summaryData={};this.setSummaryData=function(b){angular.extend(this.summaryData,b)}});b.appModule.service("mdGcdmRfoSummaryService",function(){this.summaryData=
{};this.setSummaryData=function(b){angular.extend(this.summaryData,b)}});b.appModule.service("mdGcdmFinanceService",function(){var b=this;b.isSFLoaded=!1;b.financeApi=k.getFinanceApp();b.financeInterestViewport;b.financeApi.isLoaded||k.init();this.loadFinanceInterest=function(){!b.isSFLoaded&&b.financeApi.isLoaded&&b.financeApi.bmwNameSpace.apps.html5&&(b.financeInterestViewport=new b.financeApi.bmwNameSpace.apps.html5.FinanceInterestViewport(b.financeApi.SF,"financeInterestViewport"),b.financeInterestViewport.start(),
b.isSFLoaded=!0)};this.isFinanceInterests=function(){if(this.financeInterestViewport){var a=b.financeApi.SF.financeInterests;a&&(b.existsFinanceInterests=0<a.length)}return this.existsFinanceInterests}});b.appModule.service("mdGcdmAnalyticsService",function(){var b=!1,a="";this.setErrorsPushed=function(a){b=a};this.setCurrentFormError=function(b){a=b};this.getErrorsPushed=function(){return b};this.getCurrentFormError=function(){return a}});b.appModule.service("MdGcdmDealerLocatorService",["GcdmDealerLocatorService",
"MdC2bLocalSearchService",function(b,a){function c(a){var b=a.distributionPartnerId;void 0===b&&void 0!==a.attributes&&(b=a.attributes.distributionPartnerId);return b}function f(a){var b=a.outletId;void 0===b&&void 0!==a.attributes&&(b=a.attributes.outletId);return b}function e(a,b){var c=new window.gcdm.models.DealerWithAddress;c.brand=b.brand;c.city=a.city;c.country=a.country;c.name=a.name;c.postalCode=a.postalCode;c.street=a.street;a.attributes&&(c.homepage=a.attributes.homepage);return c}function g(a,
b,c,d){var f=e(a,b);f.distributionPartnerId=c;f.outletId=d;b.dealer=f;c=[];a.name&&c.push({key:"DEALER_NAME",value:a.name});a.postalCode&&c.push({key:"DEALER_ADDRESS_POSTALCODE",value:a.postalCode});a.city&&c.push({key:"DEALER_ADDRESS_CITY",value:a.city});a.street&&c.push({key:"DEALER_ADDRESS_STREET",value:a.street});a.attributes&&(a.attributes.phone&&c.push({key:"DEALER_PHONE",value:a.attributes.phone}),a.attributes.mail&&c.push({key:"DEALER_EMAIL",value:a.attributes.mail}),a.attributes.homepage&&
c.push({key:"DEALER_HOMEPAGE",value:a.attributes.homepage}));0<c.length&&(b.dealer.customExtension={parameters:c});void 0!==a.attributes&&void 0!==a.attributes.rfSupportedEmail&&(a=a.attributes.rfSupportedEmail[b.useCase],void 0===b.contact&&(b.contact={}),a&&(b.contact.requestEmail=a))}this.setDealerData=function(d,h,k){if(k&&!d)delete h.dealer;else{var l=c(d),m=f(d);if(k)g(d,h,l,m);else{var n=e(d,h);n.key=d.key;n.lat=d.lat;n.lng=d.lng;n.dist=d.dist;n.attributes={};d.attributes&&d.attributes.rfSupportedEmail&&
d.attributes.rfSupportedEmail[h.useCase]&&(n.attributes.rfSupportedEmail=d.attributes.rfSupportedEmail[h.useCase],h.contact&&(h.contact.requestEmail=n.attributes.rfSupportedEmail));void 0!==l&&void 0!==m&&(n.attributes.distributionPartnerId=l,n.attributes.outletId=m);a.getC2bLocalSearch().then(function(){b.setDealerData(n);g(d,h,l,m)})}}};this.compareDealers=function(a,b){if(!a||!b)return!1;if(a.attributes&&b.attributes)return a.attributes.distributionPartnerId===b.attributes.distributionPartnerId&&
a.attributes.outletId===b.attributes.outletId}}]);b.appModule.service("MdAddressValidationService",function(){var b=g;b.hasClass("md-form-gcdm")||(b=b.find(".md-form-gcdm"));var a=b.data("md-experian-endpoint-url"),d=b.data("md-experian-endpoint-token"),f=b.data("md-experian-endpoint-country");this.getEndpoint=function(){return{url:a,token:d,country:f}}});b.appModule.service("casaProfileService",["MdCasaProfile",function(b){function a(a,b,c,d,f){var e=$.Deferred(),g={},h="";f&&(h=JSON.stringify(f));
c&&(g.Authorization="Bearer "+c);d&&(g=angular.extend(g,d));$.ajax({url:a,dataType:"json",method:b,contentType:"application/json",data:h,headers:g,timeout:3E4}).done(function(a){e.resolve(a)}).fail(function(a,b,c){e.reject(a,b)});return e}function c(){var a={};b.businessPartner&&b.userAccount&&(a={customer:{loginEmail:b.userAccount.mail,salutation:b.businessPartner.salutation,firstName:b.businessPartner.givenName,lastName:b.businessPartner.surname,language:b.businessPartner.correspondLanguageISO.toLowerCase(),
country:"",preferredCommunicationChannel:"EMAIL",accountType:"UNDEFINED"}},a.customer.country=b.businessPartner.addresses&&0<b.businessPartner.addresses.length?b.businessPartner.addresses[0].country:q);return a}function f(c,d){var f=m+"/api/me/profile/v2?brand\x3dMI",e=$.Deferred();a(f,"POST",c,null,d).then(function(a){a&&"OK"==a.status&&(b.casaProfile=a.customer);e.resolve(!0)},function(a,b){e.resolve(!1)});return e}var e=g,k=$(".md-mymini");e.hasClass("md-form-gcdm")||(e=e.find(".md-form-gcdm"));
var m=e.data("casa-endpoint-url"),q=k.data("mymini-country");k.data("mymini-lang");b.businessPartner=null;b.userAccount=null;b.casaProfile=null;this.existsProfile=function(c){var d=m+"/api/me/profile/v2?brand\x3dMI",e=$.Deferred();a(d,"GET",c).then(function(a){a&&a.customer?"HR"==a.customer.country||"BG"==a.customer.country||"CY"==a.customer.country?"en"!=a.customer.language&&(a.customer.language="en",f(c,a).then(function(a){b.casaProfile=a.customer;e.resolve(!0)},function(a,b){e.resolve(!0)})):(b.casaProfile=
a.customer,e.resolve(!0)):e.resolve(!1)},function(a,b){404==a.status&&e.resolve(!1);e.reject(!1)});return e};this.addProfile=function(a){var b=$.Deferred(),d={};d=c();f(a,d).then(function(a){b.resolve(!0)},function(a,c){b.resolve(!1)});return b};this.updateProfile=function(a,d){var e=$.Deferred(),g=c();g.customer.accountType="UNDEFINED";g.customer.preferredCommunicationChannel=d.preferredCommunicationChannel;b.casaProfile&&(g.customer.country=b.casaProfile.country);f(a,g).then(function(a){e.resolve(!0)},
function(a,b){e.reject(!1)});return e};return this}]);b.appModule.factory("MdCasaProfile",function(){var b={};b.casaProfile;b.businessPartner;b.userAccount;b.accessToken;return b});b.appModule.service("MdC2bLocalSearchService",["$q","$timeout","$window",function(b,a,d){this.getC2bLocalSearch=function(){function c(){void 0!==d.C2B&&void 0!==d.C2B.LocalSearch?e.resolve(d.C2B.LocalSearch):a(c,100)}var e=b.defer();c();return e.promise}}])}}}(mini.digital.comp.gcdm,mini.digital.util.cookiecontroller,mini.digital.util.finance);
mini.digital.comp.gcdm.modules=function(b,e){return{init:function(){angular.module("angularPikaday",[]);angular.module("angularPikaday").provider("pikaday",function(){var b={};this.$get=function(){return b};this.setConfig=function(e){b=e}});angular.module("angularPikaday").directive("pikaday",["pikaday","$timeout","$rootScope",function(k,g,c){return{restrict:"A",scope:{pikaday:"\x3d",onSelect:"\x26"},link:function(a,d,f){function h(){var a=b(w.el),c=a.find(".pika-lendar");a.css("max-height",c.outerHeight()+
"px").one(e,function(){a.addClass(l.DELAY_CLOSE)})}function n(a){var c=b(w.el);c.removeAttr("style");if(a)c.one(e,function(){c.removeClass(l.DELAY_CLOSE)});else c.removeClass(l.DELAY_CLOSE)}var m=b(d),q=m.siblings(".md-js-icn-calendar"),l={DELAY_CLOSE:"md-form-gcdm-datepicker-delay-close"},t=f.minDate?parseInt(f.minDate,10):void 0,r=f.maxDate?parseInt(f.maxDate,10):void 0,v="true"===f.mdDatepickerDisableSundays?function(a){return 0===a.getDay()}:void 0,w=new Pikaday({field:d[0],trigger:document.getElementById(f.triggerId),
bound:"false"!==f.bound,position:f.position||"",format:f.format||"ddd MMM D YYYY",defaultDate:new Date(f.defaultDate),setDefaultDate:"true"===f.setDefaultDate,disableWeekends:"true"===f.mdDatepickerDisableWeekends,disableDayFn:v,firstDay:f.firstDay?parseInt(f.firstDay,10):0,minDate:t?new Date((new Date).getTime()+864E5*t):void 0,maxDate:r?new Date((new Date).getTime()+864E5*r):void 0,yearRange:f.yearRange?JSON.parse(f.yearRange):10,isRTL:"true"===f.isRTL,i18n:k.i18n||{previousMonth:f.mdDatepickerPrevMonth,
nextMonth:f.mdDatepickerNextMonth,months:f.mdDatepickerMonths.split(","),weekdays:f.mdDatepickerDays.split(","),weekdaysShort:f.mdDatepickerDaysShort.split(",")},yearSuffix:f.yearSuffix||"",showMonthAfterYear:"true"===f.showMonthAfterYear,onSelect:function(){n(!0);if("onSelect"in f)a.onSelect({pikaday:this});g(function(){var b=c.$$phase;"$apply"!==b&&"$digest"!==b&&a.$apply()})}});a.pikaday=w;a.$on("$destroy",function(){b(w.el).off();m.off();q.off();w.destroy();w=null});m.on("focus",function(){h()});
if(q.length)q.on("click",function(){b(w.el).hasClass(l.DELAY_CLOSE)?n(!1):m.focus()});f.mdDatepickerAppendTo&&b(d).closest(f.mdDatepickerAppendTo).append(w.el)}}}])}}}(mini.digital.$,mini.digital.util.transitionEndEvent);
mini.digital.comp.gcdm.controllers.gcdm=function(b,e){return{init:function(k){b.appModule.controller("mdGcdmController",["$scope","GcdmEventHandlingService","mdGcdmStepService","GcdmLogoutService","$timeout","$rootScope","casaProfileService","MdCasaProfile","GcdmStorageService",function(g,c,a,d,f,h,n,m,q){function l(){var a=g.gcdmGetLoginId();0<a.length&&(!m.casaProfile||a!=m.casaProfile.loginEmail)&&m.businessPartner&&m.userAccount&&g.accessToken&&g.gcdmIsLoggedIn()&&!m.profileChecked&&(m.profileChecked=
!0,n.existsProfile(g.accessToken).then(function(a){a?(m.profileChecked=!0,g.mdProfileCasa=m.casaProfile,g.$apply()):n.addProfile(g.accessToken).then(function(a){a&&(m.profileChecked=!0,g.mdProfileCasa=m.casaProfile,g.$apply())})},function(){console.log("Not able to get the profile!")}))}function t(a){var b=!1;a&&(b=!isNaN(Number(a[1])));return b}function r(c,d){e.publish("md:formgcdm:gcdmSuccess",d);if("registration"==g.formgcdmType&&(c=document.referrer,0<window.location.search.indexOf("extReg\x3dtrue"))){window.location.replace(c);
return}"login"==g.formgcdmType&&"registration"==g.formgcdmType&&"profile"==g.formgcdmType&&"profilechange"==g.formgcdmType&&"deleteaccount"==g.formgcdmType&&"changepassword"==g.formgcdmType&&"loginidchange"==g.formgcdmType&&"setpassword"==g.formgcdmType&&"forgottenpassword"==g.formgcdmType||b.campaign.deleteCookie();g.mdGcdmSuccess=!0;g.hasRegisterFlow&&!v&&"md-login-form"!==d.id&&(g.mdShowRegistration?(g.mdShowRegistration=!1,g.mdShowRegistrationConfirm=!0,f(function(){mini.digital.util.lazyLoadImage.checkImages()})):
(g.mdShowRegistration=!0,g.mdShowRegistrationConfirm=!1));a.teardown()}var v=g.gcdmIsLoggedIn(),w="true"===k.attr("data-formgcdm-hasregister"),x=e(".md-mymini").attr("data-myvehicle-path");g.accessToken;g.isMyVehicleEnabled=x&&0<x.length?!0:!1;g.mdGcdmSuccess=!1;g.mdShowRegistration=!1;g.mdShowRegistrationConfirm=!1;g.mdGcdmShowPolicyConfirmation=!1;g.addressFieldsShow=!1;g.termsShow=!1;g.termsOverflow=!1;g.profileChecked=!1;g.isLoggedIn=v;g.hasRegisterFlow=w;g.mdBusinessPartner={};g.templateLocale=
k.data("formgcdm-template-locale");g.formgcdmType=k.data("formgcdm-type");g.campaignLeadContext=k.data("formgcdm-campaign-lead-context");g.campaignId=k.data("formgcdm-campaign-campaign-id");g.campaignLeadSource=k.data("formgcdm-campaign-lead-source");g.campaignTreatmentSource=k.data("formgcdm-campaign-treatment-source");g.campaignResponseType=e("form",k).attr("gcdm-response-type");g.formgcdmType||(g.formgcdmType=e(k).find("[data-component-name\x3d'formgcdm']").attr("data-formgcdm-type"));if(g.isLoggedIn&&
g.isMyVehicleEnabled){w=q.get(window.gcdm.STORAGE_KEY.BUSINESS_PARTNER);x=q.get(window.gcdm.STORAGE_KEY.ACCESS_TOKEN);var u=q.get(window.gcdm.STORAGE_KEY.USER_ACCOUNT);w||(w=q.get(window.gcdm.STORAGE_KEY.BUSINESS_PARTNER_LOGGED_IN));m.businessPartner=w;g.accessToken=x;m.accessToken=g.accessToken;m.userAccount=u;l()}g.getBrochureLabel=function(a){return"en_gb"===g.templateLocale?a.descriptionText:a.label};g.init=function(a){g.newsletterTemplateId=a};h.$on("PM2ready_GlobalPolicy",function(a,b){console.info("PM2 ready",
b)});g.dloPartnerIdSelector=function(){var a=window.location.pathname.match(/\.dloPartner_([^\.]+)\./);return t(a)?a[1]:null}();g.dloOutletIdSelector=function(){var a=window.location.pathname.match(/\.dloOutlet_([^\.]+)\./);return t(a)?a[1]:null}();g.dloSelector=!(!g.dloPartnerIdSelector||!g.dloOutletIdSelector);g.mdRedirectUrl=function(){var a=window.location.hash.match(/(#|&|\?|\/)returnURL=([^&]+)/),b=null,c=document.referrer;a&&c&&(b=c);return b}();g.hasSuccessRedirect=!!g.mdRedirectUrl;g.mdEnableRegFlow=
function(){g.hasRegisterFlow=!0};g.mdDisableRegFlow=function(){g.hasRegisterFlow=!1};g.mdCancelRegFlow=function(){g.mdGcdmSuccess=!0;g.mdShowRegistration=!1;e.publish("md:overlay:close")};g.addressFieldsToggle=function(){g.addressFieldsShow=g.addressFieldsShow?!1:!0};g.mdToggleTerms=function(a){a&&a.preventDefault();g.termsVisible=!g.termsVisible};g.mdLoginRedirectPath=function(a){if(a)return a.replace(/^(https?:\/\/[^\/]*)?/,window.location.origin)};g.mdSetBusinessPartner=function(a){g.mdBusinessPartner=
a;g.mdBusinessPartnerMail=void 0;a.communication&&a.communication.emails&&0<a.communication.emails.length&&(g.mdBusinessPartnerMail=a.communication.emails[0].value)};g.isMainFormActive=function(){var a=g.formgcdmType;"undefined"==typeof a&&(a=e('[data-component-name\x3d"formgcdm"]').data("formgcdm-type"));return g.mdGcdmShowPolicyConfirmation&&"registration"==a?!0:g.mdShowRegistration?!1:!g.mdGcdmSuccess||!g.hasConfirmation};g.$watch("gcdmShowPolicyConfirmation",function(a,b){g.gcdmShowPolicyConfirmation?
(g.mdGcdmShowPolicyConfirmation=!0,g.mdGcdmSuccessRestoreValue=angular.copy(g.mdGcdmSuccess),g.mdGcdmSuccess=!1):(g.mdGcdmShowPolicyConfirmation=!1,g.mdGcdmSuccessRestoreValue&&(g.mdGcdmSuccess=angular.copy(g.mdGcdmSuccessRestoreValue),g.mdGcdmSuccessRestoreValue=void 0))});g.mdGcdmClosePolicyConfirmation=function(){g.gcdmClosePolicyConfirmation();g.mdGcdmSuccess=!1;d.logoutAndRemovePrefill()};c.subscribe("sessionStorageChange",function(a,b){"login"!=g.formgcdmType&&"registration"!=g.formgcdmType||
!g.isMyVehicleEnabled||("businessPartnerLoggedIn"==b.key&&b.value&&(m.businessPartner=b.value.businessPartner),"businessPartner"==b.key&&b.value&&(m.businessPartner=b.value.businessPartner),"accessToken"==b.key&&b.value&&(g.accessToken=b.value,m.accessToken=g.accessToken),"userAccount"==b.key&&b.value&&(m.userAccount=b.value),l())});c.subscribe("success",r);g.mdConfirmRegFlow=function(){r(void 0,{id:"form"})}}])}}}(mini.digital.comp.gcdm,mini.digital.$);
mini.digital.comp.gcdm.controllers.contactPolicy=function(b,e,k){function g(c){return 0<c.parents(".md-custom-overlay").length||!k.isMobile?null:{veilHeight:void 0!==document.height?document.height:document.body.offsetHeight,customLayerPaddingTop:150,customLayerTop:b(window).scrollTop()}}return{init:function(c){var a=b(c);e.appModule.controller("mdContactPolicyController",["$scope","$rootScope","GcdmPolicyManagementApi",function(c,f,e){function d(a,b){for(var c,d=0;d<a.length;d++)if(a[d].policyId===
b){c=a[d];break}return c}function h(a,b,c,d,f,e){var g=b.usages.sort(function(a,b){return a.ordinalNumber-b.ordinalNumber}),h=b.id,k=b.textPrimary,l=b.textSecondary;b=b.legalEntities;for(var m="\x3cdiv id\x3dusages_"+h+' class\x3d"md-form-gcdm-policy-usages '+("displayUsages"===e?"gcdm-policy-display-all":"")+'" \x3e',n,q=0;q<g.length;q++)if("IMPLICIT"!==g[q].variant){if(n=c+"_"+g[q].usage.id,"singleUsage"===d||"combined"===d&&"displayUsages"===e&&1<g.length){var r=B(f,[g[q]]);"singleUsage"===d&&
(m+=w(r,"before"));n="input_"+n+"_"+(new Date).getTime();m+='\x3cdiv class\x3d"md-form-gcdm-checkbox"\x3e';m="MANDATORY"===g[q].variant?m+('\x3cinput id\x3d"'+n+'"type\x3d"checkbox" '+("combined"===d&&"displayUsages"===e?"ng-checked\x3d\"isChecked('"+a+"',"+h+", '"+g[q].usage.name+"')\"":"")+" ng-click\x3d\"doChangeUsage('"+a+"',"+h+",'"+g[q].usage.name+"')\" required /\x3e"):m+('\x3cinput id\x3d"'+n+'"type\x3d"checkbox" '+("combined"===d&&"displayUsages"===e?"ng-checked\x3d\"isChecked('"+a+"',"+
h+", '"+g[q].usage.name+"')\"":"")+" ng-click\x3d\"doChangeUsage('"+a+"',"+h+",'"+g[q].usage.name+"')\"/\x3e");m+='\x3clabel class\x3d"md-clickable" for\x3d"'+n+'"\x3e\x3c/label\x3e';var t=g[q].usage.name;g[q].usage.label&&(t=g[q].usage.label);k&&"singleUsage"===d&&(t=k);m+='\x3clabel class\x3d"md-form-checkable-label" for\x3d"'+n+'"\x3e'+t;l&&"singleUsage"===d&&(m+=y(l,n,b));m+="\x3c/label\x3e\x3c/div\x3e";"singleUsage"===d&&(m+=w(r,"after"))}}else return"";return m+"\x3c/div\x3e"}function k(a,b,
c,d,f,e,g,h,k,m){var n='\x3cdiv class\x3d"md-form-gcdm-policy-text-blocks"\x3e',q=B(e,[{usage:{name:"TEXT"}}]);n+=w(q,"before");for(var z=0;z<a.length;z++)if(!angular.isDefined(d)||d.toLowerCase()===a[z].language.toLowerCase()){if(h&&a[z].brand){if(h.toLowerCase()!==a[z].brand.name.toLowerCase())continue}else console.log("TextBlock does not support brand!");var A=b+"_"+a[z].id;n+='\x3cdiv class\x3d"md-form-gcdm-policy-text-block" id\x3d"TextBlock_'+A+'"\x3e';var y=a[z].usageText,C=[],D=[];y=y.sort(function(a,
b){return a.ordinalNumber>b.ordinalNumber?1:0});C=[];D=[];"combined"===c?(D=l(y),C=t(y)):(D=r(y),C=v(y));n+=x(D,A);n+=w(q,"after");y=a[z].usageDefinitions.sort(function(a,b){return a.ordinalNumber-b.ordinalNumber});n+=u(f,y,A,c,e,g,k,m);n+=x(C,A);n+="\x3c/div\x3e"}return n+"\x3cdiv\x3e"}function l(a){var b=[];0<a.length&&b.push({primaryText:a[0]});return b}function t(a){var b=[],c={primaryText:"",secondaryText:""};1<a.length&&(c.primaryText=a[1]);2<a.length&&(c.secondaryText=a[2]);b.push(c);return b}
function r(a){var b=[];0<a.length&&b.push({primaryText:a[0]});if(3<a.length){var c={};c.primaryText=a[3];4<a.length&&(c.secondaryText=a[4]);b.push(c)}return b}function v(a){var b=[];if(1<a.length){var c={};c.primaryText=a[1];2<a.length&&(c.secondaryText=a[2]);b.push(c)}return b}function w(a,b){var c="";if(null!=a&&0<a.length)for(var d=0;d<a.length;d++)a[d].position==b&&(c+=a[d].template);return c}function x(a,b){var c="";if(a){a=a.sort(function(a,b){return a.ordinalNumber-b.ordinalNumber});c='\x3cdiv class\x3d"md-form-gcdm-policy-usage-texts"\x3e';
for(var d="",f=0;f<a.length;f++){var e=a[f].primaryText,g=a[f].secondaryText;e&&(d=b+"_"+e.id,c+='\x3cdiv class\x3d"'+(0==f?"md-gcdm-policy-header":"")+' md-form-gcdm-policy-usage-text" id\x3d"usageText_'+d+'" \x3e',c+=e.value,g&&(c+=y(g.value,g.id)));c+="\x3c/div\x3e"}c+="\x3c/div\x3e"}return c}function u(a,b,c,d,f,e,g,k){for(var l='\x3cdiv class\x3d"md-form-gcdm-policy-usage-definitions"\x3e',m,n=0;n<b.length;n++){m=c+"_"+b[n].id;var q=B(f,b[n].usages);"combined"===d&&(l+=w(q,"before"));l+='\x3cdiv class\x3d"md-form-gcdm-policy-usage-definition" id\x3d"usageDefinition_'+
m+'"\x3e';for(var r=b[n].legalEntities,t='\x3cdiv class\x3d"md-form-gcdm-policy-legal-entities"\x3e',v,u=0;u<r.length;u++)v=m+"_"+r[u].id,t+='\x3cdiv class\x3d"md-form-gcdm-policy-legal-entity" id\x3d"legalEntity_'+v+'"\x3e',t+=r[u].name,t+="\x3c/div\x3e";l+=t+"\x3c/div\x3e";r=b[n].purposes;t='\x3cdiv class\x3d"md-form-gcdm-policy-purposes"\x3e';for(u=0;u<r.length;u++)v=m+"_"+r[u].id,t+='\x3cdiv class\x3d"md-form-gcdm-policy-purpose" id\x3d"purpose_'+v+'"\x3e',t+=r[u].name,t+="\x3c/div\x3e";l+=t+
"\x3c/div\x3e";r="usage_"+m+"_"+(new Date).getTime();"combined"===d&&(l+='\x3cdiv class\x3d"md-form-gcdm-checkbox" id\x3d"textPrimary_'+m+'"\x3e',"OPTIONAL"===b[n].usages[0].variant?l+='\x3cinput id\x3d"'+r+'" type\x3dcheckbox '+("combined"===d&&"displayUsages"===g?"ng-checked\x3d\"areAllChecked('"+a+"',"+b[n].id+')"':"")+"ng-click\x3d\"doChangeAllUsages('"+a+"',"+b[n].id+",'"+d+"','"+g+"')\"/\x3e":"MANDATORY"===b[n].usages[0].variant&&(l+='\x3cinput id\x3d"'+r+'" type\x3dcheckbox '+("combined"===
d&&"displayUsages"===g?"ng-checked\x3d\"areAllChecked('"+a+"',"+b[n].id+')"':"")+" ng-click\x3d\"doChangeAllUsages('"+a+"',"+b[n].id+",'"+d+"','"+g+"','"+b[n].usages[0].variant+'\')" name\x3d"help_'+r+'"  required/\x3e'),l+='\x3clabel class\x3d"md-clickable" for\x3d"'+r+'"\x3e\x3c/label\x3e',l+='\x3clabel class\x3d"md-form-checkable-label" for\x3d"'+r+'"\x3e'+b[n].textPrimary,"displayUsages"===g&&1<b[n].usages.length&&(l+='\x3cspan\x3e\x3ca class\x3d"gcdm-link-submode" data-usageid\x3d"'+m+'" ng-click\x3d"displayAllUsages($event)"\x3e'+
k+"\x3c/a\x3e\x3c/span\x3e"),l+=y(b[n].textSecondary,r,b[n].legalEntities),l+="\x3c/label\x3e",l+="\x3c/div\x3e");m=l+=h(a,b[n],m,d,f,g);l=e;r="";if(l&&l.display&&l.afterUsage){t=!1;v=b[n].usages;for(u=0;u<v.length;u++)if(-1<l.afterUsage.indexOf(v[u].usage.name)){t=!0;break}t&&(r+=l.html)}l=m+r;"combined"===d&&(l+=w(q,"after"));l+="\x3c/div\x3e"}return l+"\x3c/div\x3e"}function y(a,c,d){c="";if(a){var f="";if(d&&0<d.length){var e="md-policy-legal-entity";1<d.length&&(e="md-icn-plus "+e);for(var g=
'\x3cdiv class\x3d"md-policy-legal-entity-hide"\x3e',h=0;h<d.length;h++){var k=d[h].name;d[h].label&&(k=d[h].label);0===h&&(f+='\x3cdiv data-displayed\x3d"false" class\x3d"'+e+'"\x3e\x3cspan class\x3d"md-policy-legal-entity-display"\x3e'+k+"\x3c/span\x3e\x3c/div\x3e");0<h&&(g+=", "+k)}f='\x3cspan  class\x3d"md-policy-legal-entities"\x3e'+f+(g+"\x3c/div\x3e")+"\x3c/span\x3e"}c=c+('\x3cdiv class\x3d"md-display-info"\x3e'+a+"\x3c/div\x3e")+'\x3ca class\x3d"md-policy-info md-policy-icn md-policy-icn-info" ng-click\x3d"displayInfo($event)"\x3e\x3c/a\x3e';
a=b("\x3cdiv/\x3e").html(c);(d=a.find(".legalEntities"))&&0<d.length&&b.each(d,function(a,c){b(c).html(f)});c=a.html()}return c}function B(a,b){var c=[],d=["before","after"];if(b&&0<b.length&&a)for(var f=0;f<b.length;f++){Array.isArray(a)||(a=[a]);for(var e=0;e<d.length;e++)for(var g=0;g<a.length;g++)if(b[f].usage.name.toUpperCase()==a[g].usage.toUpperCase()&&d[e]==a[g].position){var h='\x3cdiv class\x3d"md-policygdpr-value-propositions"\x3e',k="";if(a[g].propositions)for(var l=0;l<a[g].propositions.length;l++)k+=
'\x3cli class\x3d"md-icnpre-check md-policygdpr-value-proposition"\x3e'+a[g].propositions[l].propositionValue+"\x3c/li\x3e";0<k.length&&(a[g].title&&0<a[g].title.length&&(h+='\x3cdiv class\x3d"md-policygdpr-proposition-title"\x3e'+a[g].title+"\x3c/div\x3e"),h+="\x3cul\x3e"+k+"\x3c/ul\x3e");h+="\x3c/div\x3e";c.push({template:h,position:a[g].position});break}}return c}c.$parent.policyDocuments={};c.allUsagesSelected=!1;c.doChangeAllUsages=function(a,b,d,f,g){g=void 0===g?null:g;if("combined"===d&&"displayUsages"===
f){if(c.allUsagesSelected=c.areAllChecked(a,b),c.allUsagesSelected=!c.allUsagesSelected,d=c.getAllUsages(a,b,c.allUsagesSelected?"REJECT":"ACCEPT"),0<d.length)for(f=0;f<d.length;f++)e.doChange(c,a,b,d[f])}else"MANDATORY"===g&&void 0===c.gcdmFormModel.mandatoryPolicy&&(c.gcdmFormModel.mandatoryPolicy=!1),e.doChangeAllUsages(c,a,b)};c.doChangeUsage=function(a,b,d,f,g){e.doChange(c,a,b,d)};c.displayAllUsages=function(a){if(a=b(a.target).closest(".md-form-gcdm-policy-usage-definition")){var c=a.find(".gcdm-policy-display-all");
b(c).hasClass("gcdm-usages-displayed")?b(c).fadeOut("slow",function(){b(c).removeClass("gcdm-usages-displayed")}):b(c).fadeIn("slow",function(){b(c).addClass("gcdm-usages-displayed")})}};c.getAllUsages=function(a,b,f){var e=[];a=d(c.gcdmFormModel.contactPolicyConsents,a);if(b&&a)for(var g=0;g<a.usageDefinitions.length;g++){var h=a.usageDefinitions[g];if(h.id===b)for(var k=0;k<h.consents.length;k++){var l=h.consents[k];l.consent===f&&e.push(l.usageId)}}return e};c.areAllChecked=function(a,b){var f=
!0;a=d(c.gcdmFormModel.contactPolicyConsents,a);if(b&&a)for(var e=0;e<a.usageDefinitions.length;e++){var g=a.usageDefinitions[e];if(g.id===b)for(var h=0;h<g.consents.length;h++)if("REJECT"===g.consents[h].consent){f=!1;break}}return f};c.isChecked=function(a,b,f){var e=!1;a=d(c.gcdmFormModel.contactPolicyConsents,a);if(b&&a&&f)for(var g=0;g<a.usageDefinitions.length;g++){var h=a.usageDefinitions[g];if(h.id===b)for(var k=0;k<h.consents.length;k++){var l=h.consents[k];if(l.usageId===f)return e="ACCEPT"===
l.consent}}return e};c.addLegalEntityClick=function(a){a.find(".md-policy-legal-entities").click(function(a){console.log("entity clicked");a=b(a.currentTarget);var c=a.find(".md-policy-legal-entity-hide"),d=a.find(".md-policy-legal-entity"),f=a.data("displayed");!1===f?(b(c).fadeIn("slow"),f=!0,b(d).removeClass("md-icn-plus").addClass("md-icn-minus")):(b(c).fadeOut("slow"),f=!1,b(d).removeClass("md-icn-minus").addClass("md-icn-plus"));a.data("displayed",f)})};c.displayInfo=function(d){b.subscribe("md:layer:opened",
function(a){c.addLegalEntityClick(b(a.layerContent))});d=b(d.currentTarget);var f=d.parent();f={source:b(f).find(".md-display-info"),constrain:a,group:"md-gcdm-policy",initialiseSource:!0,style:"sml",height:300};d.layer(f);d.data("layer").toggle(g(a))};c.getPolicyTemplate=function(a,b,c,d,f,e,g,h){a='\x3cdiv class\x3d"md-form-gcdm-policy-document"\x3e'+k(a.textBlocks,a.id,b,c,a.name,d,f,e,g,h);return a+"\x3c/div\x3e"}}]);e.appModule.controller("mdPolicyController",["$scope",function(c){c.init=function(a,
b,d){c.mandatoryPolicies=c.createArray(a);c.invertValues=c.createArray(b);c.displayPolicyConsent=d;c.uniqueId=(new Date).getTime().toString()};c.isPolicyMandatory=function(a,b){if(a.mainId==a.id&&b)for(var d in b)if(a.mainId==b[d].mainId&&-1<c.mandatoryPolicies.indexOf(b[d].id))return!0};c.displayInfo=function(c){c=b(c.currentTarget);var d=c.parent();d={source:b(d).find(".md-display-info"),constrain:a,group:"md-gcdm-policy",initialiseSource:!0,style:"sml",title:c.data("title"),height:400};c.layer(d);
c.data("layer").toggle(g(a))};c.isInvertValue=function(a){return-1<c.invertValues.indexOf(a)};c.getPolicyLabels=function(a,b){var d="";if(b)for(var f in b)b[f].mainId==a.mainId&&c.mandatoryPolicies.indexOf(b[f].id)&&(0<d.length&&(d+=","),d=d+"policy-consent-"+b[f].id.toLowerCase());return d};c.createArray=function(a){return a&&-1<a.indexOf(",")?a.split(","):[a]}}])}}}(mini.digital.$,mini.digital.comp.gcdm,mini.digital.util.browser);
mini.digital.comp.gcdm.controllers.dealerlocator=function(b,e,k,g){return{init:function(){b.appModule.controller("mdDealerLocatorController",["$scope","$rootScope","$window","$timeout","$q","GcdmEventHandlingService","MdGcdmDealerLocatorService",function(b,a,d,f,h,n,m){function c(){return w.channel("business-dealerlocator")}function l(c,d){console.log("selected dealer",c);b.dealerDirectSelectDealerId&&b.dealerDirectSelectDealerId!=c.key?console.log("Dealer direct",b.dealerDirectSelectDealerId,c):
(b.selectDealer({poi:{values:c}},!0,d),(b.selectedDealer=c)&&a.$broadcast("md:dlo:select:dealer",c))}function t(a,b){return{topic:a,data:b,headers:{preserveOne:!0}}}function r(a){c().publish(t("dloLocationSearchStart",{searchTerm:a}))}function v(a,d){b.dealerDirectSelectDealerId&&(a=b.dealerDirectSelectDealerId,c().publish(t("dloGetDealer",{dealerKey:a})))}d=!mini.digital.util.matchmedia.wide.matches;b.dealerPins=[];b.dealerPinsList=[];b.layout="map";b.goToDealer=!1;b.selectedDealerIsPreferred=!1;
b.geoLoadingStatus="false";b.preferredDealer=void 0;b.predicate="poi.values.dist";b.showDealerCount=!1;b.invalidDealerSelection=!0;b.dealerLocatorError=!1;b.currentErrorMessage="";b.messageBoxOpen=!1;b.tempSave=!1;b.overwriteDealer=!1;b.mdIsUserLoggedIn=b.gcdmIsLoggedIn();b.forceInfoBoxOpen=!1;b.isInForm=!1;b.preferredView=!1;b.hasSavedDealer=!1;b.isLastVisitedDealer=!1;b.displayLastVisitedDealer=!0;b.isNarrow=d;b.isLastVisitedCookieFound=!1;b.lvdName="";b.chooseDealerActivated=!1;b.initialSearchComplete=
!1;b.userActivatedGeoLocation=!1;b.lastVisitedDealer=void 0;b.displayDealer=void 0;b.currentSearch={searchTerm:"",layout:"",isInForm:"",resultsCount:"",filter:""};b.dloSearchFieldValue="";e.publish("md:overlay:changes_location");var w=require("core/Messagebus");b.goToNextStep=function(){f(function(){var a=e(".md-form-gcdm-dlo-step .md-form-gcdm-next-btn");0==a.length&&(a=e(".md-form-gcdm-dlo-step .md-form-gcdm-submit-btn"));a.trigger("click")})};b.selectDealer=function(a,c,d){a=a.poi.values;m.setDealerData(a,
b.gcdmFormModel,d);!c&&a&&b.goToNextStep()};b.checkOpenDealerItems=function(){var a=!1;b.dealerPins.forEach(function(b){b.isOpen&&(a=!0)});return a};b.getLastVisitedDealerId=function(a){a=mini.digital.comp.dealerSummary.getLastVisitedCookieName();if(a=k.api.getCookie(a)){a=a.split("|")[0];var b=a.indexOf("_");if(-1!==b)for(b=a.substring(0,b).length;5>b;b++)a="0"+a;return a}};b.getDirectSelectDistributionPartnerId=function(a,b,c){a=void 0;c&&(a=b);return a};b.$watch("gcdmFormModel",function(){var a=
mini.digital.comp.dealerSummary.getLastVisitedCookieName();(a=k.api.getCookie(a))&&0<a.length&&b.displayLastVisitedDealer?(b.isLastVisitedDealer=!0,b.isLastVisitedCookieFound=!0,b.preferredView=!0):b.isLastVisitedDealer=!1});e.subscribe("md:formgcdm:newStepLoaded",function(a){a.selector.hasClass("md-form-gcdm-dlo-step")&&mini.digital.util.toggle.init(e(".md-form-gcdm-dlo-inner .md-js-toggle"))});n.subscribe("c2bDealerLocatorError",function(a,c){a={dloGeolocationPermissionDenied:"denied",dloGeolocationPositionUnavailable:"unavailable",
dloGeolocationTimeout:"timeout",dloGeolocationUnknownError:"failed",dloGeolocationNotAvailable:"unavailable",dloClearErrors:"done"}[c];b.messageBoxOpen=!1;b.tempSave&&(b.confirmTempSaveWarningSelection(!1),b.tempSave=!1);b.overwriteDealer&&(b.confirmTempSaveWarningSelection(!1),b.overwriteDealer=!1);"dloClearErrors"!==c&&"dloNoResultsFound"!==c&&(b.currentErrorMessage=c,b.dealerLocatorError=!0,b.messageBoxOpen=!0,g.errors.addError({formErrorType:"c2bDealerLocatorError",formErrorCode:c,formErrorMessage:c},
"c2bDealerLocatorError"));clearDealerPins();if("denied"===a||"unavailable"===a||"timeout"===a||"failed"===a)b.geoLoadingStatus="false"});b.onErrorMessageHandled=function(){b.dealerLocatorError=!1;b.messageBoxOpen=!1};b.selectedDealer=void 0;b.activateChooseDealer=function(a){a.preventDefault();b.chooseDealerActivated=!0};b.onDealerSelected=function(a){l(a,!0)};b.$watch("gcdmFormModel.businessPartner.addresses[0].postalCode",function(){if(b.gcdmFormModel.businessPartner){if(b.gcdmFormModel.businessPartner.addresses&&
0==b.gcdmFormModel.businessPartner.addresses.length)return;var a=b.gcdmFormModel.businessPartner.addresses[0].postalCode;if(null===a||void 0===a||3>a.length)return}f(function(){b.dloSearchFieldValue=a;b.onLocationChanged()},3500)});b.onLocationChanged=function(){b.dloSearchFieldValue&&0!==b.dloSearchFieldValue.trim().length&&r(b.dloSearchFieldValue)};var x=function(a,b){var c;return function(d){clearTimeout(c);c=setTimeout(function(){c=null;a(d)},b)}}(function(){if(b.dloSearchFieldValue&&0!==b.dloSearchFieldValue.trim().length){if(b.dloSearchSuggestions)for(var a=
0;a<b.dloSearchSuggestions.length;a++)if(b.dloSearchSuggestions[a].value.toUpperCase()===b.dloSearchFieldValue.toUpperCase()){b.dloSearchSuggestions=[];r(b.dloSearchFieldValue);return}a=b.dloSearchFieldValue;c().publish(t("dloLocationSearchSuggestionsGet",{searchTerm:a}))}},400);b.onSearchFieldChange=function(a){x()};b.onSearchFieldEnter=function(a){b.dloSearchFieldValue&&0!==b.dloSearchFieldValue.trim().length&&13===a.keyCode&&(r(b.dloSearchFieldValue),a.preventDefault())};var u=function(){document.querySelector("#dlo-search-by-location-and-name").blur()};
b.onSearchFieldFocus=function(){document.querySelector("div.md-form-gcdm-step").addEventListener("scroll",u)};b.onSearchFieldBlur=function(){document.querySelector("div.md-form-gcdm-step").removeEventListener("scroll",u)};c().subscribe("dloLocationSearchSuggestionsResults",function(a,c){c="";if(a&&a.suggestions&&0<a.suggestions.length){b.dloSearchSuggestions=a.suggestions;for(var d=0;d<a.suggestions.length;d++){var f=a.suggestions[d];c=c+'\x3coption value\x3d"'+f.value+'"\x3e'+f.value+"\x3c/option\x3e"}}e("#dlo-search-by-location-and-name-suggestions").html(c)});
c().subscribe("dloLocationSearchResults",function(a,c){a=a.dealers;if(0<a.length){b.dealers=a;e.publish("md:overlay:iphone:resize");c=a[0];if(b.gcdmFormModel.dealer)for(var d=0;d<a.length;d++)b.gcdmFormModel.dealer.distributionPartnerId===a[d].attributes.distributionPartnerId&&(c=a[d]);b.onDealerSelected(c,!0);b.$apply()}});c().subscribe("dloGetDealerResult",function(a,c){a.dealer&&(l(a.dealer,!0),b.$parent&&(b.$parent.selectedDealerName=a.dealer.name),b.$apply())});c().subscribe("dloInitialized",
v);e.subscribe("md:directDealer:init",v)}])}}}(mini.digital.comp.gcdm,mini.digital.$,mini.digital.util.cookiecontroller,mini.digital.tracking.formgcdm);mini.digital.comp.gcdm.controllers.directDealerMap=function(b,e){return{init:function(){b.appModule.controller("mdDirectDealerMap",["$scope","$rootScope","$window","$timeout","$q","GcdmEventHandlingService","MdGcdmDealerLocatorService",function(b,e,c,a,d,f,h){}])}}}(mini.digital.comp.gcdm,mini.digital.$);
mini.digital.comp.gcdm.controllers.login=function(b,e,k){return{init:function(){var g;b.appModule.controller("mdLoginController",["$scope","$rootScope","GcdmEventHandlingService","mdGcdmCookieService","$document",function(b,a,d,f,h){d.subscribe("accessTokenChange",function(a,b){b.value?(g=b.value,k.publish("md:gcdm:accessToken:valid",[g])):k.publish("md:gcdm:accessToken:invalid")});b.mdGcdmCookie=f;b.mdLoginCancel=function(){a.$broadcast("md:formgcdm:cancelform","login")};b.mdCookieConsentShow=function(){e.api.consentdrawer.then(function(a){a.showConsentDrawer()})};
b.onClickInfoIcon=function(){b.showLoginHelperMessage=!b.showLoginHelperMessage};b.mdLoadForm=function(b){var c=h[0].forms.gcdmLoginIFrameForm;c&&(c=c.parentElement,c.remove?c.remove():c.parentNode.removeChild(c));a.$broadcast("md:formgcdm:loadform",b)}}])}}}(mini.digital.comp.gcdm,mini.digital.util.cookiecontroller,mini.digital.$);
mini.digital.comp.gcdm.controllers.forgottenpassword=function(b){return{init:function(){b.appModule.controller("mdForgottenpasswordController",["$scope","$rootScope",function(b,k){b.mdForgottenCancel=function(){k.$broadcast("md:formgcdm:loadform","login")};b.mdLoadForm=function(b){k.$broadcast("md:formgcdm:loadform",b)}}])}}}(mini.digital.comp.gcdm,mini.digital.$);
mini.digital.comp.gcdm.controllers.changepassword=function(b){return{init:function(){b.appModule.controller("mdChangepasswordController",["$scope","$rootScope",function(b,k){b.mdChangePassCancel=function(){k.$broadcast("md:formgcdm:loadform","profile")};b.mdLoadForm=function(b){k.$broadcast("md:formgcdm:loadform",b)}}])}}}(mini.digital.comp.gcdm,mini.digital.$);
mini.digital.comp.gcdm.controllers.confirmation=function(b,e){return{init:function(){e.appModule.controller("mdRegistrationConfirmationController",["$scope","$rootScope",function(e,g){e.$watch("mdGcdmSuccess",function(c,a){c!==a&&b.publish("md:mymini:statechange",[{state:"registrationconfirm",preventTransform:!1}])},!0);e.mdRegistrationContinue=function(){g.$broadcast("md:formgcdm:registration:continue")}}])}}}(mini.digital.$,mini.digital.comp.gcdm);
mini.digital.comp.gcdm.controllers.registration=function(b,e){return{init:function(){b.appModule.controller("mdRegistrationController",["$scope","$rootScope","$attrs","mdGcdmCookieService","inShelf",function(b,g,c,a,d){b.gcdmDeactivatePrefill="true"!==c.hasRegisterFlow;$(".md-mymini-content.md-js-mymini-content").scroll(function(){$(":focus").blur()});b.displayedInShelf=!1;d&&1==d.inShelf&&(b.displayedInShelf=!0);b.mdGcdmCookie=a;b.mdRegistrationCancel=function(){g.$broadcast("md:formgcdm:cancelform",
"registration")};b.mdLoadForm=function(a){g.$broadcast("md:formgcdm:loadform",a)};b.mdCookieConsentShow=function(){e.api.consentdrawer.then(function(a){a.showConsentDrawer()})};b.$watch(function(){return b.$parent.mdBusinessPartnerMail},function(a){b.gcdmFormModel&&b.gcdmFormModel.userAccount&&b.gcdmFormModel.userAccount.mail&&(b.gcdmFormModel.userAccount.mail=a)});b.$watch("gcdmFormModel.businessPartner",function(){console.log(" addExtraRights");$("[name\x3dgcdmLoginIFrameForm]").eq(0).find("[name\x3dscope]").attr("value",
"remote_services vehicle_data authenticate_user smacc fupo");if(b.gcdmFormModel&&b.gcdmFormModel.businessPartner){if(b.gcdmFormModel.businessPartner.addresses){var a=b.gcdmFormModel.businessPartner.addresses;0<a.length&&(null===a[0].postalCode||void 0===a[0].postalCode)&&(a[0].postalCode="")}!b.gcdmFormModel.businessPartner.homeMarket&&(a=$(".md-form-gcdm-registration").find("form"))&&(a=$(a).attr("gcdm-vehicle-country"),"EE"==a&&(a="DE"),b.gcdmFormModel.businessPartner.homeMarket=a);b.gcdmFormModel.businessPartner.customExtension||
(b.gcdmFormModel.businessPartner.customExtension={parameters:[]});b.gcdmFormModel.businessPartner.customExtension.parameters.push({key:"CD_accountType",value:"UNDEFINED"});b.gcdmFormModel.businessPartner.customExtension.parameters.push({key:"preferredCommunication",value:"EMAIL"});b.gcdmFormModel.businessPartner.customExtension.parameters.push({key:"CD_brand",value:"MI"})}});mini.digital.comp.formgcdm.manageEvents()}])}}}(mini.digital.comp.gcdm,mini.digital.util.cookiecontroller);
mini.digital.comp.gcdm.controllers.registrationCheck=function(b){return{init:function(e){b.appModule.controller("mdRegistrationCheckController",["$scope","$rootScope","GcdmEventHandlingService","GcdmPrefillBusinessPartnerService",function(b,g,c,a){b.mdGcdmShowRegistrationCheckForm=!1;b.hasRegistrationCheck="true"===e.attr("data-mymini-has-registration-check");c.subscribe("success",function(a,b){b&&b.id&&"registrationcheck"===b.id&&g.$broadcast("md:mymini:loggedinandchecked")});b.$watch("gcdmFormModel.businessPartner",
function(c){var d=!0;b.mdGcdmShowRegistrationCheckForm||a.getLoggedInBusinessPartner().then(function(a){a&&a.businessPartner||b.hasRegistrationCheck||(b.mdGcdmShowRegistrationCheckForm=!0);if((a=a.businessPartner)&&b.mandatoryFields&&0<b.mandatoryFields.length){for(var f=0;f<b.mandatoryFields.length;f++)"title"===b.mandatoryFields[f]&&(d=d&&!!a.title),"salutation"===b.mandatoryFields[f]&&(d=d&&!!a.salutation),"givenName"===b.mandatoryFields[f]&&(d=d&&!!a.givenName),"surname"===b.mandatoryFields[f]&&
(d=d&&!!a.surname),"addressStatus"===b.mandatoryFields[f]&&(d=d&&!!a.addresses&&!!a.addresses.length&&!!a.addresses[0].addressStatus),"companyName"===b.mandatoryFields[f]&&(d=d&&!!a.addresses&&!!a.addresses.length,a.addresses&&0<a.addresses.length&&"BUSINESS"===a.addresses[0].addressStatus&&(d=d&&!!a.addresses[0].companyName)),"postalCode"===b.mandatoryFields[f]&&(d=d&&!!a.addresses&&!!a.addresses.length&&!!a.addresses[0].postalCode),"addressCity"===b.mandatoryFields[f]&&(d=d&&!!a.addresses&&!!a.addresses.length&&
!!a.addresses[0].city),"addressStreet"===b.mandatoryFields[f]&&(d=d&&!!a.addresses&&!!a.addresses.length&&!!a.addresses[0].street),"addressBuildingID"===b.mandatoryFields[f]&&(d=d&&!!a.addresses&&!!a.addresses.length&&!!a.addresses[0].buildingID),"addressCountry"===b.mandatoryFields[f]&&(d=d&&!!a.addresses&&!!a.addresses.length&&!!a.addresses[0].country),"addressRegionCode"===b.mandatoryFields[f]&&(d=d&&!!a.addresses&&!!a.addresses.length&&!!a.addresses[0].regionCode),"addressStrSuppl1"===b.mandatoryFields[f]&&
(d=d&&!!a.addresses&&!!a.addresses.length&&!!a.addresses[0].strSuppl1),"addressStrSuppl2"===b.mandatoryFields[f]&&(d=d&&!!a.addresses&&!!a.addresses.length&&!!a.addresses[0].strSuppl2),"addressStrSuppl3"===b.mandatoryFields[f]&&(d=d&&!!a.addresses&&!!a.addresses.length&&!!a.addresses[0].strSuppl3),"phonePrivate"===b.mandatoryFields[f]&&(d=d&&!!a.communication&&!!a.communication.phones&&!!a.communication.phones.length&&!!a.communication.phones[0].value&&!1);d?g.$broadcast("md:mymini:loggedinandchecked"):
b.mdGcdmShowRegistrationCheckForm=!0}else a&&(b.hasRegistrationCheck&&(d=(d=d&&!!a&&!(!a.title&&!a.salutation)&&!!a.givenName&&!!a.surname)&&!!a.addresses&&!!a.addresses.length&&!!a.addresses[0].addressStatus&&!(!a.addresses[0].houseNumber&&!a.addresses[0].buildingID)&&!!a.addresses[0].postalCode&&!!a.addresses[0].street&&!!a.addresses[0].city&&!!a.addresses[0].country),c||!b.hasRegistrationCheck)&&(d?g.$broadcast("md:mymini:loggedinandchecked"):b.mdGcdmShowRegistrationCheckForm=!0)})});mini.digital.comp.formgcdm.manageEvents()}])}}}(mini.digital.comp.gcdm);
mini.digital.comp.gcdm.controllers.brochure=function(b,e,k,g,c){return{init:function(){b.appModule.controller("mdBrochureController",["$scope","$rootScope","$timeout","mdGcdmBrochureService","mdGcdmRequestedVehicleService",function(a,b,f,h,n){a.hasPreselectedModel=!1;a.lastBrochureSelected="";a.campaign={};a.currentCampaign={};a.initCampaign=function(b,c,d,f){"true"==b&&(a.campaign.download=JSON.parse(d),a.campaign.post=JSON.parse(c),a.currentCampaign=a.campaign[h.requestType])};a.setGcdmDownloadBrochure=
function(b){a.gcdmDownloadBrochure=b;h.requestType=b?"download":"post";a.currentCampaign=a.campaign[h.requestType]};a.$watch(function(){return h.requestType},function(b){null!=h.requestType&&(a.currentCampaign=a.campaign[h.requestType]);a.currentCampaign?(a.gcdmFormModel.campaign.campaignId=a.currentCampaign.campaignId,a.gcdmFormModel.campaign.campaignName=a.currentCampaign.campaignName,a.gcdmFormModel.campaign.leadContext=a.currentCampaign.campaignLeadContext,a.gcdmFormModel.campaign.leadSource=
a.currentCampaign.campaignLeadSource,a.gcdmFormModel.campaign.offerId=a.currentCampaign.campaignOfferId,a.gcdmFormModel.campaign.treatmentId=a.currentCampaign.campaignTreatmentId,a.gcdmFormModel.campaign.treatmentName=a.currentCampaign.campaignTreatmentName):(a.gcdmFormModel.campaign.campaignId=null,a.gcdmFormModel.campaign.campaignName=null,a.gcdmFormModel.campaign.leadContext=null,a.gcdmFormModel.campaign.leadSource=null,a.gcdmFormModel.campaign.offerId=null,a.gcdmFormModel.campaign.treatmentId=
null,a.gcdmFormModel.campaign.treatmentName=null)});a.$watch(function(){return n.getVehicle()},function(b){b&&0<Object.keys(b).length&&"standardselector"!==b.source&&b.modelCode&&(a.hasPreselectedModel=!0)});a.selectedBrochure=void 0;a.modelRangeBrochures=[];a.brochureOptions=[];a.brochureCriteria=void 0;a.toggleDependentOptions=!1;a.selectedBrochureList=[];a.isMultipleSelection=!1;a.addedBrochureError=!1;a.isBrochureSelected=function(){return void 0!==a.selectedBrochure&&"_empty_"!==a.selectedBrochure.informationMaterialCode};
a.foundBrochure=function(b){for(var c=-1,d=0;d<b.length;d++)if(a.selectedBrochure.informationMaterialCode===b[d].informationMaterialCode){c=d;break}return c};a.onBrochureChanged=function(){a.$id!==this.$id&&(a.selectScope=this);a.isMultipleSelection||h.resetSelectedBrochures();a.selectedBrochure=d;void 0!==a.selectScope&&(a.selectedBrochure=a.selectScope.selectedBrochure);if(a.isBrochureSelected()&&(h.addSelectedBrochure(a.selectedBrochure,a.isMultipleSelection),a.isMultipleSelection)){a.selectedBrochureList=
h.getSelectedBrochures();var b=a.foundBrochure(a.brochureOptions);-1<b&&(a.brochureOptions.splice(b,1),a.selectScope.selectedBrochure=d)}h.updateGcdmFromModel(a.gcdmFormModel);a.selectedBrochure!=d&&c.brochure.setProductData(a.selectedBrochure)};a.displayBrochureSelection=function(){var b=!0;a.isMultipleSelection&&(b=1<a.brochureOptions.length&&3>a.selectedBrochureList.length);return b};a.displaySelectionList=function(){return 0<a.selectedBrochureList.length&&a.isMultipleSelection};a.removeSelectedBrochure=
function(b){b&&(h.removeSelectedBrochure(b.informationMaterialCode),a.brochureOptions.push(b),h.updateGcdmFromModel(a.gcdmFormModel))};a.hasBrochureValidationError=function(b){var c=this.form,d=c[b],f=a.isBrochureSelected();f||(c[b].$invalid=!f,c[b].$error.empty=!f,c.$invalid=!f);return f||!c.$submitted||a.addedBrochureError?f?a.addedBrochureError=!1:c[b].$dirty||a.gcdmFormSubmitted||a.gcdmSectionSubmitted:(g.addError({formErrorFieldName:b,formErrorMessage:d.$modelValue.label}),a.addedBrochureError=
!0)};var d={informationMaterialCode:"_empty_",label:"Please select a brochure ...",descriptionText:"Please select a brochure ..."};a.getEmptyBrochureSelectValue=function(){for(var b=0;b<a.modelRangeBrochures.length;b++)if(a.modelRangeBrochures[b].informationMaterialCode===d.informationMaterialCode)return"0";return""};a.initSelectedBrochure=function(b,c){if(void 0===b)a.selectedBrochure=void 0,a.modelRangeBrochures=[];else{a.modelRangeBrochures=a.getTypedRangeBrochures(b);if(1===a.modelRangeBrochures.length)a.selectedBrochure=
a.modelRangeBrochures[0];else if(c)for(b=0;b<a.modelRangeBrochures.length;b++){if(a.modelRangeBrochures[b].informationMaterialCode===c){a.selectedBrochure=a.modelRangeBrochures[b];a.selectScope=this;break}}else a.modelRangeBrochures.unshift(d),a.selectedBrochure=d;void 0!==a.selectScope&&(a.selectScope.selectedBrochure=a.selectedBrochure)}a.onBrochureChanged.apply(a)};a.initBrochureOptions=function(b,c,f,e){a.$id!==this.$id&&(a.selectScope=this);a.isMultipleSelection=e;a.isMultipleSelection&&(a.selectedBrochureList=
[],h.resetSelectedBrochures());d.label=b;d.descriptionText=b;a.emptyBrochure=d;a.brochureOptions=h.gcdmBrochures;if(f){a.brochureCriteria=f;b=a.brochureCriteria.split(",");f=[];for(e=0;e<a.brochureOptions.length;e++){a:{var g=b;for(var k=a.brochureOptions[e],l=0;l<g.length;l++){var m=g[l].split("\x3d\x3d\x3d")[0].trim(),n=g[l].split("\x3d\x3d\x3d")[1].trim();"informationType"===m&&"toggleDependent"===n&&(a.toggleDependentOptions=!0,n=a.gcdmDownloadBrochure?"DOWNLOAD":"BROCHURE");if(k[m]!==n){g=!1;
break a}}g=!0}g&&f.push(a.brochureOptions[e])}a.brochureOptions=f}if(1===a.brochureOptions.length)a.selectedBrochure=a.brochureOptions[0];else if(c)for(b=0;b<a.brochureOptions.length;b++){if(a.brochureOptions[b].informationMaterialCode===c){a.selectedBrochure=a.brochureOptions[b];a.selectScope=this;break}}else a.brochureOptions.unshift(d),a.selectedBrochure=d;void 0!==a.selectScope&&(a.selectScope.selectedBrochure=a.selectedBrochure);a.onBrochureChanged.apply(a)};var q=b.$on("md:formgcdm:ss:selected",
function(b,c,d){a.initSelectedBrochure(c.modelRangeCode)});a.$on("$destroy",function(){q()});a.getTypedRangeBrochures=function(a){var b=h.getGcdmRequestType(),c=[];if(void 0===a||void 0===h.gcdmBrochuresGrouped[a])return c;a=h.gcdmBrochuresGrouped[a];for(var d=0;d<a.length;d++){var f=a[d];f.informationType===b&&c.push(f)}return c};b.$on("md:formgcdm:brochureToggleUpdate",function(b,c,d){b={event:b,originalEvent:d,toggleValue:c};e.publish("md:formgcdm:brochureToggleUpdate",[b]);d="download"===b.toggleValue;
e("form.md-form-gcdm-steps").find(".md-form-gcdm-brochure-dl").attr("data-selected-value",b.toggleValue);a.setGcdmDownloadBrochure(d);c!==h.requestType&&(h.hasConflicts(c)?h.pendingRequestType=c:h.requestType=c);a.toggleDependentOptions&&a.initBrochureOptions(a.emptyBrochure.label,void 0,a.brochureCriteria,a.isMultipleSelection)});k&&k.getCurrentLaunchCTAInfo()}])}}}(mini.digital.comp.gcdm,mini.digital.$,mini.digital.comp.ctas,mini.digital.tracking.formgcdm.errors,mini.digital.tracking.formgcdm);
mini.digital.comp.gcdm.controllers.tda=function(b,e,k){var g=k.common.tracking;return{init:function(){b.appModule.controller("mdTdaController",["$scope","$timeout","mdGcdmTdaSummaryService","mdGcdmRequestedVehicleService",function(b,a,d,f){b.mdTdaAppointment={date:"",timeIsPm:null};b.hasPreselectedModel=!1;b.openStandardMiniSelector=function(){b.hasPreselectedModel=!1;k.base.pushEvent();a(function(){mini.digital.util.lazyLoadImage.checkImages()})};e.subscribe("md:overlay:closing",function(a){b&&b.$destroy()});
b.$watch(function(){return f.getVehicle()},function(a){a&&0<Object.keys(a).length&&(b.hasPreselectedModel=!0,g.formLoaded?k.tda.setProductData(a):k.tda.primeProductData(a))});b.$watch("mdTdaAppointment",function(a,b){a!==b&&d.setSummaryData({appointmentDateTime:{date:a.date,timeIsPm:a.timeIsPm}})},!0);b.$watch("form.appointmentDateTime.$viewValue",function(a,b){a!==b&&d.setSummaryData({dateTime:a})},!0);b.$watch("form.givenName.$viewValue",function(a,b){a!==b&&d.setSummaryData({firstName:a})},!0);
b.$watch("form.surname.$viewValue",function(a,b){a!==b&&d.setSummaryData({surname:a})},!0);b.$watch("form.emailPrivate.$viewValue",function(a,b){a!==b&&d.setSummaryData({email:a})},!0)}])}}}(mini.digital.comp.gcdm,mini.digital.$,mini.digital.tracking.formgcdm);
mini.digital.comp.gcdm.controllers.offer=function(b,e,k,g){var c=k.common.tracking;return{init:function(){b.appModule.controller("mdRfoController",["$scope","$timeout","mdGcdmRequestedVehicleService",function(a,b,f){var d=!1;a.hasPreselectedModel=!1;a.openStandardMiniSelector=function(){a.hasPreselectedModel=!1;d=!0;k.base.pushEvent();b(function(){mini.digital.util.lazyLoadImage.checkImages()})};g.subscribe("md:overlay:closing",function(b){a&&a.$destroy()});a.$watch(function(){return f.getVehicle()},
function(b){b&&0<Object.keys(b).length?"standardselector"===b.source||d||(a.hasPreselectedModel=!0,c.formLoaded?k.offer.setProductData(b):k.offer.primeProductData(b)):mini.digital.util.currentModel.get();b.isOpenArea&&(a.gcdmFormModel.comment=b.comment?b.comment:void 0,a.gcdmFormModel.leadContext=b.leadContext?b.leadContext:void 0,a.gcdmFormModel.dealer=b.dealer?b.dealer:void 0)});a.$watch("hasPreselectedModel",function(a){d||(a=!0);e.toggleTabView(a)})}]);k.offer.init()}}}(mini.digital.comp.gcdm,
mini.digital.comp.formgcdm,mini.digital.tracking.formgcdm,mini.digital.$);mini.digital.comp.gcdm.controllers.activate=function(b){return{init:function(){b.appModule.controller("mdActivateController",["$scope","$rootScope",function(b,k){b.nextBtn=function(){k.$broadcast("md:formgcdm:activate:next")}}])}}}(mini.digital.comp.gcdm);
mini.digital.comp.gcdm.controllers.vco=function(b,e){return{init:function(){b.appModule.controller("mdVcoController",["$scope","$rootScope","$timeout","GcdmEventHandlingService","mdGcdmRequestedVehicleService","GcdmPrefillBusinessPartnerService",function(b,g,c,a,d,f){b.$emit("myminiLoaderShow");a.subscribe("success",function(a,b){b&&b.id&&"vco"===b.id&&g.$broadcast("md:mymini:vcosubmitted")});b.$watch(function(){return d.getVehicle()},function(c){c&&0<Object.keys(c).length&&c.modelCode&&c.hasOwnProperty("circulationConsent")&&
(b.gcdmFormModel.vehicleConfiguration.circulationConsent=c.circulationConsent,f.getBusinessPartner().then(function(c){c&&(window.gcdm.merge.mergeBusinessPartner(b.gcdmFormModel.businessPartner,c.businessPartner,!1,!0),b.gcdmFormModel.businessPartner.gcid=c.businessPartner.gcid);a.publish("vehicleConfigurationSubmit")},function(b){console.log("failed to get the partner",b);a.publish("vehicleConfigurationSubmit")}))});mini.digital.comp.formgcdm.manageEvents();e.publish("md:formgcdm:vcoloaded")}])}}}(mini.digital.comp.gcdm,
mini.digital.$);
(function(){mini.digital.comp.search=function(b,e,k,g,c,a){function d(a){var c=b(a.currentTarget),d=c.closest(".md-search-result");a=d.index();var f=c.closest(p.searchResultLinkBlock);c=c.text().replace(/\s+/g," ").trim();d=d.find("h2").text().replace(/\s+/g," ").trim();X.eventInfo.eventName="open search result";X.eventInfo.eventAction="click";X.eventInfo.eventPoints=a;Aa.attributes.relatedComponentID=la;f.length?X.eventInfo.effect="user opens a search result action "+c:""!==d&&(X.eventInfo.effect="user opens a search result "+
d);X=b.extend({},X,Aa);h(X,!0);return!0}function f(a,b,d,f){c.search.updateTracking(la,{onSiteSearch:"general",onsiteSearchTerm:a,onsiteSearchPage:b+1,onsiteSearchResults:d,onsiteSearchType:ba[f]})}function h(a,b){a.eventInfo.cause=b?"default":"automatic";c.search.setCurrentEvent(a)}function n(a){if(a.keyCode===ia.upArrow||a.keyCode===ia.downArrow){a.preventDefault();var b=W.find(p.searchSuggestion);var c=b.length;var d=W.find(p.searchSuggestionLink+":focus");var f=d.parent().next().find(p.searchSuggestionLink);
var e=d.parent().prev().find(p.searchSuggestionLink);0===d.length?(b.eq(a.keyCode===ia.downArrow?0:c-1).find(p.searchSuggestionLink).focus(),ca.text(W.find(p.searchSuggestionLink).eq(a.keyCode===ia.downArrow?0:c-1).text())):a.keyCode===ia.downArrow&&f.length?(f.focus(),ca.text(f.text())):a.keyCode===ia.upArrow&&e.length?(e.focus(),ca.text(e.text())):Y.focus()}}function m(){V.toggleClass("md-search-form-populated",""!==Y.val())}function q(a){if(""===Y.val())ca.empty(),W.empty(),T.empty();else if(a.keyCode!==
ia.upArrow&&a.keyCode!==ia.downArrow&&a.keyCode!==ia.rightArrow&&a.keyCode!==ia.enter){if(Y.val()!==da&&3<=Y.val().length){W.empty();T.empty();ca.empty();Ea.abort();var b=Y.val();Ea=g.get(ja+"\x26q\x3d"+encodeURIComponent(b)).always(function(a){W.empty();if(a.results&&0<a.results.length){for(var c="",d=0;d<a.results.length;d++){var f=a.results[d].name;f&&(f=f.replace(new RegExp("("+b+")","gi"),"\x3cstrong\x3e$1\x3c/strong\x3e"),f=sa.html().replace(/{{suggestion}}/g,f),c+=f)}c=ta.html().replace(/{{suggestions}}/g,
c);W.append(c);ca.text(a.results[0].name)}});F()}else 3>Y.val().length&&(W.empty(),T.empty(),G());da=Y.val()}else a.keyCode===ia.rightArrow&&""!==ca.text()&&(Y.val(ca.text()),Z=ua.suggestionSearch,u(Z),X.eventInfo.eventName="search via suggestion",X.eventInfo.eventAction="select",X.eventInfo.effect="user selects suggestion in search bar",h(X,!0))}function l(){var a=[],b;for(b in P)P.hasOwnProperty(b)&&a.push(b+"\x3d"+P[b]);return a.length?"?"+a.join("\x26"):""}function t(){aa=!0;T.attr("aria-busy",
"true")}function r(a,b,c,d){return a.replace(/{{ENCODED_QUERY}}/g,escape(b)).replace(/{{START}}/g,c).replace(/{{NUM}}/g,d).replace(/{{PARTNER_ID}}/g,wa?wa:"")}function v(a,b){var c=!1;a<b&&(c=!0);return c}function w(a){for(var b=0,c=a.length,d,f={};b<c;b++)d=a[b],f[d.N]=d.V;return f}function x(a,b,c){var d=a.GSP||{};a=d.Q;c=(d.RES||{}).R||[];Array.isArray(c)||(c=[c]);var f=(d.RES||{}).M||0,e="og:image md:priceFrom md:heading md:subheading md:modelName md:accessoryName md:modelRangeCode md:backImageMobile md:backImageDesktop md:frontImageMobile md:frontImageDesktop pageType description".split(" ");
c.forEach(function(a,c){var d=w(a.MT);a.T&&(a.alt=a.T.replace(/<[^>]*>/ig,""));e.forEach(function(b){var c=d[b];c&&(a[b.replace(/^\w+:/,"")]=c)});b+c+1===f&&(a.isFinalResult=!0);a.isVehicle="Model"===a.pageType||"BodyType"===a.pageType;a.isKeyResult=1===a.N});d=v(b,f);var g="";c.forEach(function(a,b){b=qa.html().replace(/{{resultListItemClass}}/g,(a.isFinalResult?"md-search-result-final-result":"")+(a.frontImageMobile||a.frontImageDesktop?" md-search-result-has-image":"")).replace(/{{resultLink}}/g,
a.U).replace(/{{resultTitle}}/g,a.modelName||a.accessoryName||a.T).replace(/{{resultTextClass}}/g,a.image?"md-search-result-text-beside-image":"").replace(/{{resultDescription}}/g,a.description||a.S);b=a.image?b.replace(/{{ifHasResultImage}}/g,"").replace(/{{\/ifHasResultImage}}/g,"").replace(/{{resultImage}}/g,a.image):b.replace(/{{ifHasResultImage}}[.\s\S]*{{\/ifHasResultImage}}/g,"");a.frontImageMobile||a.frontImageDesktop?(a=ya.html().replace(/{{frontImageMobile}}/g,a.frontImageMobile?a.frontImageMobile:
"").replace(/{{frontImageDesktop}}/g,a.frontImageDesktop?a.frontImageDesktop:"").replace(/{{altText}}/g,a.alt?a.alt:"").replace(/style="display:none;"/,""),b=b.replace(/{{ifHasResponsiveImage}}/g,"").replace(/{{\/ifHasResponsiveImage}}/g,"").replace(/{{responsiveImage}}/g,a)):b=b.replace(/{{ifHasResponsiveImage}}[.\s\S]*{{\/ifHasResponsiveImage}}/g,"");g+=b});c=pa.html().replace(/{{searchResults}}/g,g);c=d?c.replace(/{{ifHasResults}}/g,"").replace(/{{\/ifHasResults}}/g,"").replace(/{{ifHasNoResults}}[.\s\S]*{{\/ifHasNoResults}}/g,
""):c.replace(/{{ifHasNoResults}}/g,"").replace(/{{\/ifHasNoResults}}/g,"").replace(/{{ifHasResults}}[.\s\S]*{{\/ifHasResults}}/g,"");return c=c.replace(/{{searchTerm}}/g,a).replace(/{{numberOfResults}}/g,f)}function u(a){var c=Y.val();W.empty();ca.empty();if(0<Y.val().length&&!aa){F();T.empty().append(na);Ea.abort();t();var d=r(ma,encodeURIComponent(c),10*E,10);Ea=g.get(d).always(function(d){aa=!1;T.removeAttr("aria-busy");d=x(d,10*E,10);T.empty().append(d);b.each(T.find(p.responsiveImage),function(a,
b){e.attempt("responsiveimage.init",e)(b)});Y.blur();T.height();P.miniSearchTerm=encodeURIComponent(Y.val());f(c,E,T.find(p.searchResultList).data("totalResults")||0,a);b(document).trigger("search:returned");k.pushState({uri:location.search?location.href.replace(location.search,l()):location.href+l(),title:ka+": "+Y.val().toUpperCase()});O.text(ka+": "+Y.val().toUpperCase())})}else G()}function y(a){a.preventDefault();z({disableTracking:!0});Z=ua.userTyped;u(Z);X.eventInfo.eventName="search via type in";
X.eventInfo.eventAction="type in";X.eventInfo.effect="user types in search bar";h(X,!0)}function B(){var a=encodeURIComponent(Y.val());if(!T.find(p.searchResultFinalResult).length&&!aa){Ea.abort();T.append(na);t();var c=r(ma,a,10*(E+1),10);Ea=g.get(c).done(function(c){aa=!1;T.removeAttr("aria-busy");c=x(c,10*E,10);c=b("\x3cdiv\x3e"+c+"\x3c/div\x3e").find(p.searchResultList);var d=T.find(p.searchResultList);0===c.children.length?d.find(p.searchResult).last().addClass("md-search-result-final-result"):
(b.each(c.find(p.responsiveImage),function(a,b){e.attempt("responsiveimage.init",e)(b)}),E+=1,f(a,E,d.data("totalResults")||0,Z),d.append(c.children()),na.remove(),X.eventInfo.eventName="scroll in search results",X.eventInfo.eventAction="scroll",X.eventInfo.effect="user scrolls to see more results",h(X,!0))})}}function z(a){a=a||{};E=0;Z=ua.none;a=a.disableTracking||!1;F();ca.empty();W.empty();T.empty();Y.focus();delete P.miniSearchTerm;k.pushState({uri:location.href.replace(location.search,l()),
title:U});a||(X.eventInfo.eventName="clear",X.eventInfo.eventAction="backspace/delete",X.eventInfo.effect="user resets search form",h(X,!0))}function C(a){var c=b(a.currentTarget),d=c.text();c=c.hasClass("md-search-suggestion-link-is-disambiguation");a.preventDefault();z({disableTracking:!0});a=Z=c?ua.disambiguation:ua.suggestionSearch;Y.val(d);u(a)}function A(a){C(a);X.eventInfo.eventName="search via suggestion";X.eventInfo.eventAction="click";X.eventInfo.effect="user clicks on suggestion in list below search bar";
h(X,!0)}function D(a){N.removeClass(M.close);oa=za.open;Y.val("").focus();E=0;T.empty();G();ra||L===window.location.href||(c.search.init(xa,la),ra=!0,L=window.location.href);a&&(X.eventInfo.eventName="open search",X.eventInfo.eventAction="click",X.eventInfo.effect="user opens a search",h(X,!0))}function H(a){a=b(a.currentTarget).find(p.recommendationsSearch).text();var c=Z=ua.recommendedSearch;Y.val(a);u(c);X.eventInfo.eventName="search recommendation";X.eventInfo.eventAction="click";X.eventInfo.effect=
"user click on recommendation";h(X,!0)}function F(){Q.css("display","none")}function G(){Q.css("display","block")}function K(){b(p.recommendationsValues).each(function(a,c){a=JSON.parse(c.value);var d=b(c).parent();c=d.find(p.recommendationsTitle);var f=d.find(p.recommendationsSearch);d=d.find(p.recommendationsText);c.text(a.title);f.text(a.search);d.text(a.text)})}function I(){S&&(oa===za.closed?D(!0):(F(),N.addClass(M.close),oa=za.closed,E=0,Y.blur(),ca.empty(),W.empty(),delete P.miniSearchTerm,
k.pushState({uri:location.href.replace(location.search,l()),title:U}),X.eventInfo.eventName="close search",X.eventInfo.eventAction="click",X.eventInfo.effect="user closes a search",h(X,!0),ra=!1))}var S=!1,J=b(a),L={},R=J.height(),O=b("title"),U=O.text(),N,T,Q,da,W,ca,Y,V,la="",sa,ta,pa,qa,ya,na=b('\x3cdiv class\x3d"md-icn-loader"\x3e'),M={close:"md-search-close"},p={responsiveImage:".md-rimage",searchForm:".md-search-form",searchInputField:".md-search-form-input",searchSuggestions:".md-search-suggestions",
searchSuggestion:".md-search-suggestion",searchSuggestionTemplate:"#md_search_suggestion_template",searchSuggestionsListTemplate:"#md_search_suggestions_list_template",searchSuggestionLink:".md-search-suggestion-link",searchResults:".md-search-results",searchResult:".md-search-result",searchResultList:".md-search-result-list",searchResultLink:".md-search-result-title-link",searchResultLinkBlock:".md-search-result-link-block",searchResultFinalResult:".md-search-result-final-result",searchResultsTemplate:"#md_search_results_template",
searchResultTemplate:"#md_search_result_template",searchResultResponsiveImgTemplate:"#md_search_result_responsiveimg-template",recommendationsContainer:".md-search-rcontainer",searchRecommendations:".md-search-recommendations",recommendationsSearch:".md-search-recommendations-search",recommendationsTitle:".md-search-recommendations-title",recommendationsText:".md-search-recommendations-text",recommendationsValues:".md-search-recommendations-values",closeButton:".md-search-button-close"},za={closed:"closed",
open:"open"},ia={upArrow:38,downArrow:40,rightArrow:39,enter:13},ua={none:"",recommendedSearch:"recommendedSearch",suggestionSearch:"suggestionSearch",userTyped:"userTyped",bookmarked:"bookmarked",disambiguation:"disambiguation"},ba={recommendedSearch:"business defined",suggestionSearch:"autocomplete",userTyped:"type in",bookmarked:"type in",disambiguation:"disambiguation"},oa=za.closed,Z=ua.none,E=0,wa="",P=function(){var a={},b=location.search;b=b?b.replace("?","").split("\x26"):[];for(var c=0,
d=b.length,f;c<d;c++)f=b[c].split("\x3d"),a[f[0]]=f[1];return a}(),ma="",ja="",ka="",xa={},ra=!1,X={eventInfo:{}},Aa={attributes:{}},Ea={abort:function(){}},aa=!1,La;return{init:function(a,c,f,g){xa=g;La=f(a).find("#encodehtml");f.subscribe("md:resize",function(){R=J.height()});N=f(a).on("scroll",function(){f(this).scrollTop()>T.height()-R&&B()});la=N.data("componentId");ja=N.data("md-search-suggestions-url");wa=e.cookiecontroller.getPersistence("cc_last_visited_dealer");a="true"==N.data("md-search-is-dealer-page");
ma=wa&&!a?N.data("md-search-partner-non-dealer-page-search-url"):a?N.data("md-search-dealer-page-search-url"):N.data("md-search-default-default-search-url");N.data("md-search-locale");ka=N.data("md-search-results-text");T=N.find(p.searchResults);T.height();N.find(p.searchRecommendations).on("click","li",H);Q=N.find(p.recommendationsContainer);W=N.find(p.searchSuggestions);sa=N.find(p.searchSuggestionTemplate);ta=N.find(p.searchSuggestionsListTemplate);pa=N.find(p.searchResultsTemplate);qa=N.find(p.searchResultTemplate);
ya=N.find(p.searchResultResponsiveImgTemplate);Y=N.find(p.searchInputField).on("keydown",n).on("keyup",q).on("keyup change focus",m);N.find(p.closeButton).on("click",I);V=N.find(p.searchForm).on("submit",y).on("reset",z);ca=f("\x3cdiv\x3e").addClass("md-search-suggestion-primary").appendTo(V);N.on("keydown",p.searchSuggestionLink,n).on("click",p.searchSuggestionLink+":focus",C).on("click",p.searchSuggestionLink,A);S=!0;if(P.miniSearchTerm)J.on("load",function(){var a=decodeURIComponent(P.miniSearchTerm);
a=b(La).text(a).html();Z=ua.bookmarked;D(!1);X.eventInfo.eventAction="load";X.eventInfo.eventName="result";X.eventInfo.effect="user opens a search result page";h(X,!1);var c=Z;Y.val(a);u(c)});K();T.on("click","a",d)},trigger:I}}(mini.digital.$,mini.digital.util,mini.digital.util.historyManager,mini.digital.util.request,mini.digital.tracking,window)})();
(function(){mini.digital.tracking.search=function(){var b,e={},k={eventInfo:{eventName:"",eventAction:"click",timeStamp:Date.now(),eventPoints:"",cause:"default",effect:""},category:{primaryCategory:"search",subCategory01:"navigation"},attributes:{relatedComponentID:"",relatedComponentName:"search",relatedComponentPrimaryCategory:"search"}};return{init:function(g,c){if(b=g)"function"===typeof b.initComponentTracking&&(e=b.initComponentTracking({componentInfo:{componentId:c,componentName:"search"},
category:{primaryCategory:"search",subCategory01:""},attributes:{onsiteSearchTerm:"",onsiteSearchPage:"",onsiteSearchResults:"",onsiteSearchType:""}})),k.attributes.relatedComponentID=c},updateTracking:function(g,c){b&&"function"===typeof b.updateComponentTracking&&b.updateComponentTracking(e.componentIndex,{componentInfo:{componentId:g},attributes:c},e.pageId)},setCurrentEvent:function(g){b&&(g.eventInfo.timeStamp=Date.now(),"function"===typeof b.addEventTracking&&b.addEventTracking(k,g,e.pageId))}}}()})();
mini.digital.comp.gcdm.controllers.profile=function(b,e,k){return{init:function(){b.appModule.controller("mdProfileController",["$scope","$rootScope","GcdmMetadataApiService","GcdmPrefillDealerService","MdCasaProfile","GcdmStorageService",function(b,c,a,d,f,e){b.valuesBusinessPartner=a.getValuelists().selectValues.businessPartner;b.valuesAddress=a.getValuelists().selectValues.address;b.mdProfileCasa=f.casaProfile;b.$watch("[gcdmFormModel, valuesBusinessPartner.titles, valuesAddress.country]",function(){if(b.gcdmFormModel&&
b.gcdmFormModel.businessPartner){var a=e.get(window.gcdm.STORAGE_KEY.BUSINESS_PARTNER);a||(a=e.get(window.gcdm.STORAGE_KEY.BUSINESS_PARTNER_LOGGED_IN));b.gcdmFormModel.profile.personalIdentifications=a.profile.personalIdentifications;b.gcdmFormModel.businessPartner.title&&(b.gcdmBupaTitleSelected=b.valuesBusinessPartner.titles[b.gcdmFormModel.businessPartner.title]);b.gcdmFormModel.businessPartner.salutation&&(b.gcdmBupaSalutationSelected=b.valuesBusinessPartner.salutations[b.gcdmFormModel.businessPartner.salutation]);
b.gcdmFormModel.businessPartner.addresses&&b.gcdmFormModel.businessPartner.addresses[0]&&b.gcdmFormModel.businessPartner.addresses[0].country&&(b.gcdmAddressCountrySelected=b.valuesAddress.country[b.gcdmFormModel.businessPartner.addresses[0].country]);a=c.$$phase;"$apply"!==a&&"$digest"!==a&&b.$apply()}b.gcdmFormModel&&(a=JSON.parse(k.getPersistence("gcdm-preferredDealer")),b.gcdmDealer=a?a.MINI:null)},!0)}])}}}(mini.digital.comp.gcdm,mini.digital.$,mini.digital.util.cookiecontroller);
mini.digital.comp.gcdm.controllers.profileChange=function(b,e){return{init:function(){b.appModule.controller("mdProfileChangeController",["$scope","$rootScope","$timeout","GcdmEventHandlingService","MdCasaProfile","casaProfileService",function(b,g,c,a,d,f){b.mdProfileCasa=angular.copy(d.casaProfile);b.failedToUpdate=!1;b.mdProfileChangeCancel=function(){g.$broadcast("md:formgcdm:loadform","profile")};b.isRequiredPhone=function(){var a=b[b.gcdmFormName];return!a.phonePrivate.$modelValue&&!a.landPrivate.$modelValue&&
!a.phoneBusiness.$modelValue};a.subscribe("success",function(a,c){c&&c.id&&"profilechange"===c.id&&(f&&b.isMyVehicleEnabled&&d.casaProfile&&d.casaProfile.preferredCommunicationChannel!=b.mdProfileCasa.preferredCommunicationChannel?(d.casaProfile.preferredCommunicationChannel=b.mdProfileCasa.preferredCommunicationChannel,f.updateProfile(d.accessToken,d.casaProfile).then(function(a){g.$broadcast("md:formgcdm:loadform","profile")},function(){console.log("failed to update the communication channel");
b.failedToUpdate=!0})):g.$broadcast("md:formgcdm:loadform","profile"))});b.gcdmIsLoggedIn&&b.gcdmIsLoggedIn()&&(e.manageEvents(),c(function(){window.mini.digital.$(".md-form-gcdm-btn-finder").trigger("click")}))}])}}}(mini.digital.comp.gcdm,mini.digital.comp.formgcdm);
mini.digital.comp.gcdm.controllers.deleteAccount=function(b){return{init:function(){b.appModule.controller("mdDeleteAccountController",["$scope","$rootScope",function(b,k){b.mdDeleteAccountCancel=function(){k.$broadcast("md:formgcdm:loadform","profile")};b.mdDeleteAccountConfirmationClose=function(){k.$broadcast("md:formgcdm:loadform","home")}}])}}}(mini.digital.comp.gcdm);
mini.digital.comp.gcdm.controllers.loginIdChange=function(b){return{init:function(){b.appModule.controller("mdLoginIdChangeController",["$scope","$rootScope",function(b,k){b.mdLoginIdChangeCancel=function(){k.$broadcast("md:formgcdm:loadform","profile")}}])}}}(mini.digital.comp.gcdm);
(function(){mini.digital.tracking.standardselector=function(b){function e(b){k&&k.isTrackingDisabled()||(b.modelRangeLongName&&(f.productInfo.productName=b.modelRangeLongName,f.productInfo.description=b.modelRangeLongName,f.category.subCategory01=b.modelRangeLongName,f.attributes.bodyName=b.modelRangeLongName),b.modelRangeCode&&(f.attributes.bodyType=b.modelRangeCode),b.modelCode&&(f.attributes.modelCode=b.modelCode,f.productInfo.productID=b.modelCode),b.modelName&&0<b.modelName.length&&(f.attributes.modelName=
b.modelName),b.price&&(f.attributes.sellingPriceTotal=b.price),a&&k.updateProductTracking(a.productIndex,f,a.pageId))}var k,g,c=-1,a=void 0,d="",f={},h={CONFIGURATOR_START:{name:"configurator start",effect:"start of configuration process"},CHOOSE_BODY_TYPE:{name:"choose body type",subCategory:"body type"},CHOOSE_MODEL_TYPE:{name:"choose model type",subCategory:"model type"},CHOOSE_TRANSMISSION:{name:"choose transmission type",subCategory:"transmission type"},CLOSE_CHOOSE_BODY_TYPE_LAYER:{name:"close layer choose body type",
componentName:"vco pre steps",relatedComponentPrimaryCategory:"process",effect:"layer closes"},CLOSE_CHOOSE_MODEL_TYPE_LAYER:{name:"close layer choose model type",componentName:"vco pre steps",relatedComponentPrimaryCategory:"process",effect:"layer closes"},CLOSE_LAYER_CHOOSE_TRANSMISSION:{name:"close layer choose transmission",componentName:"vco pre steps",relatedComponentPrimaryCategory:"process",effect:"layer closed"}};return{init:function(a,c){k&&k.isTrackingDisabled()||(k=a,g=c,d=b(c).attr("id"),
b(c).data("component-name"))},initProduct:function(c){k&&k.isTrackingDisabled()||(b.extend(f,{productInfo:{description:"",manufacturer:"MINI",productID:"",productImage:"",productName:"",productThumbnail:"",productURL:""},category:{primaryCategory:"new car",subCategory01:""},attributes:{bodyName:"",bodyType:"",modelName:"",modelCode:"",relatedComponentID:d,relatedComponentName:"vco pre steps",relatedComponentPrimaryCategory:"",sellingPriceTotal:""}}),f.productInfo.productID="na",a=k.initProductTracking(f,
k.getCurrentPageIndex()),c&&e(c))},updateTrackProduct:e,addCurrentEvent:function(a,f){if(!k||!k.isTrackingDisabled())if(k&&(c=k.getCurrentPageIndex()),0>c&&(c=b(g).data("tracking-page-index")),-1<c){var e={};var h={eventInfo:{eventName:"",eventAction:"click",timeStamp:"",cause:"default",effect:"layer closed",eventPoints:""},category:{primaryCategory:"layers model selection",subCategory01:""},attributes:{relatedComponentID:"",relatedComponentName:"",relatedComponentPrimaryCategory:""}};b.extend(e,
h);e.attributes.relatedComponentName=a.componentName;e.attributes.relatedComponentPrimaryCategory=a.relatedComponentPrimaryCategory;e.attributes.relatedComponentID=d;e.eventInfo.timeStamp=Date.now();e.eventInfo.eventName=a.name;e.eventInfo.effect=a.effect;f&&b.extend(e.attributes,f);k.addEventTracking(h,e,c)}},addVirtualPage:function(a){if(!k||!k.isTrackingDisabled()){var c=k.getPageObject(k.getCurrentPageIndex()),d={pageInfo:{breadCrumbs:[],pageName:a.name,pageInstanceId:a.name,devEnv:"",geoRegion:"",
language:""},category:{primaryCategory:"layers model selection",subCategory01:a.subCategory},attributes:{underlyingPage:"",virtualPage:"true"}};c&&c.page&&c.page.pageInfo&&(d.attributes.underlyingPage=c.page.pageInfo.pageName,d.pageInfo.devEnv=c.page.pageInfo.devEnv,d.pageInfo.geoRegion=c.page.pageInfo.geoRegion,d.pageInfo.language=c.page.pageInfo.language,d.pageInfo.pageInstanceId=c.page.pageInfo.pageName+"_"+a.name,b.extend(d.pageInfo.breadCrumbs,c.page.pageInfo.breadCrumbs));d&&d.pageInfo&&d.pageInfo.breadCrumbs&&
d.pageInfo.breadCrumbs.push(a.name);c=k.addVirtualPage({page:d,component:[],event:[],product:[]},null,null);a.name!=h.CHOOSE_BODY_TYPE.name&&a.name!=h.CLOSE_CHOOSE_MODEL_TYPE_LAYER.name||k.initComponentTracking(b(g),c.pageId)}},closeCurrentVirtualPage:function(){k.closeVirtualPage(k.getCurrentPageIndex())},constants:h}}(mini.digital.$)})();mini.digital.comp.standardselector=mini.digital.comp.standardselector||{};
(function(){mini.digital.comp.standardselector.common={CONST:{COMPONENT_TYPE_FORM_DROPDOWN:"formdropdown",COMPONENT_TYPE_DEFAULT:"default",COMPONENT_INTEGRATION_CONFIGURATOR:"configurator",COMPONENT_INTEGRATION_FORM:"form",COMPONENT_INTEGRATION_HMC:"hmc",modelRangeCode:"modelRangeCode",modelCode:"modelCode",configUrl:"configUrl",shareConfigUrl:"shareConfigUrl",modelCodeSeparator:"-",basketSource:"standardselector",modelName:"modelName"},selector:{ddModelRange:".md-form-ss-model-range",ddModel:".md-form-ss-model",
overlayToggle:".md-standard-selector-toggle",modelRows:".md-js-form-ss-item-model",modelRangeImage:".md-js-ss-model-range-image",errorDisplay:".md-form-ss-error",modelRangeItem:".md-ss-range-item",linkModelRange:".md-ss-range-link",standardSelectorLayer:".md-standard-selector-layer",modelsContainer:".md-ss-models",modelsTabContent:".md-ss-models-tab-content",modelsTabLink:".md-ss-models-tab-link",modelsTabContainer:".md-ss-models-content",modelsListItem:".md-ss-models-list-item",modelsItemLink:".md-ss-models-list-link",
modelItemStartConfiguratorLink:".md-ss-model-item-start-configurator-link",modelsTabContentMain:".md-ss-models-content-main",modelsTabHeader:".md-ss-models-tab",modelsTabTitle:".md-ss-model-tab-title",toggle:".md-toggle",overlay:".md-custom-overlay",overlayScrollable:".md-custom-overlay-main",overlayAlwaysScrollable:".md-custom-overlay-type-steps",compConfigurator:".md-configurator",compFormGcdmTDA:".md-form-gcdm-tda",compFormGcdmTDAVariant2:".md-form-gcdm-tdavariant2",compFormGcdmRFI:".md-form-gcdm-brochure",
compFormGcdmRFS:".md-form-gcdm-service",compFormGcdmRFO:".md-form-gcdm-offer",compFormGcdmRFA:".md-form-gcdm-accessory",compCumise:".md-custom-selector",compCompareSelection:".md-compareselection",compHelpMeChoose:".md-hmc",hmcRangeTicker:".md-ss-hmc-range-ticker",hmcResultRangeTicker:".md-hmcresults-range-ticker",modelsListLayer:".md-custom-layer",basketFullWrapper:".md-compare-basket-full-overlay-wrapper",basketFullOverlayTitle:".md-compare-basket-full-overlay-title",basketFullOverlayContent:".md-compare-basket-full-content",
hmcHasFilterModel:".md-ss-hmc-has-models",hmcResultModelListItem:".md-hmcresults-model-list-item",rangeFlipButton:".md-ss-range-flip-button",selectorComponent:".md-standard-selector",hmcSelectModel:".md-hmcresults-models-link",hmcResultsOverlay:".md-hmc-result-overlay",hmcResultsOverlayVeil:".md-hmc-result-overlay-veil",hmcResultsOverlayContent:".md-hmc-result-overlay-content",hmcResultsOverlayClose:".md-hmc-result-overlay-close",modelRangeDropdown:".md-ss-range-dropdown",modelRangeDropdownOption:".md-ss-range-dropdown-option",
modelRangeModelsDropdownOption:".md-ss-range-models-dropdown",modelRangesData:".md-ss-model-ranges-data",modelBrochuresRangesData:".md-ss-broschure-ranges",rangeList:".md-ss-range-list",selectedItem:".md-ss-selected-item"},cssClass:{hide:"md-form-ss-hide",ngHide:"ng-hide",active:"md-active",linkModelRangeEdit:"md-ss-range-link-edit",disableScroll:"md-custom-overlay-disable-scroll",modelsItemSelected:"md-ss-compare-item-selected",toggleHidden:"md-ss-toggle-hidden",hmcHasFilterModel:"md-ss-hmc-has-models",
hmcRowVisibleLast:"md-ss-hmc-visible-last",hmcModelSatisfyFilter:"md-hmcresult-satisfy-filter",hmcModelSelected:"md-hmcresults-selected",enabled:"md-enabled",visible:"md-visible",loader:"md-icn-loader",rangeItemHiglight:"md-ss-range-item-highlight",selectedItem:"md-ss-selected-item",notSelectedItem:"notSelectedItem",fadeRangeItems:"md-ss-fade-range-items"},events:{configuratorInitialise:"md:configurator:initialise",configuratorLoading:"md:configurator:loading",configuratorChanged:"h5vco.configurationChanged",
loadingRemove:"md:customselector:loading:remove",loadingAdd:"md:customselector:loading:add",overlayConfigurator:"md:configurator:model:changed",ctaRfoUnconfigured:"md:cta:rfo:unconfigured",overlayOpened:"md:overlay:opened",overlayClosed:"md:overlay:closed",overlayClose:"md:standardselector:overlay:close",gcdmModelBroadcast:"md:standardselector:formgcdm:broadcast",overlayContentLoaded:"md:overlay:contentLoaded",toggleInit:"md:toggle:init",toggleUpdate:"md:toggle:update",layerContentLoaded:"md:layer:contentLoaded",
layerMoveComplete:"md:layer:move:complete",layerOpened:"md:layer:opened",layerClosed:"md:layer:closed",layerClosing:"md:overlay:closing",modCompareInitialise:"md:selector:mod:compare:initialise",selectorInitialised:"md:selector:initialised",hmcDataFiltered:"md:hmc:filteredData",modelTypeChange:"md:selector:model:type:changed",rangeLinkClicked:"md:selector:range:clicked",hmcPageResize:"md:resize",favouriteModelUpdated:"md:favouritemodel:updated",hmcOverlayFilter:"md:hmcresults:overlay:filter",hmcOverlayClosed:"md:hmcresults:overlay:closed",
standardSelectorInitModel:"md:standardselector:init:model"},dataKeys:{ssItemCode:"ssItemCode",ssItemModelName:"ssItemModelName",ssItemModelLongName:"ssItemModelLongName",ssItemRangeName:"ssItemRangeName",ssItemRangeLongName:"ssItemRangeLongName",ssItemDefaultModelCode:"ssItemDefaultModelCode",ssItemSelectedModelCode:"ssItemSelectedModelCode",ssItemSelectedModelName:"ssItemSelectedModelName",ssItemSelectedConfigUrl:"ssItemSelectedConfigUrl",ssItemSelectedShareConfigUrl:"ssItemSelectedShareConfigUrl"}}})();
mini.digital.comp.standardselector=mini.digital.comp.standardselector||{};
(function(b,e,k,g,c){mini.digital.comp.standardselector.overlayManager=function(){var a=[],d="",f={},h={},n,m=k.common.selector,q=k.common.events,l=function(){h.destroy&&"function"===typeof h.destroy&&h.destroy()},t=function(a){a&&a.requester&&(n=a.requester.data("overlay"))},r=function(a){a&&a.requester&&(n=null)},v=function(a){l();h=b.mdOverlay({source:(f.configurator||d+"/standard-selector/configurator")+"/_jcr_content/main/par/standardselector.html?wcmmode\x3ddisabled",ajax:!0,titleFromContent:!0,
titleSelector:a?".md-ss-component-title-"+a:".md-ss-component-title-default",style:"flexible-width",history:!1},b('\x3cdiv class\x3d"'+m.overlayToggle.substr(1)+'"\x3e\x3c/div\x3e'));h.openOverlay()},w=function(){var a=h&&Object.keys(h).length?h:g.getCurrentOverlay();if(null===a&&c.isRunning){var d;b(".md-configurator-cta").each(function(c,f){(d=b(f).data("overlay"))&&d.settings&&d.settings.open&&d.closeOverlay&&(a=d)});d&&b("html").removeClass("md-configurator-next-steps-is-open")}null===a&&n&&(a=
n);a&&a.closeOverlay&&"function"===typeof a.closeOverlay&&(e.overlay.enableScrollBehind(a.$overlay,a.$overlayWrapper),e.veil.hideAllVeils(),a.closeOverlay())},x=function(){e.unsubArray(a);a.push(b.subscribe(q.overlayConfigurator,v));a.push(b.subscribe(q.ctaRfoUnconfigured,function(){v("rfo")}));a.push(b.subscribe(q.overlayToClose,w));a.push(b.subscribe(q.overlayOpened,t));a.push(b.subscribe(q.overlayClosed,r))};return{initialise:function(){var a=window.location.pathname.split("/");d=-1!==a[1].indexOf("content")?
a.slice(0,7).join("/"):a.slice(0,3).join("/");a=b(".md-standard-selector:first");f.configurator=a.data("configuratorPath");x()},overlayToClose:w,destroyOverlay:l}}()})(mini.digital.$,mini.digital.util,mini.digital.comp.standardselector,mini.digital.comp.ctas,mini.digital.comp.configurator);
(function(b,e,k,g,c,a,d,f,h){var n=function(a){this.$elem=b(a);this.$rangeLink;this.$rangeFlipButton;this.$standardSelectorLayer;this.$layer;this.dataParamModelRangeCode;this.listeners=[];this.moduleName="standardselector";this.layerName="standardselectorlayer";this.CONST=e.common.CONST;this.selector=e.common.selector;this.cssClass=e.common.cssClass;this.events=e.common.events;this.dataKeys=e.common.dataKeys;this.$rangeDropdown;this.$rangeModelDropdown;this.$modelRangesData;this.$modelBrochuresRangesData};
n.prototype={destroyLayer:function(){var a=this.$elem.find(this.selector.standardSelectorLayer).not(".md-component-defer"),b=a.data(this.layerName);b&&b.destroy&&(this.$elem.removeData(this.layerName),b.destroy(a))},onLayerClosed:function(a){if(a&&a.requester){this.destroyLayer();this.$layer=null;var b=a.requester.closest(this.selector.overlay);this.integration===this.CONST.COMPONENT_INTEGRATION_CONFIGURATOR&&(this.addCurrentEvent(h.constants.CLOSE_CHOOSE_MODEL_TYPE_LAYER,{}),this.closeCurrentVirtualPage());
this.$elem.find(a.requester).length&&b.length&&b.removeClass(this.cssClass.disableScroll)}},onChooseRangeLayerClosed:function(a){this.integration===this.CONST.COMPONENT_INTEGRATION_CONFIGURATOR&&(this.addCurrentEvent(h.constants.CLOSE_CHOOSE_BODY_TYPE_LAYER,{}),this.closeCurrentVirtualPage())},onLayerOpened:function(a){if(a&&a.requester){var b=a.requester.closest(this.selector.overlay);this.$layer=a.requester;this.$elem.find(a.requester).length&&b.length&&!b.find(this.selector.overlayAlwaysScrollable).length&&
b.addClass(this.cssClass.disableScroll).find(this.selector.overlayScrollable).scrollTop(0)}},onLayerContentLoaded:function(a){a&&a.requester&&this.$elem.find(a.requester).length&&a.layerContent.find(".md-component-defer").removeClass("md-component-defer")},setLayer:function(a,b){a.layer({source:b,constrain:this.$elem,group:"md-standard-selector",initialiseSource:!0,style:"standard-selector"})},closeLayer:function(){this.$layer&&this.$layer.data("layer")&&this.$layer.data("layer").close&&this.$layer.data("layer").close()},
initLayer:function(){var a=this;this.integration!==this.CONST.COMPONENT_INTEGRATION_HMC&&(this.$rangeLink.each(function(c,d){c=b(d);d=c.attr("data-ss-item-code");d=a.$standardSelectorLayer.filter("[data-ss-item-code\x3d"+d+"]");c.hasClass(a.cssClass.linkModelRangeEdit)||a.setLayer(c,d)}),this.$rangeDropdown.children("option").each(function(c,d){c=b(d);if(d=c.data("ss-item-code"))c.prop("selected",!1),d=b(a.$modelRangesData.children("li").filter('[data-ss-item-code\x3d"'+d+'"]')).find(".md-rimage").data("src-wide"),
c.attr("data-ss-image-url",d)}))},startConfigurator:function(d){var f=b(d.currentTarget);f=this.updateCurrentModel(f);c.pushState({uri:f.url+window.location.search+window.location.hash,title:mini.digital.util.currentModel.get().modelLongName});a.setDisableRender(!0);this.manageConfiguratorState({modelCode:f.code,modelFeatures:f.features?f.features:"",modelImage:f.modelImage});var e=b.subscribe("md:configurator:unload",function(){window.location.reload();b.unsubscribe(e)});d.preventDefault()},startConfiguratorModelClick:function(d){d.preventDefault();
d.stopPropagation();d=b(d.currentTarget);this.updateCurrentModel(d);b.publish(this.events.loadingAdd,[this.events.configuratorLoading]);var f=this;b.publish(this.events.configuratorInitialise,[{modelCode:d.data("ss-item-code")},function(){b.publish(f.events.loadingRemove,[f.events.configuratorLoading]);a.setDisableRender(!0);c.setInAppAction()}]);this.addCurrentEvent(h.constants.CONFIGURATOR_START)},manageConfiguratorState:function(a){f.position(b(this.selector.compConfigurator).offset().top,800);
g.isRunning()?this.updateConfigurator(a):this.loadConfigurator(a)},updateConfigurator:function(a){var d=[];g.transformModel(a);d=b.subscribe(this.events.configuratorChanged,function(){c.setInAppAction();b.unsubscribe(d)})},loadConfigurator:function(a){var f=this;b.publish(this.events.loadingAdd,[this.events.configuratorLoading]);g.manageConfiguratorLoaded(a,function(){d.loadingRemove(f.events.configuratorLoading);c.setInAppAction()})},updateCurrentModel:function(a){var b=a.data("ss-item-features"),
c=a.data("ss-item-code"),d=a.data("ss-item-range-code"),f=a.data("ss-item-range-name"),e=a.attr("href"),g={},h=a.data("ss-item-model-name"),k=a.data("ss-item-model-longname");a=a.data("ss-item-model-image");g.code=c;g.url=e;g.modelImage=a;mini.digital.util.currentModel.set({modelRangeCode:d,modelRangeName:f,modelCode:c,modelName:h,modelLongName:k,url:e,transmission:b});b.startsWith("Default,")&&(b=b.substring(8));void 0!==b&&"Default"!==b&&(g.features=b);return g},updateModelSelect:function(a,b,c){a.children(":selected").is(":first-child")?
b.empty().append(c.clone()).prop("disabled",!0):(a=c.children('option[modelrangecode\x3d"'+a.val()+'"]').first().parent(),c=a.children().filter(":selected").val(),b.empty().append(a.children().clone()).prop("disabled",!1),c&&b.children('option[value\x3d"'+c+'"]').prop("selected",!0))},flipRangeTile:function(a){b(a.currentTarget).closest(".md-ss-range-image-stat-wrapper").toggleClass("md-ss-range-flip-stat");a.stopPropagation();a.preventDefault()},onClickRangeLink:function(a){var c=b(a.currentTarget),
d=c.data("layer"),f=c.data("ss-click-to-range");b.publish(this.events.rangeLinkClicked,[{instance:d,event:a}]);this.integration===this.CONST.COMPONENT_INTEGRATION_HMC&&this.modules&&this.modules.modHmc&&this.modules.modHmc.loadRangeModels&&this.modules.modHmc.loadRangeModels(a);if(this.integration===this.CONST.COMPONENT_INTEGRATION_CONFIGURATOR&&!this.$elem.parent().hasClass("md-tv-content")){var e={modelRangeCode:c.data("ss-item-code"),modelRangeLongName:c.data("ss-model-range-longname"),modelRangeName:c.data("ss-model-range-description")};
this.addVirtualPage(h.constants.CHOOSE_MODEL_TYPE);h.initProduct();h.updateTrackProduct(e)}f||(this.integration!==this.CONST.COMPONENT_INTEGRATION_FORM||"tda"!==this.modules.modForm.currentForm&&"tdavariant2"!==this.modules.modForm.currentForm?d&&d.toggle&&d.toggle():(d=this.modules.modForm,f=c.attr("data-ss-item-default-model-code"),c={currentTarget:d.base.$elem.find(d.base.selector.modelsItemLink+'[data-ss-item-code\x3d"'+f+'"]')[0],preventDefault:function(){},rangeImage:c.find("img:visible").attr("src")},
d.onClickModelItem(c)),a.preventDefault())},addCurrentEvent:function(a,b){h.addCurrentEvent(a,b)},addVirtualPage:function(a){h.addVirtualPage(a)},closeCurrentVirtualPage:function(){this.integration==this.CONST.COMPONENT_INTEGRATION_CONFIGURATOR&&h.closeCurrentVirtualPage()},manageDefaults:function(a,b){var c=b;b||(c=mini.digital.util.currentModel.get());this.integration!==this.CONST.COMPONENT_INTEGRATION_CONFIGURATOR||this.$elem.parent().hasClass("md-tv-content")||(this.addVirtualPage(h.constants.CHOOSE_BODY_TYPE),
(b=""!==c[this.CONST.modelRangeCode]&&""===c[this.CONST.modelCode])&&this.$rangeLink.filter('[data-ss-item-code\x3d"'+c[this.CONST.modelRangeCode]+'"]').trigger("click"));if(c[this.CONST.modelRangeCode]){b=this.$rangeDropdown.children("option").filter('[data-ss-item-code\x3d"'+c[this.CONST.modelRangeCode]+'"]');var d=c[this.CONST.modelCode],f=c[this.CONST.modelName],e=c[this.CONST.configUrl],g=c[this.CONST.shareConfigUrl];e&&b.attr("data-ss-item-selected-config-url",e);g&&b.attr("data-ss-item-selected-share-config-url",
g);d&&b.attr("data-ss-item-selected-model-code",d);f&&b.attr("data-ss-item-selected-model-name",f);b.prop("selected",!0);this.$rangeDropdown.trigger("change");if(f=this.$elem.find('[data-ss-item-code\x3d"'+c[this.CONST.modelRangeCode]+'"]'))d&&f.attr("data-ss-item-selected-model-code",d),e&&b.attr("data-ss-item-selected-config-url",e),g&&b.attr("data-ss-item-selected-share-config-url",g),c[this.CONST.modelName]&&f.attr("data-ss-item-selected-model-name",c[this.CONST.modelName]),a&&a.selectModelRange(f.parent())}},
initEvents:function(){this.$rangeLink.on("click."+this.moduleName,this.onClickRangeLink.bind(this));this.$rangeFlipButton.on("click."+this.moduleName,this.flipRangeTile.bind(this));this.$elem.on("click."+this.moduleName,this.selector.modelItemStartConfiguratorLink,this.startConfiguratorModelClick.bind(this));this.$rangeModelDropdown.children();var a=this;this.$rangeDropdown.on("change",function(){var c=a.modules.modForm,d="";0<this.selectedIndex&&(d=b(this.options[this.selectedIndex]).data("ss-item-range-name"));
b(this).data("ss-item-range-name",d);c.onSelectModelRange(this)})},initListeners:function(){this.integration!==this.CONST.COMPONENT_INTEGRATION_HMC&&(this.listeners.push(b.subscribe(this.events.layerContentLoaded,this.onLayerContentLoaded.bind(this))),this.listeners.push(b.subscribe(this.events.layerOpened,this.onLayerOpened.bind(this))),this.listeners.push(b.subscribe(this.events.layerClosed,this.onLayerClosed.bind(this))),this.listeners.push(b.subscribe(this.events.layerClosing,this.onChooseRangeLayerClosed.bind(this))))},
setInternals:function(){this.$rangeLink=this.$elem.find(this.selector.linkModelRange);this.$standardSelectorLayer=this.$elem.find(this.selector.standardSelectorLayer);this.$rangeFlipButton=this.$elem.find(this.selector.rangeFlipButton);this.integration=this.$elem.data("ss-component-integration");this.dataParamModelRangeCode=this.$elem.data("param-model-range-code");this.$rangeDropdown=this.$elem.find(this.selector.modelRangeDropdown);this.$rangeModelDropdown=this.$elem.find(this.selector.modelRangeModelsDropdownOption);
this.$modelRangesData=this.$elem.find(this.selector.modelRangesData);this.$modelBrochuresRangesData=this.$elem.find(this.selector.modelBrochuresRangesData)},init:function(a){h.init(a,this.$elem);this.setInternals();this.initLayer();this.initEvents();this.initListeners();this.manageDefaults(this.modules.modForm)},destroy:function(){this.$rangeLink.off("click."+this.moduleName);this.$rangeFlipButton.off("click."+this.moduleName);this.$elem=null;k.unsubArray(this.listeners);b.isEmptyObject(this.modules)||
b.each(this.modules,function(a,b){b&&b.destroy&&b.destroy()})}};e.StandardSelectorBase=n})(mini.digital.$,mini.digital.comp.standardselector,mini.digital.util,mini.digital.comp.configurator,mini.digital.util.historyManager,mini.digital.comp.customselector.stateManager,mini.digital.comp.customselector.loadingIndicator,mini.digital.util.scrollTo,mini.digital.tracking.standardselector);
(function(b,e,k,g){mini.digital.comp.standardselectorlayer=function(){var c=function(a){this.$elem=b(a);this.$tabContent;this.$tabContentMain;this.$tabLinks;this.$listItems;this.$tabHeader;this.$tabTitle;this.$modelsContainer;this.listeners=[];this.transmissionRequired=this.isEditionRange=this.hasSpecialEditions=this.isNarrow=!1;this.defaultTransmission="";this.selector=e.common.selector;this.cssClass=e.common.cssClass;this.events=e.common.events;this.init()};c.prototype={getElementPadding:function(a){var b=
0;a&&(b=(parseInt(this.$modelsContainer.css("padding-top"),10)||0)+(parseInt(this.$modelsContainer.css("padding-bottom"),10)||0));return b},manageScrollLayout:function(){var a=this.getElementPadding(this.$modelsContainer),c=this.$elem.find(".md-ss-mrm-header").outerHeight(!0),f=this.$elem.parent().outerHeight(!0),e=0;if(this.isNarrow){this.$elem[0].getBoundingClientRect();b(window).height();var g=this;setTimeout(function(){k.scrollTo.element(g.$elem,{},800)},500)}else e=this.$tabHeader.is(":visible")?
this.$elem.find(".md-ss-models-tab").outerHeight(!0):0,this.$tabContentMain.height(f-(c+e)-a)},setToggle:function(){var a=this.$elem.find(".md-toggle"),c=!!this.$listItems.filter('[data-ss-item-features\x3d"Default"]').length,f=!!this.$listItems.filter('[data-ss-item-features\x3d"S0205"]').length,e=!!this.$listItems.filter('[data-ss-item-features\x3d"S02TB"]').length;c&&(f||e)||f&&e?(this.$elem.find("input, label").each(function(a,c){a=b(c);c=a.attr("name");var d=a.attr("id"),f=a.attr("for");c&&d?
a.attr({name:c+"_standardselectorlayer",id:d+"_standardselectorlayer"}):f&&a.attr("for",f+"_standardselectorlayer")}),a.find("input[value\x3d"+this.defaultTransmission+"]").prop("checked",!0).trigger("change",[!0]),b.each(a,function(a,b){k.toggle.init(b)})):a.addClass(this.cssClass.toggleHidden)},setActiveTab:function(a,c){this.$tabContent.add(this.$tabLinks).removeClass(this.cssClass.active).filter("[data-ss-tab-item\x3d"+a+"]").addClass(this.cssClass.active);b.publish(this.events.modelTypeChange,
[{newModelType:a,event:c}])},onClickTab:function(a){var c=b(a.currentTarget).attr("data-ss-tab-item");this.setActiveTab(c,a);a.preventDefault()},displayTabsHeader:function(a){var b=this.isNarrow?this.$tabTitle:this.$tabHeader;b.toggleClass(this.cssClass.active,a);"undefined"===typeof isEditionRange&&this.hasSpecialEditions||b.removeClass(this.cssClass.active);this.isNarrow||this.manageScrollLayout()},toggleDisplayTabsHeader:function(a){var b=!1;this.hasSpecialEditions&&!this.isEditionRange&&(b=this.$tabContent.filter('[data-ss-tab-item\x3d"specialEditions"]'),
(b=!!b.find(this.selector.modelsListItem).filter('[data-ss-item-transmission\x3d"'+a.value+'"]').length)||this.setActiveTab("standard"));this.displayTabsHeader(b)},toggleDisplayContent:function(a){this.$elem.removeClass(function(a,b){return(a=b.match(/md-ss-transmission-\w+/g))?a.join(" "):""}).addClass("md-ss-transmission-"+a.value.toLowerCase())},manageToggleDisplay:function(a){this.toggleDisplayContent(a);this.toggleDisplayTabsHeader(a)},onToggleUpdate:function(a){a&&a.type&&a.value&&this.$elem.find(a.toggle).length&&
this.manageToggleDisplay(a)},displayContent:function(){this.defaultTransmission&&this.$elem.addClass("md-ss-transmission-"+this.defaultTransmission.toLowerCase())},onLayerMoveComplete:function(a){if(a&&a.requester){var b=this.$elem.closest(this.selector.selectorComponent);b.find(a.requester).length&&this.manageScrollLayout()}},onLayerClosed:function(a){if(a&&a.requester){var b=this.$elem.closest(this.selector.selectorComponent);b.find(a.requester).length&&this.$tabContentMain.height("")}},setDefaults:function(){this.setActiveTab("standard");
this.transmissionRequired||(this.displayContent(),this.displayTabsHeader(!0))},manageComponent:function(){this.isNarrow=!k.matchmedia.wide.matches},initEvents:function(){this.$elem.on("click.standardselectorlayer",this.selector.modelsTabLink,this.onClickTab.bind(this))},initListeners:function(){this.listeners.push(b.subscribe(this.events.toggleInit,this.onToggleUpdate.bind(this)));this.listeners.push(b.subscribe(this.events.toggleUpdate,this.onToggleUpdate.bind(this)));this.listeners.push(b.subscribe(this.events.layerMoveComplete,
this.onLayerMoveComplete.bind(this)));this.listeners.push(b.subscribe(this.events.layerClosed,this.onLayerClosed.bind(this)))},setInternals:function(){this.$tabContent=this.$elem.find(this.selector.modelsTabContent);this.$tabContentMain=this.$elem.find(this.selector.modelsTabContentMain);this.$tabLinks=this.$elem.find(this.selector.modelsTabLink);this.$listItems=this.$elem.find(this.selector.modelsListItem);this.$tabHeader=this.$elem.find(this.selector.modelsTabHeader);this.$tabTitle=this.$elem.find(this.selector.modelsTabTitle);
this.$modelsContainer=this.$elem.find(this.selector.modelsContainer);this.defaultTransmission=this.$elem.data("ss-default-transmission");this.transmissionRequired=this.$elem.data("ss-transmission-required");this.hasSpecialEditions=!!this.$tabLinks.filter('[data-ss-tab-item\x3d"specialEditions"]').length;this.isEditionRange=this.$elem.attr("ss-is-edition-range");this.$listItems.on("click",function(a){a=b(a.target.parentElement);a={modelCode:a.data("ss-item-code"),modelName:a.data("ss-item-model-name"),
modelLongName:a.data("ss-item-model-longname"),modelRangeCode:a.data("ss-item-range-code"),modelRangeLongName:a.data("ss-item-range-name"),price:a.data("ss-item-model-price")};g.updateTrackProduct(a)})},init:function(){this.setInternals();this.manageComponent();this.setDefaults();this.setToggle();this.initEvents();this.initListeners()},destroy:function(a){a=b(a);var c=a.find(".md-toggle");b.each(c,function(a,b){k.toggle.teardown(b)});a.off("click.standardselectorlayer");this.$tabContentMain.height("");
k.unsubArray(this.listeners)}};return{init:function(a){b(a).data("standardselectorlayer",new c(a))},teardown:function(a){a=b(a);var c=a.data("standardselectorlayer");c&&(a.removeData("standardselectorlayer"),c.destroy())}}}()})(mini.digital.$,mini.digital.comp.standardselector,mini.digital.util,mini.digital.tracking.standardselector);
(function(b,e,k,g,c,a,d,f){var h=function(a){this.base=a;this.moduleName="modConfigurator";this.isEnabled=!1;this.onShelfClosed;this.timerShelfClosed;this.closeShelfDelay=800;this.init.apply(this)};h.prototype={setConfiguration:function(a){var c=this,d={},f=mini.digital.comp.myminishelf;this.onShelfClosed&&this.timerShelfClosed&&(window.clearTimeout(this.timerShelfClosed),b.unsubscribe(this.onShelfClosed),this.timerShelfClosed=this.onShelfClosed=null);d.modelCode=a.code;d.modelFeatures=a.features?
a.features:"";d.modelImage=a.modelImage;g.overlayToClose();f&&f.shelfIsOpen()?(this.onShelfClosed=b.subscribe("md:mymini:closed",function(){c.timerShelfClosed=window.setTimeout(function(){c.base.closeLayer();c.base.manageConfiguratorState(d);b.unsubscribe(c.onShelfClosed)},c.closeShelfDelay)}),f.trigger()):this.base.manageConfiguratorState(d)},updateState:function(b,c,d){var f="";this.isEnabled||(f=d.features?"\x26configFeatures\x3d"+d.features:"",f="?configCode\x3d"+d.code+f);k.pushState({uri:b+
f+window.location.hash,title:c});this.isEnabled?a.setDisableRender(!0):window.location.reload()},onClickModelItem:function(a){var e=b(a.currentTarget),h=e.closest(".md-standard-selector-layer"),k=e.data("ss-item-features"),n=e.data("ss-item-code"),r=h.data("ss-item-code");h=h.data("ss-item-name");var v=e.attr("href"),w={},x=e.data("ss-item-model-name"),u=e.data("ss-item-model-longname"),y=e.data("ss-item-model-image");void 0===v&&(v=b(a.currentTarget).attr("data-configurator-path")+".html");w.code=
n;w.url=v;w.modelImage=d.lazyLoadImage.retrieveProperImageUrl(y,300);y={modelRangeCode:r,modelRangeName:h,modelCode:n,modelName:x,price:e.data("ss-item-model-price")};f.updateTrackProduct(y);"_blank"==e.attr("target")?g.overlayToClose():(mini.digital.util.currentModel.set({modelRangeCode:r,modelRangeName:h,modelCode:n,modelName:x,modelLongName:u,url:v,transmission:k}),k.startsWith("Default,")&&(k=k.substring(8)),void 0!==k&&"Default"!==k&&(w.features=k),c.isRunning()||this.updateState(v,u,w),this.isEnabled&&
this.setConfiguration(w),d.browser.isMobile&&c.isRunning()&&!this.isEnabled&&this.setConfiguration(w),a.preventDefault())},initEvents:function(){this.base.$elem.on("click."+this.moduleName,this.base.selector.modelsItemLink,this.onClickModelItem.bind(this))},init:function(){this.isEnabled=!!b(this.base.selector.compConfigurator).length;this.initEvents()},destroy:function(){this.base.$elem.off("click."+this.moduleName)}};e.modConfigurator=h})(mini.digital.$,mini.digital.comp.standardselector,mini.digital.util.historyManager,
mini.digital.comp.standardselector.overlayManager,mini.digital.comp.configurator,mini.digital.comp.customselector.stateManager,mini.digital.util,mini.digital.tracking.standardselector);
(function(b,e){var k=function(b){this.base=b;this.moduleName="modForm";this.currentForm;this.standardType="";this.init.apply(this)};k.prototype={setVehicle:function(e,c){b.publish(this.base.events.gcdmModelBroadcast,[e,c,this.currentForm]);b.publish("md:overlay:iphone:resize")},onClickModelItem:function(e){var c=b(e.currentTarget),a={modelRangeCode:c.closest(".md-standard-selector-layer").attr("data-ss-item-code"),modelCode:c.data("ss-item-code"),modelUrl:c.attr("href"),vehicleName:c.data("ss-item-model-name"),
vehicleLongName:c.data("ss-item-model-longname"),rangeName:c.data("ss-item-range-name"),source:"standardselector",decodingImage:c.parents(".md-standard-selector-layer").find(".md-rimage-bp-wide").attr("src"),itemCode:c.data("ss-im-code"),cosyImageInfos:[{},{},{urlString:void 0!==e.rangeImage?e.rangeImage:c.data("ss-item-model-image")}]};this.currentForm&&(mini.digital.util.currentModel.set({modelRangeCode:a.modelRangeCode,modelRangeName:a.rangeName,modelCode:a.modelCode,modelName:a.vehicleName,modelLongName:a.vehicleLongName,
url:a.modelUrl,itemCode:a.itemCode,cosyImageInfos:a.cosyImageInfos},!1),this.setVehicle(a,c));e.preventDefault()},onSelectModelRange:function(e){var c=b(e.options[e.selectedIndex]);c.data("ss-image-url");var a=c.data("ss-item-code"),d=c.data("ss-item-default-model-code"),f=c.data("ss-item-selected-model-code"),g=c.data("ss-item-selected-model-name"),k=c.data("ssItemDefaultModelImage"),m=b(e),q={modelRangeCode:a,modelRange:a,modelCode:f?f:d,modelUrl:k,vehicleName:g?g:c.data("ss-item-model-name"),vehicleLongName:c.data("ss-item-model-longname"),
rangeName:c.data("ss-item-range-name"),rangeNameLong:c.data("ss-item-range-name-long"),configUrl:c.data("ss-item-selected-config-url"),shareConfigUrl:c.data("ss-item-selected-share-config-url"),source:"standardselector",decodingImage:k,itemCode:c.data("ss-item-code"),cosyImageInfos:[{},{},{urlString:k}]};if(this.currentForm)if(window.angular)this.setVehicle(q,m);else{var l=this;setTimeout(function(){l.setVehicle(q,m)},2E3)}event.preventDefault()},removeAlreadySelectedItem:function(){var e=b(this.base.selector.rangeList);
e&&(e=b(e).find(this.base.selector.selectedItem))&&0<e.length&&b(e).removeClass(this.base.cssClass.selectedItem)},selectModelRange:function(e){var c=b(e).find(this.base.selector.linkModelRange);if(0!=c.length){this.removeAlreadySelectedItem();var a=c.data(this.base.dataKeys.ssItemCode),d=b(e).parents(".md-standard-selector").find('[data-ss-item-code\x3d"'+a+'"]').find("img"),f="";d&&0<d.length&&(f=b(d[0]).data("cosySrcset"));(d=c.data(this.base.dataKeys.ssItemSelectedModelCode))||(d=c.data(this.base.dataKeys.ssItemDefaultModelCode));
var g={modelRangeCode:a,modelCode:d,modelUrl:f,vehicleName:c.data(this.base.dataKeys.ssItemSelectedModelName)?c.data(this.base.dataKeys.ssItemSelectedModelName):c.data(this.base.dataKeys.ssItemModelName),vehicleLongName:c.data(this.base.dataKeys.ssItemModelLongName),rangeName:c.data(this.base.dataKeys.ssItemRangeName),rangeNameLong:c.data(this.base.dataKeys.ssItemRangeLongName),source:"standardselector",decodingImage:f,itemCode:a,configUrl:c.data(this.base.dataKeys.ssItemSelectedConfigUrl),shareConfigUrl:c.data(this.base.dataKeys.ssItemSelectedShareConfigUrl)};
if(this.currentForm)if(window.angular)this.setVehicle(g,c);else{var k=this;setTimeout(function(){k.setVehicle(g,c)},2E3)}b(e).addClass(this.base.cssClass.selectedItem)}},onModelRangeSelect:function(e){var c=b(e.currentTarget);this.selectModelRange(c);b.publish("md:form:scroll");e.preventDefault()},initEvents:function(){"tda"!==this.currentForm&&"tdavariant2"!==this.currentForm||b(".md-ss-form .md-ss-range-item").addClass("md-ss-range-item-highlight");this.base.$elem.on("click."+this.moduleName,this.base.selector.modelsItemLink,
this.onClickModelItem.bind(this));if("stripForm"===this.standardType)this.base.$elem.on("click."+this.moduleName,this.base.selector.modelRangeItem,this.onModelRangeSelect.bind(this))},init:function(){this.currentForm=b(this.base.selector.compFormGcdmRFS).length?"rfs":b(this.base.selector.compFormGcdmTDA).length?"tda":b(this.base.selector.compFormGcdmTDAVariant2).length?"tdavariant2":b(this.base.selector.compFormGcdmRFI).length?"rfi":b(this.base.selector.compFormGcdmRFO).length?"rfo":b(this.base.selector.compFormGcdmRFA).length?
"rfa":"";this.standardType=this.base.$elem.data("ssComponentType");this.initEvents();if("tda"===this.currentForm||"tdavariant2"===this.currentForm){var e=this;b.subscribe("md:configurator:gcdmRequest",function(b,a){e.base.manageDefaults(e,{modelRangeCode:b.modelRange,modelCode:b.modelCode,modelName:b.modelName,configUrl:b.configUrl,shareConfigUrl:b.shareConfigUrl})});b.subscribe(this.base.events.standardSelectorInitModel,function(b,a){e.base.manageDefaults(e,{modelRangeCode:b.modelRange,modelCode:b.modelCode,
modelName:b.modelName,configUrl:b.configUrl,shareConfigUrl:b.shareConfigUrl})})}},destroy:function(){this.base.$elem.off("click."+this.moduleName)}};e.modForm=k})(mini.digital.$,mini.digital.comp.standardselector);
(function(b,e){var k=function(g,c){var a=b(g).data("ss-component-integration"),d="";this.modules={};e.StandardSelectorBase.call(this,g);for(d in e)e.hasOwnProperty(d)&&"mod"===d.substr(0,3)&&d.substring(3).toLowerCase()===a&&(this.modules[d]=new e[d](this));this.init(c)};k.prototype=e.StandardSelectorBase.prototype;e&&e.overlayManager&&e.overlayManager.initialise&&e.overlayManager.initialise();e.init=function(b,c,a,d){c=a(b);c.data("standardselector",new k(b,d));a.publish(e.common.events.selectorInitialised,
[{integration:c.data("ss-component-integration"),selector:c}])};e.teardown=function(e){e=b(e);var c=e.data("standardselector");c&&(e.removeData("standardselector"),c.destroy())}})(mini.digital.$,mini.digital.comp.standardselector);
(function(b,e){mini.digital.comp.myminishelf=function(){function k(a){d();u.removeClass("md-mms-closed");t.addClass("md-mms-opened");r.focus();A="open";b.publish("md:mymini:open");b(document).on("focusin"+L.shelf,g);e.veil.manageVeil("open",J);a&&!y.hasClass("md-tv-active")&&y.trigger("click");return C.initialize()}function g(a){a=b(a.target);!a.closest(L.shelf).length&&(a.closest(L.mdHeader).length||a.closest(L.mdMain).length||a.closest(L.mdFooter).length)&&b.publish("md:ht:mouseleave")}function c(a){b(a).closest(L.shelf).length&&
(F=u.find(L.tabViewActiveContent),(a=b.trim(F.html()))?d():G=b.subscribe(R.tabContentLoaded,function(){b.unsubscribe(G);d()}))}function a(){x.css(Modernizr.prefixed("transitionDuration"),"");f(x,0);b(document).off("focusin"+L.shelf);z.one(K,function(){u.addClass("md-mms-closed");t.removeClass("md-mms-opened");r.removeClass("md-show-register-confirm");x.css(Modernizr.prefixed("transform"),"");f(u,0);A="closed";b.publish("md:mymini:closed")});e.veil.manageVeil("close")}function d(){u.css({"max-height":""});
r.css({height:""});var a=window.innerHeight;try{window.getComputedStyle&&(a=parseInt(window.getComputedStyle(document.querySelector(L.mdBody),":before").getPropertyValue("height"),10))}catch(N){}var b=a;a=u.find(L.tabViewActiveContent).height();b=a>b?b-w.height():a;h()&&(b=b<a?a:b);a=b;h()&&x.css(Modernizr.prefixed("transitionDuration"),"0s");u.css({"max-height":a+"px"});r.css({height:a-v.height()+"px"});f(u,-a);f(I?x:z,a)}function f(a,b){var c=I?Modernizr.prefixed("transform"):"margin-top";a.css(c,
I?"translate3d(0, "+b+"px, 0)":b+"px")}function h(){return"open"===A}function n(a){a=b(a);B=a.find(L.myMini);C=B.data(mini.digital.comp.mymini.appName);B.length&&(b.unsubscribe(G),r=b(L.myMiniContent),v=b(L.myMiniHeader),a.addClass("md-tv-my-mini"),y=u.find(L.tabviewTabBtns).eq(a.index()),y.addClass("md-icnpost-my-mini"),b.publish(R.myMiniContentLoaded),b.subscribe(R.tabChanged,c),B.hasClass("md-mymini-deeplink")&&k())}function m(b){Number(b.id)===Number(J.id)&&a()}function q(a){!h()||a&&a.preventTransform||
(H=a.state,r.removeClass("md-mymini-content-tall"),0<=D.indexOf(H)&&r.addClass("md-mymini-content-tall"),"registrationconfirm"===a.state&&r.addClass("md-show-register-confirm"),S&&setTimeout(d,0),S=!0)}function l(){h()&&d()}var t,r,v,w,x,u,y,B,z,C,A="closed",D=["registration","profile","profile-change"],H,F,G,K=e.transitionEndEvent,I=Modernizr.csstransforms3d,S=!1,J={zIndex:9,id:Math.floor(Math.random()*(new Date).getTime())},L={myMini:".md-mymini",myMiniContent:".md-js-mymini-content",myMiniHeader:".md-js-mymini-header",
shelf:".md-myminishelf",tabviewTabBtns:".md-js-tabview-tab-btn",mdHeader:".md-js-header",mdMain:".md-js-main",mdFooter:".md-footer",mdBody:".md-body",mdHtml:".md-js",mdNavigation:".md-navigation",tabViewActiveContent:".md-tv-content.md-tv-active"},R={myMiniContentLoaded:"md:myminishelf:myMiniContentLoaded",tabContentLoaded:"md:tabview:tabContentLoaded",tabChanged:"md:tabview:tabChanged",myMiniStateChange:"md:mymini:statechange",resize:"md:resize",veilClicked:"md:veil:click"};return{init:function(a){u=
b(a);t=b(L.mdHtml);b(L.mdBody);w=b(L.mdNavigation);x=b(L.mdHeader).add(L.mdMain).add(L.mdFooter);z=x.eq(0);G=b.subscribe(R.tabContentLoaded,n);b.subscribe(R.myMiniStateChange,q);b.subscribe(R.resize,l);b.subscribe(R.veilClicked,m)},openShelf:k,getState:function(){return A},shelfIsOpen:h,trigger:function(){"closed"===A?k():a()},SELECTORS:L}}()})(mini.digital.$,mini.digital.util);
(function(b,e,k,g){var c=function(a,c,f){function d(a){t.initialize().then(function(){b.angular.injectEvent(r[0],u.myminiSelectPreferredDealer,[a])})}function n(){k.openShelf(!0).then(function(){b.angular.injectEvent(r[0],u.myminiOpenRegistration,[])})}function m(a){k.openShelf(!0).then(function(){b.angular.injectEvent(r[0],u.myminiCarSave,[a])});g.publish("md:garage:save",[a])}function q(a){k.openShelf(!0).then(function(){b.angular.injectEvent(r[0],u.myminiCarUpdate,[a])})}function l(){return{angularAnimate:{url:y.ANGULAR_ANIMATE,
isLoaded:function(){return b.angular.isModuleAvailable("ngAnimate")}},angularUIRouter:{url:y.ANGULAR_UI_ROUTER,isLoaded:function(){return b.angular.isModuleAvailable("ui.router")}},uflExternal:{url:y.UFL_EXTERNAL,isLoaded:function(){return b.angular.isModuleAvailable("UFL")}},sfUflAdapter:{url:y.SF_UFL_ADAPTER,isLoaded:function(){return b.angular.isModuleAvailable("SF.Widget.Financing")}}}}var t=this,r=a,v=[],w={},x,u={confCarSave:"md:configurator:savecar",confCarUpdate:"md:configurator:updatecar",
myminiCarSave:"md:mymini:savecar",myminiCarUpdate:"md:mymini:updatecar",myminiOpenRegistration:"md:mymini:openregistration",myminiSelectPreferredDealer:"md:mymini:selectPreferredDealer"},y={ANGULAR_ANIMATE:"/etc.clientlibs/settings/wcm/designs/minidigital-white/libs-js.legacy/vendor/external/resources/angular-animate.min.js",ANGULAR_UI_ROUTER:"/etc.clientlibs/settings/wcm/designs/minidigital-white/libs-js.legacy/vendor/external/resources/angular-ui-router.min.js",UFL_EXTERNAL:"/etc.clientlibs/settings/wcm/designs/minidigital-white/libs-js.legacy/vendor/external/resources/UFLExternal.js",
SF_UFL_ADAPTER:"/etc.clientlibs/settings/wcm/designs/minidigital-white/libs-js.legacy/vendor/external/resources/SF_UFL_adapter.js"};t.initialize=function(){var a={},d=g.Deferred(),h=r.find("[gcdm-app]");e.setup(h,!1).then(function(){a=l();b.lazyLoadScriptMulti([a.angularAnimate,a.angularUIRouter,a.uflExternal,a.sfUflAdapter]).then(function(){b.angular.isModuleAvailable(c)||mini.digital.comp.mymini.app.init(r,w);angular.element(r[0]).scope()||(angular.module("integration.mymini",[]).value("postal",
require("core/Messagebus")),angular.module("integration.mymini.cssConfig",[]).value("inShelf",{inShelf:!0}),angular.bootstrap(r[0],["integration.mymini","integration.mymini.cssConfig",c]),r.addClass("md-mymini-loaded"));d.resolve()})});mini.digital.tracking.mymini.init(f,r.data("component-id"),r.data("tracking-component"),r.data("tracking-index"),r.data("tracking-page-index"));return d.promise()};t.destroy=function(){for(;v.length;)g.unsubscribe(v.pop())};(function(){var a=g("[data-mymini-tpl]",r),
b,f=a.length;for(b=0;b<f;b++){var e=g(a[b]);w[e.data("myminiTpl")]=e.data("path")}v.push(g.subscribe(u.confCarSave,m),g.subscribe(u.confCarUpdate,q));r.data(c,t);r.parents(k.SELECTORS.shelf).length||t.initialize();require(["core/Messagebus"],function(a){x=a;console.log("postal subscribing to TOPIC_OPEN_REGISTRATION topic");x.channel("business-dealerlocator").subscribe("openRegistration",n);x.channel("business-dealerlocator").subscribe("selectPreferredDealer",d)})})()};mini.digital.comp.mymini=function(){return{init:function(a,
b,f,e){a=f(a);return new c(a,"mdMymini",e)},appName:"mdMymini",teardown:function(a){(a=g(a).data("mdMymini"))&&a.destroy()}}}()})(mini.digital.util,mini.digital.comp.formgcdm,mini.digital.comp.myminishelf,mini.digital.$);mini.digital.comp.mymini=mini.digital.comp.mymini||{};mini.digital.comp.mymini.app=mini.digital.comp.mymini.app||{};mini.digital.comp.mymini.controllers=mini.digital.comp.mymini.controllers||{};mini.digital.comp.mymini.directives=mini.digital.comp.mymini.directives||{};
mini.digital.comp.mymini.factories=mini.digital.comp.mymini.factories||{};mini.digital.comp.mymini.services=mini.digital.comp.mymini.services||{};
(function(){mini.digital.tracking.mymini=function(){function b(b,c){"function"===typeof a.updateComponentTracking&&a.updateComponentTracking(f,{attributes:c},h);"function"===typeof a.addEventTracking&&a.addEventTracking(t,b,h)}function e(a){"login"===a.state?(a={eventInfo:{eventName:"login start",effect:"user started login",timeStamp:Date.now()}},b(a,{})):"registration"===a.state?(a={eventInfo:{eventName:"registration start",effect:"user started registration",timeStamp:Date.now()}},b(a,{myminiVirtualGarageSavedCars:0,
myminiLoginState:"logged out"})):"registrationconfirm"===a.state?(a={eventInfo:{eventName:"registration finish",effect:"user finished registration",timeStamp:Date.now()}},b(a,{myminiVirtualGarageSavedCars:0,myminiLoginState:"logged out"})):"registration-check"===a.state&&(a={eventInfo:{eventName:"login success",effect:"user logged in",timeStamp:Date.now()}},b(a,{myminiVirtualGarageSavedCars:q,myminiLoginState:"logged in"}))}function k(a){if(a&&a.length)for(var b=0;b<a.length;b++)n.product.push(c(a[b]))}
function g(a){console.log("onGarageSave",a);a={eventInfo:{eventName:"save car",effect:"user saved a car",timeStamp:Date.now()}};b(a,{})}function c(a){var b=a.vehicleName||"",c=a.agModelCode||"",f=a.vehicleName||"",e=a.cosyImageInfos[3]&&a.cosyImageInfos[3].urlString||"",g=a.cosyImageInfos[3]&&a.cosyImageInfos[3].urlString||"";var h=a.agModelCode;var k=a.configUrl;if(window.mini.digital.comp.ucpApi.isConEnabled())h=window.mini.digital.comp.ucpApi.getConPath()+"/configid/"+k;else{var l=$("body").find("[data-component-name\x3d'mymini']").data("mymini-resource-path");
h=window.location.protocol+"//"+window.location.host+"/bin/public/mini/modelpage?modelCode\x3d"+h+"\x26resourcePath\x3d"+l+"\x26configurationId\x3d"+k}return{productInfo:{description:b,manufacturer:"MINI",productID:c,productName:f,productImage:e,productThumbnail:g,productURL:h||""},category:{primaryCategory:"new car",subCategory01:a.vehicleName||"na"},attributes:{bodyName:a.vehicleName||"na",bodyType:a.modelRange||"na",modelName:a.vehicleName||"na",modelCode:a.agModelCode||"na",saCodeList:a.options.join("::")||
[],carSaved:"true",configurationID:a.configUrl||"",carFavourited:a.carFavourited||"false",relatedComponentID:d.componentInfo.componentId||"",relatedComponentName:d.componentInfo.componentName||"",relatedComponentPrimaryCategory:d.componentInfo.componentName||"",basePriceVehicle:a.modelNetPrice||"",basePriceOptions:a.equipmentNetPrice||"",basePrice:a.totalNetPrice||"",sellingPriceVehicle:a.modelGrossPrice||"",sellingPriceOptions:a.equipmentGrossPrice||"",sellingPriceTotal:a.totalGrossPrice||""}}}var a,
d={},f,h,n,m,q,l=!1,t={eventInfo:{eventAction:"click",eventPoints:"",cause:"default"},category:{primaryCategory:"mymini",subCategory01:"virtual garage"},attributes:{relatedComponentID:"",relatedComponentName:"mymini",relatedComponentPrimaryCategory:"mymini"}};return{init:function(b,c,m,q,u){l||($.subscribe("md:mymini:statechange",e),$.subscribe("md:garage:loaded",k),$.subscribe("md:garage:save",g),l=!0);a=b;t.attributes.relatedComponentID=c;h=u;n={};"function"===typeof a.getPageObject&&(n=a.getPageObject(0));
f=q;void 0!==m&&(d=m)},popLastSavedNote:function(){var a=m;m=void 0;return a},storeNumberOfCars:function(a){q=a},trackSaveInGarageStart:function(a,c){var d={eventInfo:{eventName:"save car start",effect:"user starts to save car into the garage",timeStamp:Date.now()},category:{},attributes:{itemName:a.note}};c||(q=void 0);m=a.note;b(d,{myminiVirtualGarageSavedCars:void 0===q?"na":q,myminiLoginState:"logged "+(c?"in":"out")})},trackSaveInGarageEnd:function(a){a={eventInfo:{eventName:"save car end",effect:"user successfully saved car into the garage",
eventAction:"automatic",timeStamp:Date.now()},attributes:{itemName:a}};b(a,{myminiVirtualGarageSavedCars:q,myminiLoginState:"logged in"})}}}()})();
mini.digital.comp.mymini.controllers.garage=function(b,e,k){return{init:function(g,c){g.controller("mdMyminiGarageController",["$scope","$q","$rootElement","mdMyminiAvailableModelsService","mdMyminiModelPageService","mdMyMiniCurrencyFormatService","mdMyminiDateFormatService","mdMyMiniLogoutService","SF_HostingPageService",function(a,d,f,g,n,m,q,l,t){var h=b.app.getGcdmAccessToken(),v,w,x={},u="";c.attr("data-con-path");c.attr("data-is-con-enabled");var y=function(){var a=d.defer();window.mini.digital.comp.ucpApi?
a.resolve(window.mini.digital.comp.ucpApi):require(["apps/minidigital/components/configurator-con/clientlib/ConfiguratorCon"],function(b){window.mini.digital.comp.ucpApi=b;a.resolve(b)});return a.promise},B=function(){a.$emit("myminiLoaderShow");var b=d.defer();y().then(function(c){h?c.listVehicles(h).then(function(b){a.$emit("myminiLoaderHide");a.garageEntries=b;z(a.garageEntries,"grossPrice");C(a.garageEntries,"created");C(a.garageEntries,"lastUpdate");var c=mini.digital.tracking.mymini.popLastSavedNote();
mini.digital.tracking.mymini.storeNumberOfCars(a.garageEntries.length);if(void 0!==c)for(var d=0;d<a.garageEntries.length;d++)if(a.garageEntries[d].note===c){mini.digital.tracking.mymini.trackSaveInGarageEnd(c);break}e.publish("md:garage:loaded",b);a.$apply()},function(b){a.$emit("myminiLoaderHide");l.isTokenExpired(b)&&(l.logout(),a.$apply())}):(console.log("missing token"),b.resolve([]))})},z=function(a,b){angular.forEach(a,function(a){a[b+"Formatted"]||(a[b+"Formatted"]=m.format(a[b]))})},C=function(a,
b){angular.forEach(a,function(a){if(!a[b+"Formatted"]){var c=Date.parse(a[b]);a[b+"Formatted"]=q.format(c)}})},A=function(b){angular.forEach(a.garageEntries,function(c,d){b.configUrl===c.configUrl&&a.garageEntries.splice(d,1)})},D=function(b){angular.forEach(a.garageEntries,function(c,d){b.configUrl===c.configUrl&&(a.garageEntries[d].note=b.note)})},H=function(a){a.requester.is(".md-mymini-button")&&(w=e.subscribe("md:overlay:closed",F),k.currentModel.set({modelRangeCode:x.modelRange,modelRangeName:x.modelRangeName,
modelCode:x.modelCode.value,modelName:x.vehicleName,modelLongName:x.vehicleName,url:void 0,multipleTransmissions:void 0,transmission:void 0,cosyImageInfos:[{},{},{urlString:x.preselectedImage}]}),e.publish("md:mymini:gcdmRequest",[x,u]),e.unsubscribe(v))},F=function(a){a.requester.is(".md-mymini-button")&&(a.overlayContent.empty(),e.unsubscribe(w))};y=function(){var a=e.Deferred();window.mini.digital.comp.ucpApi?a.resolve(window.mini.digital.comp.ucpApi):require(["apps/minidigital/components/configurator-con/clientlib/ConfiguratorCon"],
function(b){window.mini.digital.comp.ucpApi=b;a.resolve(b)});return a};var G=function(a){var b=e.Deferred();y().then(function(a){b.resolve(!0)});return b.promise()},K=function(a){var b=e.Deferred();G(a).then(function(a){b.resolve()});return b.promise()};a.viewSavedConfiguration=function(a,b){y().then(function(c){c.isConEnabled()?window.open(c.getConPath()+"/configid/"+b,"_blank"):window.location=n.getServiceUrl(a,b)})};a.openCarStage=function(b,c){a.selectedCarItem=angular.copy(c);a.carStage.action=
b;a.carStage.visible=!0};a.closeCarStage=function(){a.carStage.visible=!1};a.openOverlay=function(b,c,d){u=d;x=c;x.preselectedImage=a.modelRangeCheck(c);x.shareConfigUrl=window.location.origin+"/?configurationID\x3d"+c.configUrl;"offer"!==d&&"offerforbusiness"!==d||!a.financeEnabled?(v=e.subscribe("md:overlay:opened",H),e(b.target).data("overlay").toggleOverlay(b)):x.financeRequestInProgress||(x.financeRequestInProgress=!0,K(x).always(function(){x.financeRequestInProgress=!1;v=e.subscribe("md:overlay:opened",
H);e(b.target).data("overlay").toggleOverlay(b)}));b.stopPropagation()};a.toggleCarActions=function(a){a.carActionsVisible=a.carActionsVisible?!1:!0};a.updateMyGarageEntryNote=function(b){if(b&&b.note.trim()){var c=d.defer();a.$emit("myminiLoaderShow");y().then(function(a){a.updateVehicle(h,b).then(function(a){c.resolve(a)},function(a){c.reject(a)})});c.promise.then(function(b){a.$emit("myminiLoaderHide");a.closeCarStage();D(b)},function(b){a.$emit("myminiLoaderHide");l.isTokenExpired(b)&&l.logout()})}};
a.deleteEntryFromMyGarage=function(b){var c=d.defer();a.$emit("myminiLoaderShow");y().then(function(a){a.deleteVehicle(h,b.configUrl).then(function(a){c.resolve(a)},function(a){c.reject(a)})});c.promise.then(function(c){a.$emit("myminiLoaderHide");a.closeCarStage();A(b)},function(b){a.$emit("myminiLoaderHide");l.isTokenExpired(b)&&l.logout()})};a.$on("$destroy",function(){a.$emit("myminiLoaderHide")});(function(){var b=e("body");a.garageEntries=null;a.carStage={};a.gcdmForm={};B();a.mmViewType=e(".md-mymini-shelf",
f).data("mymini-type");a.compareCtaPath=e(".md-mm-compare-cta-path",f).data("path");a.openareaPath=f.data("openarea-path");a.serverUrl=b.data("md-finance-endpoint");a.market=b.data("md-finance-market");a.financeEnabled=b.data("md-finance-enabled");a.financeEnabled&&!1===b.data("md-wcmmode")&&k.finance.init()})()}])}}}(mini.digital.comp.mymini,mini.digital.$,mini.digital.util);
mini.digital.comp.mymini.controllers.setgarage=function(b,e,k){return{init:function(g){g.controller("mdMyminiSetGarageController",["$scope","$rootScope","$q","$rootElement","$stateParams","$state","mdMyMiniSaveCarService","$timeout","mdMyMiniLogoutService",function(c,a,d,f,g,n,m,q,l){var h=k.app.getGcdmAccessToken(),r=c.gcdmIsLoggedIn(),v=function(){var a=d.defer();window.mini.digital.comp.ucpApi?a.resolve(window.mini.digital.comp.ucpApi):require(["apps/minidigital/components/configurator-con/clientlib/ConfiguratorCon"],
function(b){window.mini.digital.comp.ucpApi=b;a.resolve(b)});return a.promise},w=function(a,f){var g=d.defer();c.$emit("myminiLoaderShow");v().then(function(b){f?b.createVehicle(h,a).then(function(a){g.resolve(a)},function(a){g.reject(a)}):b.updateVehicle(h,{configUrl:a.configUrl,modelCode:{value:a.modelCode},options:a.selectedFeatures}).then(function(a){g.resolve(a)},function(a){g.reject(a)})});g.promise.then(function(a){c.$emit("myminiLoaderHide");c.savedCarItem=a;var d=mini.digital.comp.configurator.getFacadeApi();
if("save"===c.setConfigurationAction){if(d&&"function"===typeof d.saveVehicle)try{d.saveVehicle(a.baseConfigUrl)}catch(C){}c.enableVco?mini.digital.comp.configurator.getModelConfig().then(function(a){var d=b.subscribe("md:formgcdm:vcoloaded",function(){a.circulationConsent=c.allowDealerContact;b.publish("md:formgcdm:gcdmRequest",[a,"vco"]);b.unsubscribe(d)});c.setConfigurationSuccess=!0;n.go("submitvco")}):(c.setConfigurationSuccess=!0,n.go("garage"))}else{if(d&&"function"===typeof d.saveVehicle)try{d.saveVehicle(a.baseConfigUrl)}catch(C){}q(function(){if(e.shelfIsOpen()){var a=
b.subscribe("md:mymini:closed",function(){n.go("garage");b.unsubscribe(a)});e.trigger()}},3E3)}},function(a){c.$emit("myminiLoaderHide");l.isTokenExpired(a)&&l.logout()})};c.enableVco=b(f).data("mymini-enable-vco");c.allowDealerContact=b(f).data("mymini-allow-dealer-contact");c.selectedCarItem=angular.copy(g.carItem);c.setConfigurationAction=g.setGarageAction;h&&m.flag&&!m.confirmReq?(f="save"===c.setConfigurationAction,w(c.selectedCarItem,f),m.unset()):c.setConfigurationSuccess=!1;c.saveConfigurationAsNew=
function(){c.setConfigurationAction="save"};c.cancelSaveConfiguration=function(){a.$broadcast("md:mymini:setgarage:cancel")};c.saveConfigurationToMyGarage=function(a){mini.digital.tracking.mymini.trackSaveInGarageStart(a,r);r?w(a,!0):(m.set("save",a),n.go("login"))};c.updateConfigurationToMyGarage=function(a){r?w(a,!1):(m.set("update",a),n.go("login"))}}])}}}(mini.digital.$,mini.digital.comp.myminishelf,mini.digital.comp.mymini);
mini.digital.comp.mymini.controllers.mymini=function(b,e,k,g){return{init:function(c,a){c.controller("mdMyminiController",["$scope","$rootScope","$attrs","mdMyminiContent","$state","mdMyMiniSaveCarService","GcdmEventHandlingService","mdMyMiniCurrencyFormatService","GcdmPrefillBusinessPartnerService","mdMyMiniPreferredDealerService","GcdmPolicyManagementApi","GcdmPolicyConfirmationApi","mdMyMiniPolicyConsents",function(c,f,h,n,m,q,l,t,r,v,w,x,u){function d(){var a;u.policyDocument&&u.policyDocument.textBlocks&&
u.policyDocument.textBlocks.forEach(function(b){b.language==I&&(a=b)});f.$broadcast("open:policy:pepo",a);var d=c.$on("policy:pepo:accepted",function(){u.policyConsentsToAccept=[];u.addUsageDefinitionsToModel(u.policyConsentsToAccept,u.policyDocument,S,I,"MINI");u.policyConsentsToAccept.forEach(function(a){a.policyId==G&&a.usageDefinitions.forEach(function(a){a.consents.forEach(function(a){a.consentGiven=!0;a.consent="ACCEPT"})})});x.addPolicyConsent(u.policyConsentsToAccept,!0).then(function(a){console.log("success",
a);B()},function(a){f.$broadcast("open:mymini:error","consentsNotUpdatedError")})});b.subscribe("md:layer:closed",function(){if(d)try{d()}catch(R){}})}function B(){F&&0<F.length&&(-1==F.indexOf(".html")&&(F+=".html"),window.open(window.origin+F,"_self"))}var z=!1,C=!1,A=["profile","profile-change","login-id-change"],D=!1,H=!1;h=h.mdCurrencyFormat;var F=a.data("myvehiclePath"),G=a.data("myvehiclePolicy"),K=a.data("myminiCountry"),I=a.data("myminiLang"),S=a.attr("gcdm-business-context");t.init(h);c.myminiContent=
{};c.userFirstName=void 0;c.myVehicles=F&&0<F.length?!0:!1;c.mdIsFullyLoggedIn=function(){return z};c.goToMyVehicle=function(){var a=g.app.getGcdmAccessToken();if(a||G)u.businessContext=S,w.getPolicyDocument(G,K).then(function(b){u.policyDocument=b.data;u.policyDocument.language=I;u.userConsents=[];w.getPolicyConsent(G,a,K).then(function(a){a&&(u.userConsents=a.data);u.isPolicyConfirmationRequired()?d():B()},function(){f.$broadcast("open:mymini:error","consentsError")})},function(){f.$broadcast("open:mymini:error",
"missingPolicy")})};l.subscribe("accessTokenChange",function(a,b){b.value||(z=!1)});l.subscribe("sessionStorageChange",function(a,b){"salutation"===b.key&&b.value&&b.value.firstName&&(c.userFirstName=b.value.firstName);"businessPartnerLoggedIn"===b.key&&b.value&&b.value.businessPartner.givenName&&(c.userFirstName=b.value.businessPartner.givenName);"businessPartner"===b.key&&b.value&&b.value.businessPartner.givenName&&(c.userFirstName=b.value.businessPartner.givenName)});r.getLoggedInBusinessPartner().then(function(a){a&&
a.businessPartner&&(c.userFirstName=a.businessPartner.givenName)});c.$on("md:mymini:content:updated",function(){c.myminiContent=n.list});c.$on("md:formgcdm:cancelform",function(){m.go("home")});c.$on("md:mymini:setgarage:cancel",function(){z?m.go("garage"):m.go("home")});c.$on("md:formgcdm:loadform",function(a,b){m.go(b)});c.$on("md:formgcdm:activate:next",function(){m.go("login")});c.$on("md:mymini:loggedin",function(a,b){C=b;a=JSON.parse(k.getPersistence("gcdm-preferredDealer"));b=null;C&&a&&a.MINI&&
(a=a.MINI,b=a.distributionPartnerId+"_"+a.outletId);v.publishSetPreferredDealer(b,C);c.deepLinkView&&!D?(D=!0,m.go(c.deepLinkView)):C?"registration"!==m.current.name?m.go("registration-check"):z=!0:"delete-account"!==m.current.name&&m.go("home")});c.$on("md:mymini:loggedinandchecked",function(){z=!0;q.flag?m.go("setgarage",{setGarageAction:q.action,carItem:q.carItem}):m.go("garage")});c.$on("md:mymini:savecar",function(a,b){z||!C?m.go("setgarage",{setGarageAction:"save",carItem:b}):q.set("save",b,
!0)});c.$on("md:mymini:updatecar",function(a,b){z||!C?m.go("setgarage",{setGarageAction:"update",carItem:b}):q.set("update",b,!0)});c.$on("md:mymini:openregistration",function(a){z||C||m.go("registration")});c.$on("md:mymini:selectPreferredDealer",function(a,b){v.selectPreferredDealer(b)});c.toggleProfile=function(){var a=-1<A.indexOf(m.$current.name)?"garage":"profile";m.go(a)};c.toggleMyCars=function(){"mycars"==m.$current.name?(m.go("garage"),c.isMyCarsView=!1):(m.go("mycars"),c.isMyCarsView=!0)};
c.$on("$viewContentLoaded",function(){0<m.current.name.length&&(b.publish("md:mymini:statechange",[{state:m.current.name,preventTransform:H}]),H=!1)});c.$on("$stateChangeSuccess",function(a,b){c.isProfileView=-1<A.indexOf(b.name)});c.$on("md:formgcdm:registration:continue",function(){if(q.flag&&z)m.go("setgarage",{setGarageAction:q.action,carItem:q.carItem});else if(e.shelfIsOpen()){var a=b.subscribe("md:mymini:closed",function(){m.go("garage");b.unsubscribe(a)});H=!0;e.trigger()}});c.$on("md:mymini:vcosubmitted",
function(){m.go("garage")});c.modelRangeCheck=function(a){return a.modelRange?"R"===a.modelRange.substring(0,1)?a.cosyImageInfos[4].urlString:a.cosyImageInfos[3].urlString:!1}}])}}}(mini.digital.$,mini.digital.comp.myminishelf,mini.digital.util.cookiecontroller,mini.digital.comp.mymini);
mini.digital.comp.mymini.directives=function(b,e){return{init:function(k,g){var c=g.find(".md-mymini-content");k.directive("myminiContentLoaded",function(){return{restrict:"A",link:function(a,c){a.$on("$viewContentLoaded",function(){b(c).find(".md-rimage").each(function(a,b){mini.digital.util.responsiveimage.init(b)})})}}});k.directive("myminiLoginStatusOutput",function(){return{restrict:"A",scope:!0,controller:["$scope","$rootScope",function(a,c){a.$watch("gcdmIsLoggedIn()",function(a){c.$broadcast("md:mymini:loggedin",
a);b.publish("md:mymini:loggedin:change",[a])});b.subscribe("md:mymini:loggedin:change",function(b){if(a.gcdmIsLoggedIn()&&!b||!a.gcdmIsLoggedIn()&&b)c.$broadcast("loginIdChange"),c.$broadcast("md:mymini:loggedin",b)})}]}});k.directive("myminiDeepLink",function(){return{restrict:"A",link:function(a,b,c){a.deepLinkView=c.myminiDeepLink}}});k.directive("myminiAccountDetails",function(){return{restrict:"A",scope:!0,controller:["$scope","GcdmPrefillDealerService",function(a,c){a.$watchCollection("gcdmSalutation",
function(a){b.publish("md:mymini:salutation:change",[a])});a.$watchCollection("gcdmUserAccount",function(a){var d=function(c){b.publish("md:mymini:userAccount:change",[a,c])};c.getPreferredDealer("MINI").then(d,function(){d()})})}]}});k.directive("myminiLoading",["$rootScope",function(a){return{scope:{},template:'\x3cdiv class\x3d"md-cs-loading-indicator md-cs-loading-active" ng-show\x3d"showLoader"\x3e\x3cspan class\x3d"md-icn-loader"\x3e\x3cspan class\x3d"md-icn-alt"\x3eLoader\x3c/span\x3e\x3c/span\x3e\x3c/div\x3e',
link:function(b){var c=function(a){b.showLoader="myminiLoaderShow"===a.name};b.showLoader=!1;a.$on("myminiLoaderShow",c);a.$on("myminiLoaderHide",c)}}}]);k.directive("myminiGarageLoaded",[function(){return function(a){a.$last&&mini.digital.util.initialise(c)}}]);k.directive("myminiFormsOverlay",[function(){return{scope:{},link:function(a,c,f){a=f.myminiFormsOverlayHref;b(c).overlay({ajax:!0,source:a.replace(".html","")+"/_jcr_content/main.html?wcmmode\x3ddisabled",style:"steps",veilZIndex:15,titleFromContent:!0,
titleSelector:".md-custom-overlay-header-title:first"})}}}]);k.directive("hidePriceForModel",function(){return{restrict:"A",link:function(a,b,c){a=c.noPriceForRangeCodes;var d=c.noPriceForModelCodes;c=angular.fromJson(c.hidePriceForModel);var f=!1;a&&-1!=a.indexOf(c.modelRange)&&(f=!0);d&&c.modelCode&&-1!=d.indexOf(c.modelCode.value)&&(f=!0);f&&b.css("display","none")}}});k.directive("mdSrc",function(){return{restrict:"A",link:function(a,c,f){f.$observe("mdSrc",function(a){function d(a,b){var c=0;
b&&(c=a.outerWidth(!0));b=a.css("max-width").replace("px","");b=parseInt(b);0===c&&0<b&&(c=b);return 0<c?c:d(a.parent(),!0)}null!==f.mdSrc&&void 0!==f.mdSrc&&""!==f.mdSrc&&(a=d(b(c[0]),!1),e.loadImage(b(c[0]),f.mdSrc,a))})}}});k.directive("mdPolicyConfirmation",["$rootScope",function(a){return{restrict:"A",link:function(c,f,e){var d,g=b("script#confirm_policy_personal_portal").html();c.$on("open:policy:pepo",function(c,h){var k="";c={source:g,group:"md-myvehicles-policy-confirmation",initialiseSource:!0,
constrain:b("body"),title:e.heading,style:"lrg",open:!1};b(f).layer(c);d=b(f).data("layer");d.open();c=b(".md-pepo-policy");var l=c.find(".md-btn-accept"),m=c.find(".md-btn-cancel");h&&h.usageDefinitions&&(h.usageDefinitions.forEach(function(a){k=k+"\x3cdiv\x3e"+a.textPrimary+"\x3c/div\x3e"}),c.find(".md-policy-text").append(k));b(l).on("click",function(){a.$broadcast("policy:pepo:accepted");d&&d.close()});b(m).on("click",function(){d&&d.close()})})}}}]).directive("mdGeneralError",["$rootScope",function(a){return{scope:{},
link:function(a,c,e){a.$on("open:mymini:error",function(a,d){a={source:b(c.find("#"+d)),group:"md-error-info",initialiseSource:!0,constrain:b("html"),style:"lrg",open:!1};b(c).layer(a);b(c).data("layer").open()})}}}])}}}(mini.digital.$,mini.digital.util.lazyLoadImage);
mini.digital.comp.mymini.factories=function(){return{init:function(b,e){b.factory("mdMyminiContent",["$http","$rootScope",function(b,g){var c=e.data("path")+"/_jcr_content/main/par/mymini.miniresource.json",a={list:[],resourceFileLoaded:!1,successCallback:function(b){a.list=b;a.resourceFileLoaded=!0;g.$broadcast("md:mymini:content:updated",b)},initContentResources:function(){b({method:"GET",url:c}).success(a.successCallback).error(function(){g.$broadcast("md:mymini:content:error")})}};a.resourceFileLoaded||
a.initContentResources();return a}]);b.factory("mdMyMiniSaveCarService",function(){var b={flag:!1,confirmReq:null,action:null,carItem:{},set:function(e,c,a){b.flag=!0;b.confirmReq=a;b.action=e;b.carItem=c},unset:function(){b.flag=!1;b.confirmReq=null;b.action=null;b.carItem={}}};return b});b.factory("mdMyMiniLogoutService",["GcdmLogoutService",function(b){return{isTokenExpired:function(b){return null!==b&&void 0!==b&&void 0!==b.errorInfo&&"528"===b.errorInfo.errorCode&&"112"===b.errorInfo.errorType},
logout:function(){b.logoutAndRemovePrefill()}}}]);b.factory("mdMyMiniPolicyConsents",[function(){function b(a,b){var d=[];b.usages.forEach(function(f){b.legalEntities.forEach(function(e){b.purposes.forEach(function(b){d.push({usageId:f.usage.name,purposeId:b.purpose.name,legalEntityId:e.name,majorVersion:a.majorVersion,minorVersion:a.minorVersion,policyId:a.name,country:a.country,touchpointId:c.businessContext})})})});return d}var e=function(a){this.contactId=null;this.minorVersion=this.majorVersion=
0;this.country=this.policyId=null;this.touchpointId=a;this.usageDefinitions=[];this.brand=this.language=null},c={policyDocument:{},userConsents:[],policyConsentsToAccept:[],businessContext:"",addUsageDefinitionsToModel:function(a,b,c,g,k){var d=b.textBlocks,f={};angular.isDefined(a)||(a=[]);c=new e(c);c.majorVersion=b.majorVersion;c.minorVersion=b.minorVersion;c.policyId=b.name;c.country=b.country;c.language=g;c.brand=k;for(b=0;b<d.length;b++)if(!g||g.toLowerCase()===d[b].language.toLowerCase())for(k=
0;k<d[b].usageDefinitions.length;k++){f.legalEntities=[];f.purposes=[];f.consents=[];f.id=d[b].usageDefinitions[k].id;for(var h=0;h<d[b].usageDefinitions[k].legalEntities.length;h++)f.legalEntities.push({country:d[b].usageDefinitions[k].legalEntities[h].country,legalEntityId:d[b].usageDefinitions[k].legalEntities[h].name});for(h=0;h<d[b].usageDefinitions[k].usages.length;h++)"IMPLICIT"===d[b].usageDefinitions[k].usages[h].variant?f.consents.push({consent:"ACCEPT",usageId:d[b].usageDefinitions[k].usages[h].usage.name}):
f.consents.push({consent:"REJECT",usageId:d[b].usageDefinitions[k].usages[h].usage.name});for(h=0;h<d[b].usageDefinitions[k].purposes.length;h++)f.purposes.push({purposeId:d[b].usageDefinitions[k].purposes[h].purpose.name});c.usageDefinitions.push(f);f={}}a.push(c)},isPolicyConfirmationRequired:function(){var a=[],d=!1;if(c.policyDocument&&c.policyDocument.textBlocks)if(c.policyDocument.textBlocks.forEach(function(d){d.usageDefinitions&&d.language==c.policyDocument.language&&d.usageDefinitions.forEach(function(d){(d=
b(c.policyDocument,d))&&0<d.length&&d.forEach(function(b){a.push(b)})})}),c.userConsents)for(var f=0;f<a.length;f++){for(var e=a[f],g=null,k=0;k<c.userConsents.length;k++){var q=c.userConsents[k];if(e.usageId===q.usageId&&e.purposeId===q.purposeId&&e.legalEntityId===q.legalEntityId&&e.policyId===q.policyId&&e.country===q.country&&e.majorVersion===q.majorVersion&&e.minorVersion===q.minorVersion&&e.touchpointId===q.touchpointId){g=q;break}}if(g){if(new Date(g.expirationDate)<Date.now()||"ACCEPT"!=g.consent)d=
!0}else d=!0;if(d)break}else d=!0;return d}};return c}])}}}();
mini.digital.comp.mymini.services=function(){return{init:function(b,e){var k=e.data("mymini-resource-path"),g=e.data("md-date-short-format"),c=e.data("md-time-short-format");b.service("mdMyminiModelPageService",function(){return{getServiceUrl:function(a,b){return window.location.protocol+"//"+window.location.host+"/bin/public/mini/modelpage?modelCode\x3d"+a+"\x26resourcePath\x3d"+k+"\x26configurationId\x3d"+b}}});b.service("mdMyMiniPreferredDealerService",["postal","GcdmPrefillDealerService","GcdmStorageService",
function(a,b,c){function d(){return a.channel("business-dealerlocator")}return{getChannel:d,publishSetPreferredDealer:function(a,b){d().publish({topic:"setPreferredDealer",data:{dealerKey:a,isLoggedIn:b},headers:{preserveOne:!0}})},selectPreferredDealer:function(a){a=a.dealer;if(!a)b.deleteBusinessPartnerAllDealers(),c.remove(window.gcdm.STORAGE_KEY.PREFERRED_DEALER);else if(a.attributes){var d=new window.gcdm.models.DealerWithAddress;d.brand=a.category;d.city=a.city;d.country=a.country;d.dist=a.dist;
d.distributionBranches=a.attributes.distributionBranches;d.distributionPartnerId=a.attributes.distributionPartnerId;d.facebookPlace=a.attributes.facebookPlace;d.homepage=a.attributes.homepage;d.lat=a.lat;d.lng=a.lng;d.mail=a.attributes.mail;d.name=a.name;d.outletId=a.attributes.outletId;d.phone=a.attributes.phone;d.postalCode=a.postalCode;d.street=a.street;b.savePreferredDealer(d)}}}}]);b.service("mdMyminiAvailableModelsService",["$http",function(a){return{getModels:function(){return a.get("/bin/public/mini/models?resourcePath\x3d"+
k)}}}]);b.service("mdMyminiDateFormatService",[function(){return{format:function(a){return void 0===a||""===a?"":dateFormat(a,g+" "+c)}}}]);b.service("mdMyMiniCurrencyFormatService",function(){function a(){this.currencyFormat;this.currencySymbol;this.decimalSeparator;this.groupingSeparator;this.grouping;this.isSymbolLeft;this.suffix}var b=function(a){return a.indexOf(".")<a.indexOf(",")},c=function(a){return a.indexOf("'")<a.indexOf(".")};a.prototype={init:function(a){this.currencyFormat=a;a=this.currencyFormat;
b(a)?a=",":(c(a),a=".");this.decimalSeparator=a;a=this.currencyFormat;a=b(a)?".":c(a)?"'":",";this.groupingSeparator=a;this.currencySymbol=this.currencyFormat.match(/[^#,\.\d'-]/g).join("");a=this.groupingSeparator;this.grouping=this.currencyFormat.replace(this.currencySymbol,"").indexOf(a);this.isSymbolLeft=0===this.currencyFormat.indexOf(this.currencySymbol)?!0:!1;this.suffix=0<this.currencyFormat.indexOf(".-")?".-":null},format:function(a){a=-1<a.indexOf(".")?Number(a).toFixed(2):a;a=a.replace(".",
this.decimalSeparator);a=this.suffix?a+this.suffix:a;a=a.toString().replace(new RegExp("\\B(?\x3d(\\d{"+this.grouping+"})+(?!\\d))","g"),this.groupingSeparator);return this.isSymbolLeft?this.currencySymbol+a:a+this.currencySymbol}};var e=new a;return{init:e.init,format:e.format}})}}}();
mini.digital.comp.mymini.app=function(b,e,k){return{init:function(g,c){var a=angular.module(b.appName,["ngAnimate","ui.router","mdGcdm","UFL","SF.Widget.Financing"]),d=g.data("mymini-ucp");a.config(["UFL_AccessProvider","$stateProvider",function(a,b){a.baseUrl(d);b.state("home",{templateUrl:"mymini.home.html"}).state("garage",{templateUrl:"mymini.garage.html",controller:"mdMyminiGarageController"}).state("setgarage",{templateUrl:"mymini.garage.set.html",controller:"mdMyminiSetGarageController",params:{setGarageAction:"save",
carItem:{}}}).state("profile",{templateUrl:c.profile}).state("profile-change",{templateUrl:c.profileChange}).state("delete-account",{templateUrl:c.deleteAccount}).state("login-id-change",{templateUrl:c.loginIdChange}).state("login",{templateUrl:c.login}).state("forgottenpassword",{templateUrl:c.forgottenPassword}).state("changepassword",{templateUrl:c.changePassword}).state("setpassword",{templateUrl:c.setPassword}).state("registration",{templateUrl:c.registration}).state("registration-check",{templateUrl:c.registrationCheck}).state("activate",
{templateUrl:c.activation}).state("submitvco",{templateUrl:c.vco})}]);a.run([function(){g.data("mymini-lang");g.data("mymini-uid");g.data("mymini-country");e(".md-mymini-app-preload").addClass("md-hidden")}]);b.directives.init(a,g);b.controllers.mymini.init(a,g);b.controllers.garage.init(a,g);b.controllers.setgarage.init(a);b.factories.init(a,g);b.services.init(a,g);return a},getGcdmAccessToken:function(){return JSON.parse(k.cookiecontroller.getPersistence("gcdm-accessToken"))}}}(mini.digital.comp.mymini,
mini.digital.$,mini.digital.util);
(function(){mini.digital.comp.headertoolbar=function(b,e,k,g){function c(b,c){var d=r,f=k(d.find(C.myMiniDefault)),e=k(d.find(C.myMiniLogin)),h=k(d.find(C.myMiniLogout));d=k(d.find(C.myMiniLoginCircle));b.isLogin&&(f.hide(),h.hide(),a(e,c),e.show(),d.show());if(b.logout){c=h.find(".md-heading");var l=c.text()+", "+F.userName;c.text(l);g.cookiecontroller.deletePersistence("gcdmToken");c=window.location.href;l=window.location.pathname.split("/");2<l.length&&"mymini"==l[2]&&(c=window.location.origin+
"/"+l[1]+"/"+l[2]+"/logout");window.location.replace(A.oneLogoutUrl+"?redirectUrl\x3d"+c);f.hide();h.show();e.hide();d.hide()}b.logout||b.isLogin||(f.show(),h.hide(),e.hide(),d.hide())}function a(a,b){var d=b.gcdmLanguage.toLowerCase()+"-"+b.gcdmCountry.toLowerCase();d=window.location.origin+"/"+d+"/myminiweb/api/v1/flyout/linklist";null==F.userName&&(F.inProgress=!0,k.ajax({url:d,dataType:"json",headers:{Market:b.gcdmCountry}}).done(function(b){var c=a.find(".md-heading"),d=a.find(".md-links"),e=
k(c).data().welcome+", "+b.firstName;F.userName=b.firstName;c.text(e);k(d).empty();k.each(b.links,function(a,b){a="_self";if("SID_MY_PROFILE"===b.linkText||"SID_MY_CONFIGURATION"===b.linkText)a="_blank";b=' \x3ca href\x3d"'+b.linkPath+'" target\x3d"'+a+'" class\x3d"btn btn-text md-link"\x3e\x3cspan class\x3d"btn-title"\x3e'+b.linkName+'\x3c/span\x3e\x3cspan class\x3d"md-icn-angle-right"\x3e\x3c/span\x3e\x3c/a\x3e';k(d).append(b)});f();F.inProgress=!1;b=new URLSearchParams(window.location.search);
b.has("flyout")&&"mymini"===b.get("flyout")&&n()}).fail(function(a,b){F.inProgress=!1;F.logout=!1;F.isLogin=!1;F.userName=null;f();c(F)}))}function d(){g.cookiecontroller.checkPresentAndInit().then(function(){1==A.enableOneLogin&&(y=g.cookiecontroller.isUsageAllowed("gcdmToken"))&&((B=g.cookiecontroller.getPersistence("gcdmToken"))&&0<B.length?(F.isLogin=!0,F.logout=!1,c(F,A)):f())})}function f(){0<z.length&&z.removeClass("md-ht-hidden")}function h(a){v.addClass("md-disabled-"+a)}function n(a){g.veil.manageVeil("open",
H,x);0<D.length&&(D[0].style.width="100%",D[0].style.right="0px",D[0].style.opacity="1",u.addClass("md-disable-header"));k("html").addClass("md-no-scroll");a&&a.preventDefault();return!1}function m(a){w.addClass("md-disabled-"+a)}function q(a){w.removeClass("md-disabled-"+a)}function l(a){v.removeClass("md-disabled-"+a)}var t,r,v,w,x,u,y,B="",z,C={myMini:".md-js-ht-mymini",search:".md-js-icn-search",shopping:".md-js-ht-shopping",myMiniDefault:".md-mymini-default",myMiniLogin:".md-mymini-user-login",
myMiniLogout:".md-mymini-user-logout",myMiniLoginCircle:".md-circle-login",myMiniLoginButton:".md-js-has-submenu"},A,D,H={zIndex:13,id:"myMiniOpen",cssClass:"md-mymini-veil-open"},F={isLogin:!1,logout:!1,userName:null,inProgress:!1,links:null};return{init:function(a){t=k(a);r=k(t.parent()[0]);x=k(r).closest(".md-navigation-rework");u=k(r).closest(".md-header");A=t.data();v=t.find(C.search);z=t.find(C.myMiniLoginButton);w=t.find(C.shopping);D=r.find(".md-mymini-user-content");F.isLogin=!1;d();g.cookiecontroller.registerOnConsentChange(d);
g.cookiecontroller.registerOnInitialized(d);t.on("mouseenter",C.myMini,function(){k.publish("md:ht:mouseenter");h("hover");m("hover")}).on("mouseleave",C.myMini,function(){k.publish("md:ht:mouseleave");l("hover");q("hover")}).on("focus",C.myMini,function(){k.publish("md:ht:mouseenter");h("hover");m("hover")}).on("blur",C.myMini,function(){k.publish("md:ht:mouseleave");l("hover");q("hover")}).on("click",C.myMini,function(a){1==A.enableOneLogin?n(a):(k.publish("md:ht:click"),a.preventDefault(),b.trigger());
h("persist");m("persist")}).on("click",C.search,function(a){if(b.shelfIsOpen())return!1;var c=k(a.currentTarget).attr("target");if("_blank"===c||"_self"===c)return!0;a.preventDefault();e.trigger()}).on("click",C.shopping,function(a){a.stopPropagation();a=k(a.currentTarget).data();window.location.replace(window.location.origin+a.href)});r.on("click",".md-js-btn-onelogin",function(a){a=A;var b=a.oneLoginUrl,d=new URL(window.location.href),f=window.location.origin+a.gcdmRedirectUrl,e=d.searchParams;
e.set("flyout","mymini");d.search=e.toString();d=btoa(d);b=b.replace("${gcdmClient}",a.gcdmClient).replace("${gcdmBrand}",a.gcdmBrand).replace("${gcdmCountry}",a.gcdmCountry).replace("${gcdmLanguage}",a.gcdmLanguage).replace("${gcdmScope}",a.gcdmScope).replace("${gcdmResponseType}",a.gcdmResponseType).replace("${redirectUri}",f).replace("${state}",encodeURIComponent(d));window.location.replace(b);c(F,A)}).on("click",".md-js-btn-oneregister",function(a){a=A;var b=a.oneRegisterUrl,c=btoa(window.location.href),
d=window.location.origin+a.gcdmRedirectUrl;b=b.replace("${gcdmClient}",a.gcdmClient).replace("${gcdmBrand}",a.gcdmBrand).replace("${gcdmCountry}",a.gcdmCountry).replace("${gcdmLanguage}",a.gcdmLanguage).replace("${gcdmScope}",a.gcdmScope).replace("${gcdmResponseType}",a.gcdmResponseType).replace("${redirectUri}",d).replace("${state}",encodeURIComponent(c));-1!=b.indexOf("http")?window.location.replace(b):window.location.pathname=b}).on("click",".md-js-btn-logout",function(a){F.isLogin=!1;F.logout=
!0;c(F,A)}).on("click",".md-mymini-close",function(a){0<D.length&&(D[0].style.right="-"+D[0].offsetWidth+"px",D[0].style.opacity="0",D[0].style.width="0",u.removeClass("md-disable-header"));k.publish("md:mymini:closed");k("html").removeClass("md-no-scroll");g.veil.manageVeil("close",H,x);a.preventDefault();F.logout&&(F.logout=!1,c(F,A))});k.subscribe("md:mymini:closed",function(){l("persist");q("persist")});k.subscribe("md:myminishelf:myMiniContentLoaded",function(){t.find(C.myMini).parent().removeClass("md-ht-hidden")})},
enableSearch:l}}(mini.digital.comp.myminishelf,mini.digital.comp.search,mini.digital.$,mini.digital.util)})();mini.digital.comp.stickynavigation=mini.digital.comp.stickynavigation||{};
(function(b,e,k,g,c){mini.digital.comp.stickynavigation=function(){function a(a){a?B.find(I.toggleCtas).remove():b(I.navCtas).find(I.toggleCtas).clone(!0).appendTo(B)}function d(){B.addClass("md-stickynavigation-is-wide");b(".md-sn-panner").length?b(".md-sn-panner").show():(b(I.stickNav).append('\x3cspan class\x3d"md-sn-panner left md-icn-angle-left" data-scroll-modifier\x3d"-1"\x3e\x3c/span\x3e\x3cspan class\x3d"md-sn-panner right md-icn-angle-right" data-scroll-modifier\x3d"1"\x3e\x3c/span\x3e'),b(".md-sn-panner").on("mousedown touchstart",
function(){var a=b(this).data("scrollModifier");a=parseInt(a,10);l(a)}).on("mouseup touchend",function(){clearInterval(x);x=0}))}function f(a){var c=0,d=2;a.find("li").each(function(){c+=b(this).outerWidth(!0);d++});return c+d}function h(){B=b(".md-stickynavigation");z=B.find(".md-stickynavigation-item")}function n(){!g.wide.matches&&Modernizr.touch?(w(B),D.dom.tabDimensions(A),D.dom.centerActiveItemNoAnimation(B.find(".md-sn-item-active"))):(D.dom.removeMargins(),m())}function m(){var a=D.dom.hasMoreThanOneItem();
G=parseInt(b("body").offset().left,10);q();t();B.toggleClass("md-sn-visible",a).toggleClass("md-sn-hidden",!a);w(B);u&&g.wide.matches&&!Modernizr.touch?d():b(".md-sn-panner").length&&(B.removeClass("md-stickynavigation-is-wide"),b(".md-sn-panner").hide())}function q(){if(b(I.ctaWrapper).hasClass(K.stickShow)){C.css({left:0,right:0});B.css({width:"100%"});var a={},c="padding-left";k&&k.directionRTL&&k.directionRTL.isEnabled&&(c=k.directionRTL.isEnabled()?"padding-right":"padding-left");a[c]=G;B.find(I.stickNavContainer).css(a)}else C.css({left:"",
right:""}),B.css({left:"",right:""}),B.find(I.stickNavContainer).removeAttr("style")}function l(a){0===x&&(x=setInterval(function(){var b=B.find(".md-sn-container").scrollLeft()+5*a;B.find(".md-sn-container").scrollLeft(b)},10))}function t(){setTimeout(function(){H=b(".md-sn-two-part").length?parseInt(B.parent().offset().top,10)-49:parseInt(B.parent().offset().top,10)+2;r()},450)}function r(){if(b(e).scrollTop()>=H&&0<=H)B.hasClass(K.stickShow)||(a(!1),D.dom.hasMoreThanOneItem()&&!c.isRunning()&&
(b(I.ctaWrapper).addClass(K.stickShow),b(I.pageLoader).addClass(K.stickNavOn),B.addClass(K.stickShow),b.publish("md:sn:positioned",["fixed",B.height()]))),u&&(b(I.toggleCtas).css({top:49}),b(I.openCtas).css({top:98})),!y||Modernizr.touch&&!k.browser.isIPad||b(I.openCtas).css({top:48});else{if(B.hasClass(K.stickShow)){a(!0);b(I.ctaWrapper).removeClass(K.stickShow);b(I.pageLoader).removeClass(K.stickNavOn);B.removeClass(K.stickShow);if(!g.wide.matches||Modernizr.touch)B.css("display","none"),B.css("display",
"");b.publish("md:sn:positioned",["static"])}b(I.toggleCtas).css({top:""});b(I.openCtas).css({top:""})}q()}function v(){r()}function w(a){A=f(a);u=A>b(I.main).width()-90;a=f(b(I.openCtas));y=A>b(I.main).width()-a}var x=0,u=!1,y=!1,B={},z={},C={},A={},D={},H={},F={},G=0,K={stickShow:"md-sticky-show",stickNavOn:"md-sn-fixed-show",isWide:"md-stickynavigation-is-wide"},I={ctaWrapper:".md-nav-ctas-wrapper",pageLoader:".md-page-loading-indicator",main:".md-main",toggleCtas:".md-toggle-ctas",openCtas:".md-ctas",
stickNav:".md-stickynavigation",navCtas:".md-nav-ctas .md-component",stickNavContainer:".md-sn-container"};return{init:function(a){B=b(a);C=b(".md-nav-ctas-fixedwrapper");z=B.find(".md-stickynavigation-item");D=mini.digital.comp.stickynavigation;mini.digital.comp.stickynavigation.carousel.init(B);w(B);F=b(".md-cs-accordion-delay-active").length&&!g.wide.matches?51:2;H=parseInt(B.offset().top,10)+F;u&&g.wide.matches&&!Modernizr.touch&&(d(),z.each(function(a,c){b(c).find(".md-stickynavigation-item-link").click(function(){var a=
b(c).find(".md-stickynavigation-item-link").outerWidth(!0),d=B.find(".md-sn-container").outerWidth(!0),f=b(c).find(".md-stickynavigation-item-link").position().left;f<d/4&&B.find(".md-sn-container").scrollLeft(-1*a);f>3*d/4&&B.find(".md-sn-container").scrollLeft(d-a)})}));!g.wide.matches&&Modernizr.touch?(D.dom.tabDimensions(A),D.dom.centerActiveItemNoAnimation(B.find(".md-sn-item-active"))):D.dom.hasMoreThanOneItem()?B.removeClass("md-sn-hidden").addClass("md-sn-visible"):B.removeClass("md-sn-visible").addClass("md-sn-hidden");
b.subscribe("md:sn-carousel-animation-end",t);b.subscribe("md:mobilenav:closed",t);b.subscribe("md:mobilenav:open",t);b.subscribe("md:update-sn-items",h);b.subscribe("md:update-sn-items",m);b.subscribe("md:redraw:pageElements",m);b.subscribe("md:overlay:opening",v);b(e).on("scroll",k.throttle(function(){B.hasClass("md-sn-hidden")||r()}));imagesLoaded(document).on("always",t).on("done",m).on("done",r);b.subscribe("md:resize",n);b.subscribe("md:resize",m);b.subscribe("md:overlay:closed",m)}}}()})(mini.digital.$,
window,mini.digital.util,mini.digital.util.matchmedia,mini.digital.comp.configurator);
(function(b,e,k){mini.digital.comp.stickynavigation.dom=function(){var g={},c={},a={},d=0,f={},h={},n={},m=!1,q={},l=[],t=function(e){f=b('\x3cdiv class\x3d"md-page-carousel-wrapper"\x3e\x3cdiv class\x3d"md-page-carousel"\x3e\x3cdiv class\x3d"md-page-carousel-visuals"\x3e\x3cdiv class\x3d"md-page-carousel-items"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e');h=f.find(".md-page-carousel-items");a.each(function(){l.push('\x3cdiv class\x3d"md-page-carousel-item empty md-icnpre-loader"/\x3e')});h.prepend(l.join(""));
c.nextAll().prependTo(h.find(".md-page-carousel-item:eq("+d+")").removeClass("empty"));e.closest("main").append(f)},r=function(e){f=b('\x3cdiv class\x3d"md-page-carousel-wrapper"\x3e\x3cdiv class\x3d"md-page-carousel"\x3e\x3cdiv class\x3d"md-page-carousel-visuals md-page-carousel-visuals-top"\x3e\x3cdiv class\x3d"md-page-carousel-items"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"md-page-carousel-visuals md-page-carousel-visuals-bottom"\x3e\x3cdiv class\x3d"md-page-carousel-items"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e');
h=f.find(".md-page-carousel-visuals-top .md-page-carousel-items");n=f.find(".md-page-carousel-visuals-bottom .md-page-carousel-items");a.each(function(){l.push('\x3cdiv class\x3d"md-page-carousel-item empty md-icnpre-loader"/\x3e')});h.prepend(l.join(""));n.prepend(l.join(""));b(c.prevAll().get().reverse()).prependTo(h.find(".md-page-carousel-item:eq("+d+")").removeClass("empty"));c.nextAll().prependTo(n.find(".md-page-carousel-item:eq("+d+")").removeClass("empty"));e.closest("main").append(f);c.insertAfter(h.parent())},
v=function(a){if(a.length){var b=a.outerWidth(!0);g.scrollLeft(g.scrollLeft()+a.position().left-g.width()/2+b/2)}},w=function(a){var b=c.outerWidth(),d=0;b>a&&(d=(b-a)/2);c.css("paddingLeft",d);c.last().css("paddingRight",d)},x=function(){return 1<a.length},u=function(d){g.find("ul").remove();d.find("ul").clone().appendTo(g.find(".md-sn-container"));g=b(".md-stickynavigation");c=g.parent();c.removeClass("md-sn-wrap-hidden");a=g.find("li");mini.digital.comp.stickynavigation.carousel.updateElements(a);
b.publish("md:update-sn-items");!k.wide.matches&&Modernizr.touch?(w(a),v(g.find(".md-sn-item-active"))):x()?g.removeClass("md-sn-hidden").addClass("md-sn-visible"):g.removeClass("md-sn-visible").addClass("md-sn-hidden")},y=function(a){b.each(g.find("li"),function(c,d){d=b(d).find("a").attr("href");var f=a.find("li:eq("+c+") a").attr("href");d!==f&&q.eq(c).empty().addClass("empty")})},B=function(a,d,e,g){d=e-d;var h=0;c.addClass("md-moving-item");for(setTimeout(function(){u(a);c.removeClass("md-moving-item")},
50);h<d;)b('\x3cdiv class\x3d"md-page-carousel-item empty md-icnpre-loader"/\x3e').insertAfter(q.last()),h++;q=f.find(".md-page-carousel-item");C(e,g)},z=function(a,b,d,f){c.addClass("md-moving-item");setTimeout(function(){c.removeClass("md-moving-item");u(a)},350);q.eq(d).hasClass("empty")&&C(d,f);q.eq(d).nextAll().remove()},C=function(a,c){var d=q.eq(a);d.removeClass("empty").html(c);a=a<q.length?a:q.length;if(-1<a)for(c=0;c<a;c++)e.initialise(q[c]);e.initialise(d[0]);b.publish("md:page-content:updated",
[d])};return{init:function(e,k){g=e;c=g.parent();a=g.find(".md-stickynavigation-item");m=k;var l=a.find(".md-sn-item-active").parent();l=a.index(l);var q=b.Deferred();d=l;k?(r(e),e.addClass("md-sn-two-part")):t(e);b.subscribe("md:configurator:initialised",function(){f.fadeOut(1E3)});b.subscribe("md:configurator:unload",function(){f.fadeIn(600)});q.resolve({carouselMain:f,snItems:a,itemWrapper:h,itemWrapperBottom:n,itemIndex:l});return q.promise()},updateLayout:function(a,d,g){var h=b(a).find(".md-stickynavigation").parent();
if(m){d=f.find(".md-page-carousel-visuals-top .md-page-carousel-item:eq("+g+")");var k=f.find(".md-page-carousel-visuals-bottom .md-page-carousel-item:eq("+g+")");h.length?((a=h.prevAll().get())&&b(a.reverse()).prependTo(d.removeClass("empty")),h.nextAll().prependTo(k.removeClass("empty"))):a.prependTo(k.removeClass("empty"));e.initialise(d[0]);e.initialise(k[0])}else{if(b(".md-custom-selector").length){k=c.find(".md-sn-item-active").attr("data-sn-item-code");var l=b(a).find(".md-cpiwrapper-area").html();
"home"===k&&(k="");void 0===mini.digital.util.cpiPageManager.cpiCache[k]&&(mini.digital.util.cpiPageManager.cpiCache[k]=l)}h.length?h.nextAll().prependTo(d.removeClass("empty")):a.prependTo(d.removeClass("empty"));e.initialise(d[0])}f.trigger("slider:animateToItem",g)},updateNavigationAndCarouselContent:function(a,d,e){var g=parseInt(c.find("li").length-1,10),h=parseInt(a.find("li").length-1,10),k=parseInt(a.find(".md-sn-item-active").parent().index(),10);q=f.find(".md-page-carousel-item");1<=h&&
y(a);g>h?z(a,g,h,d):g<h?B(a,g,h,d):(u(a),C(h,d));f.trigger("slider:animateToItem",k);b.publish("md:content:updated",[e])},tabDimensions:w,removeMargins:function(){c.css("paddingLeft","");c.last().css("paddingRight","")},centerActiveItem:function(a){var b=a.outerWidth(!0);g.stop().animate({scrollLeft:g.scrollLeft()+a.position().left-g.width()/2+b/2})},centerActiveItemNoAnimation:v,hasMoreThanOneItem:x,removeNavigation:function(){g.find("ul").remove();g.removeClass("md-sn-visible").addClass("md-sn-hidden");
g.parent().addClass("md-sn-wrap-hidden")}}}()})(mini.digital.$,mini.digital.util,mini.digital.util.matchmedia);
(function(b,e){mini.digital.comp.stickynavigation.ajax=function(){var k,g=b('\x3cspan class\x3d"md-page-loading-indicator"\x3e\x3cspan class\x3d"md-icn-loader"\x3e\x3c/span\x3e\x3c/span\x3e'),c=function(a){var c=b.Deferred(),f=b(".md-custom-selector").length?"main/contentwrapperforcpi":"main",h=e.getContentUrl(a,f);g.toggleClass("md-is-active",!0);b.ajax({url:h,data:{value:1},type:"get",error:function(c,d,f){404==c.status?window.location.href=a:b(".md-page-loading-indicator").remove()},success:function(a){b.get(h,
null,null,"html").then(function(a){g.toggleClass("md-is-active",!1);c.resolve(a)})}});return c.promise()};return{init:function(a){a=k=a;b(".md-cpi-loading-indicator").length||a.prepend(g)},populateContent:function(a){c(a.itemURL).then(function(c){c=b("\x3cdiv/\x3e").html(c);mini.digital.comp.stickynavigation.dom.updateLayout(c,a.currentItem,a.itemIndex);b.publish("md:cpi:content:loaded",[{contentUrl:a.itemURL}])});b(".md-youtubeplayer")?setTimeout(function(){b.publish("md:componentInitializer:init",
b(".md-youtubeplayer"))},1E3):setTimeout(function(){b(window).trigger("scroll")},1E3)}}}()})(mini.digital.$,mini.digital.util);
(function(b,e,k,g,c,a,d,f,h,n,m,q){mini.digital.comp.stickynavigation.carousel=function(){function g(a){var b;a=a.find(".md-video-player \x3e *[id^\x3dplayer-]");a.length&&a.each(function(a){b=jwplayer(a.id);try{b&&b.getState&&"PLAYING"===b.getState()&&b.pause()}catch(K){console.log(K)}})}function t(b){b.preventDefault();var d=a(b.target),e=d.attr("href"),g=d.hasClass("md-sn-item-active");if(e){var k=d.attr("data-sn-item-code");b=a(b.currentTarget).index();var l=y.find("."+r.CAROUSEL_CLASSNAME_PREFIX+
"-item:eq("+b+")"),q={stickyNavigation:B,itemURL:e,currentItem:l,carouselMain:y,itemIndex:b};l.hasClass("empty")?("home"===k&&(k=""),void 0===h.cpiCache[k]?n.ajax.populateContent(q):(n.dom.updateLayout(h.cpiCache[k],q.currentItem,q.itemIndex),g||a.publish("md:cpi:content:updated",[{contentUrl:q.itemURL}]))):(y.trigger("slider:animateToItem",b),g||a.publish("md:cpi:content:updated",[{contentUrl:q.itemURL}]));B.find(".md-sn-item-active").removeClass("md-sn-item-active");d.addClass("md-sn-item-active");
!f.wide.matches&&Modernizr.touch&&n.dom.centerActiveItem(d);m.isRunning()||((k=d.data("pageTitle"))||(k=d.text()),(d=d.attr("href"))&&c.pushState({uri:d+window.location.search,title:k}));g||a.publish("md:content:updated",[e])}}var r={SCROLL_SWIPE_THRESHOLD:8,SCROLL_SWIPE_ANGLE:50,CLASSNAME_PREFIX:"md-stickynavigation",CAROUSEL_CLASSNAME_PREFIX:"md-page-carousel",CAROUSEL_EVENT_SLIDE_OUT:"md:carousel:slide:out",SLIDER:{ANIM_DURATION:750,DRAG:.15,FRICTION:.1,SNAP:{SLIDE_THRESHOLD:.3,VELOCITY_THRESHOLD:.3,
DURATION:550}}},v={},w=0,x=!1,u={},y={},B={},z=function(a,b){this.$elem=b;this.notify=function(){}},C=function(a,b,c,d,f){return-d*(b/=f)*(b-2)+c},A=function(a){u=a.map(function(a,b){return new z(a,b)}).toArray()},D=function(c,f,h){var l=this,m=0,n=0,t,B,z=!1,D=!1,F=function(){l.pageSlider.setDimensions(new k(f.width(),f.height()))};A(c);l.pageSlider=new b(u,d,C,y.find("."+r.CAROUSEL_CLASSNAME_PREFIX+"-visuals"));l.pageSlider.addConstraint(new e.Drag(r.SLIDER.DRAG));l.pageSlider.addConstraint(new e.EdgeResistance);
l.pageSlider.addConstraint(new e.Decelerate(r.SLIDER.FRICTION));l.pageSlider.addConstraint(new e.SnapToGrid(r.SLIDER.SNAP.SLIDE_THRESHOLD,r.SLIDER.SNAP.VELOCITY_THRESHOLD,r.SLIDER.SNAP.DURATION));l.pageSlider.onUpdate(function(a,b){f.css("left",100*a.x/b.x+"%");m=100*Math.round(a.x/b.x);a=Math.round(-a.x/b.x);w!==a&&(w=a);q.checkImages()});if(x){var H=function(){d(H);if(m!==n){var a=m-n;n+=a/8;.005>Math.abs(a)&&(n=m);h.css("left",n+"%")}};d(H)}F();a.subscribe("md:resize",F);a.subscribe("md:update-sn-items",
function(){l.pageSlider.elements=u});if(Modernizr.touch)y.find("."+r.CAROUSEL_CLASSNAME_PREFIX+"-visuals").on("touchstart",function(b){var c=b.originalEvent.touches[0];t=new k(c.pageX,c.pageY);z=!0;D=!1;"md-gallery-carousel"!==a(b.target).parents(".md-gallery-carousel").attr("class")?l.pageSlider.start(t.clone()):l.pageSlider.pauseLoop()}).on("touchmove",function(a){var b=a.originalEvent.touches[0];B=new k(b.pageX,b.pageY);z&&(b=k.diff(B,t),b.mag()>r.SCROLL_SWIPE_THRESHOLD&&(z=!1,Math.abs(180*Math.atan(b.x/
b.y)/Math.PI)>=r.SCROLL_SWIPE_ANGLE?D=!0:(l.pageSlider.end(),l.pageSlider.pauseLoop())));l.pageSlider.isDragging&&(D&&a.preventDefault(),l.pageSlider.move(B.clone()))}).on("touchend",function(b){D=!1;l.pageSlider.end();setTimeout(function(){a(u[w].$elem).find("a").trigger("click");l.pageSlider.pauseLoop()},r.SLIDER.SNAP.DURATION)});l.pageSlider.notifyListeners();l.animateToItem=function(b){var c=new k(-b*l.pageSlider.dimensions.x,0),d=y.find(".md-active-slide"),f=r.CAROUSEL_CLASSNAME_PREFIX,e,h,m;
v!==b&&(l.pageSlider.animateTo(c,r.SLIDER.SNAP.DURATION),a.publish(r.CAROUSEL_EVENT_SLIDE_OUT,[d]),d.removeClass("md-active-slide"),g(d),setTimeout(function(){y.find("."+f+"-visuals").each(function(c,d){a(d).find("."+f+"-item:eq("+b+")").addClass("md-active-slide")});e=x?y.find("."+f+"-visuals-top .md-active-slide"):y.find(".md-active-slide");h=e.find(".md-wrap-content").length||e.find(".md-cpi-area").length?e.children().outerHeight():e.wrapInner('\x3cdiv class\x3d"md-wrap-content"\x3e').children().outerHeight();
x&&(m=y.find("."+f+"-visuals-bottom .md-active-slide").children().outerHeight(),y.find("."+f+"-visuals-bottom ."+f+"-item").css("max-height",m));y.find("."+f+"-item").css("max-height",h||"");y.find(".md-active-slide").css("max-height","");a.publish("md:sn-carousel-animation-end");v=b},r.SLIDER.SNAP.DURATION))};l.jumpToStartItem=function(a){var b=new k(-a*l.pageSlider.dimensions.x,0);l.pageSlider.animateTo(b,0);m=100*Math.round(b.x/l.pageSlider.dimensions.x);n=m-1E-5;y.find("."+r.CAROUSEL_CLASSNAME_PREFIX+
"-item:eq("+a+")").addClass("md-active-slide")}};return{init:function(b){B=b;x=B.hasClass("md-stnav-both");void 0===h.cpiCache&&(h.cpiCache={});if(a(".md-custom-selector").length){b=B.find(".md-sn-item-active").attr("data-sn-item-code");var c=a(".md-cpiwrapper-area").html();"home"===b&&(b="");h.cpiCache[b]=c}n.dom.init(B,x).then(function(b){y=a(b.carouselMain);var c=new D(b.snItems,b.itemWrapper,b.itemWrapperBottom);y.on("slider:jumpToStartItem",function(a,b){c.jumpToStartItem(b)}).on("slider:animateToItem",
function(a,b){c.animateToItem(b)});B.on("click","."+r.CLASSNAME_PREFIX+"-item",t);n.ajax.init(y);y.trigger("slider:jumpToStartItem",b.itemIndex)})},updateElements:A}}()})(mini.digital.util.slider.core,mini.digital.util.slider.constraints,mini.digital.util.vector,mini.digital.util.transitionEndEvent,mini.digital.util.historyManager,mini.digital.$,window.requestAnimationFrame,mini.digital.util.matchmedia,mini.digital.util.cpiPageManager,mini.digital.comp.stickynavigation,mini.digital.comp.configurator,
mini.digital.util.lazyLoadImage);
(function(){mini.digital.comp.countryselector=function(b,e){var k={},g,c,a,d={},f=Modernizr.csstransforms3d?Modernizr.prefixed("transform"):"left",h=Modernizr.csstransforms3d?"translate3d(%s%, 0, 0)":"%s%",n,m,q=!!b(".md-landing-page").length,l=!1,t=document.documentElement.lang,r={},v,w=function(a){var c=b(a.currentTarget).parent().children(".md-pagesplit");c.is(".md-component-defer")&&(c.removeClass("md-component-defer"),e.initialise(c));a.preventDefault()},x=function(a){(a.sandbox&&a.sandbox.find(a.selectorElem)).each(function(c,
d){c=b(d);d=c.prev(a.selectorToggle);var f;d.one("click",w);(f=c.data("pagesplit"))&&f.destroy&&f.destroy();if(l&&d.hasClass("md-footer-link-overlay"))return!0;a.props.toggleLink=d;c.pagesplit(a.props)})},u=function(a){a.find(".md-js-footer-shelf-child").each(function(a,c){(a=b(c).data("pagesplit"))&&a.destroy&&a.destroy()})},y=function(a){(l=!e.matchmedia.wide.matches)?x({sandbox:a,selectorElem:".md-js-footer-shelf-child",selectorToggle:".md-js-footer-shelf-toggle",props:{veil:!1,direction:"both",
key:"footer",level:2}}):u(a)},B=function(){y(d)},z=function(a){var b=a.parents(".md-cts-form-item"),c=b.find(".md-cts-form-error");if(""!==a.val()&&void 0!==a.val())return c.addClass("md-cts-form-hide"),b.removeClass("md-cts-form-has-error").addClass("md-cts-form-is-valid"),!0;c.removeClass("md-cts-form-hide");b.removeClass("md-cts-form-is-valid").addClass("md-cts-form-has-error");return!1},C=function(c){n&&m&&a.each(function(){var a=b(this);a.data("lang")===c?a.attr("disabled",!1).closest(".md-cts-form-item").removeClass("md-cts-form-hide"):
a.attr("disabled",!0).closest(".md-cts-form-item").addClass("md-cts-form-hide")})},A=function(a){v=a.find("option:selected").data("value");C(v)},D=function(){if(n){var a=b(d.find(".md-cts-form-select-language")).find("select");(v=e.countryPreferences.getPreference("language"))?a.find("option[data-value\x3d"+v+"]").attr("selected",!0):A(a);a.on("change",function(){A(a)})}},H=function(a){a=e.getLinkedUrl(window.location.href,a);window.location.href=a},F=function(){var d;if(m){var f=a.not("[disabled]");
(d=e.countryPreferences.getPreference("province"))&&f.find("option[value\x3d"+d+"]").attr("selected",!0)}c.on("change",function(a){z(b(a.currentTarget))})},G=function(){g.on("submit",function(b){b.preventDefault();console.log("langueage submit");b=!0;if(n){var c=e.countryPreferences.getPreference("language");if(v!==c){r.language=v;var d=!0}else r.language=c,q&&(d=!0)}var f;m&&(c=a.not("[disabled]"),(f=z(c))?r.province=c.val():b=!1,q&&(d=!0));d&&b&&(d=v||t,e.countryPreferences.setPreferences(r),H(d))})},
K=function(){var a=b(".md-cts-bg-image-wrap"),c=b(".md-cts-carousel-group");if(c.length){var e=b(".md-cts-carousel-link");e.each(function(a,c){b(c).data("slide-index",a)}).on("click",function(e){e.preventDefault();var g=b(e.target).data("slide-index");e=b(e.target).data("bg-class")?b(e.target).data("bg-class"):"";g=100*(parseInt(g,10)-1);c.css(f,h.replace("%s",g));y(d);a.length&&(g=a.data("bg-class"),a.removeClass(g).addClass(e).data("bg-class",e))})}},I=function(){k.each(function(){var a=b(this);
14<a.find(".md-cts-list-item").length&&a.addClass("md-cts-col-wide")})},S=function(){(n||m)&&e.cookiecontroller.checkPresentAndInit().then(function(){e.countryPreferences.isCookieAllowed()}).always(function(){var a=t.lastIndexOf("-")+1;a=t.substring(a);r.country=a;e.countryPreferences.init()})},J=function(){var a=[];b(d.find(".md-cts-form-select-language")).find("select option").each(function(){a.push(b(this).data("value"))});return a},L=function(){var a=!0;b("#autoRedirect").data("return")?e.cookiecontroller.checkPresentAndInit().then(function(){e.countryPreferences.isCookieAllowed()&&
(a=R())}).always(function(){a&&b("body").show()}):b("body").show()},R=function(){var a=!0;if(0!==window.document.referrer.indexOf(window.location.origin)){var c=e.countryPreferences.getPreference("language");if(c)a=!1,H(c);else{var d=navigator.language.substr(0,2);b.each(J(),function(b,c){if(0===c.indexOf(d))return r.language=c,e.countryPreferences.setPreferences(r),a=!1,H(c),!1})}}return a};return{init:function(f){d=b(f);y(d);b.subscribe("md:resize",B);k=d.find(".md-cts-country-col");g=b(d.find(".md-cts-form"));
c=g.find("select");a=g.find(".md-cts-form-select-province select");n=!!b(d.find(".md-cts-form-select-language")).length;m=!!a.length;I();S();L();D(d);F(d);G();K()}}}(mini.digital.$,mini.digital.util)})();
(function(){mini.digital.comp.logo=function(b){var e,k;return{init:function(g){e=b(g);k=e.find(".md-logo-link");b.subscribe("md:ht:mouseenter",function(){e.addClass("md-disabled-hover")});b.subscribe("md:ht:click",function(){e.addClass("md-disabled-persist")});b.subscribe("md:ht:mouseleave",function(){e.removeClass("md-disabled-hover")});b.subscribe("md:mymini:closed",function(){e.removeClass("md-disabled-persist")});k.on("click",function(){if(mini.digital.comp.myminishelf.shelfIsOpen())return!1})}}}(mini.digital.$)})();
(function(){mini.digital.comp.contenttile=function(b){function e(e){e.on("click",k.overlayTrigger,function(c){var a=b(c.currentTarget),d=e.find(k.overlaySource);c.preventDefault();1>d.length||(a.overlay({source:d,title:a.data("overlayTitle"),style:a.data("overlayStyle"),initialiseSource:!0}),a.data("overlay").openOverlay())})}var k={overlayTrigger:".md-contenttile-overlay-ctrl",overlaySource:".md-contenttile-overlay"};return{init:function(g){e(b(g))}}}(mini.digital.$)})();
(function(){mini.digital.comp.contenttable=function(b,e){function k(b){var d=b.hasClass(h.scrollActive);e.matchmedia.wide.matches&&d?(b.removeClass(h.scrollActive),d=!1,b.data(f.scrollWrappers).$main.off("scroll touchstart touchmove touchend")):e.matchmedia.wide.matches||d||(b.data(f.scrollWrappers)||a(b),b.addClass(h.scrollActive),d=!0,c(b));d&&g(b)}function g(a){var c=a.data(f.scrollWrappers);a.find("tr").css("height","auto");c.$lead.find("tr").each(function(a,d){d=b(d);a=c.$main.find("tr:eq("+
a+")");var f=d.outerHeight(),e=a.outerHeight(),g=f-e;0<g?a.height(f):0>g&&d.height(e)})}function c(a){var b=a.data(f.scrollWrappers),c;b.$main.on("scroll",function(){var c=b.$main,f=c.find(d.table).width();a.removeClass(h.scrollExtent);c.scrollLeft()+c.width()===f&&a.addClass(h.scrollExtent)});if(Modernizr.touch)b.$main.on("touchstart",function(){a.addClass(h.scrollInteracting)}).on("scroll touchmove touchend",function(){c&&clearTimeout(c);c=setTimeout(function(){a.removeClass(h.scrollInteracting)},
100)})}function a(a){var c=a.find("table"),k={$main:b('\x3cdiv class\x3d"'+h.scrollMain+'"\x3e\x3c/div\x3e'),$lead:b('\x3cdiv class\x3d"'+h.scrollLead+'"\x3e\x3c/div\x3e')},l=b('\x3cdiv class\x3d"'+h.scrollIndicator+'" style\x3d"margin-bottom:'+e.scrollbarsize()+'px"\x3e\x3c/div\x3e\x3cdiv class\x3d"'+h.touchIcon+'"\x3e\x3c/div\x3e');a.data(f.scrollWrappers,k);k.$main.insertAfter(c).append(c.clone());a.append(l);c.find(d.cell+":not(:first-child)").remove();k.$lead.insertAfter(c).append(c);0<c.find("img").length&&
b(function(){g(a)})}var d={scrollWrapper:".md-contenttable-scroll",table:".md-contenttable",cell:".md-contenttable-cell"},f={scrollWrappers:"scrollWrappers"},h={scrollLead:"md-contenttable-scroll-lead",scrollMain:"md-contenttable-scroll-main",scrollActive:"md-contenttable-scroll-active",scrollInteracting:"md-contenttable-scroll-touched",scrollExtent:"md-contenttable-scroll-extent",scrollIndicator:"md-contenttable-scroll-decor",touchIcon:"md-contenttable-touch-scroll-icon md-icn-360-swipe-device"};
return{init:function(a){var c=b(a).find(d.scrollWrapper);c.length&&(k(c),b.subscribe("md:resize",function(){k(c)}))}}}(mini.digital.$,mini.digital.util)})();
(function(b,e,k){var g=function(b,a,d){function c(){n.$content.removeClass(m).height("");n.$content.height(n.$content.height())}function g(a){a="boolean"===typeof a&&a||!n.$el.hasClass(m);n.state=a?"open":"closed"}var n=this,m=(d+"-closed").slice(1),q=[];n.toggle=function(a){if("boolean"===typeof a&&n.state!==(a?"open":"closed"))n.$el.toggleClass(m,!a).on(k.transitionEndEvent,function(){g(a);e.publish("md:contentexpander:toggle",[n])})};n.destroy=function(){for(;q.length;)e.unsubscribe(q.pop())};
return function(){var a=e.Deferred(),f=b.find("img");n.$el=b;n.$content=b.find(d+"-content");n.$el.on("click",d+"-toggle",function(){var a="closed"===n.state;n.toggle(a);a&&k.scrollTo.element(n.$el,{duration:400})});f.length?f.load(a.resolve).each(function(b,c){c.complete&&a.resolve()}):a.resolve();q.push(e.subscribe("md:resize",c));a.done(c);g();return n}()};mini.digital.comp.contentexpander=function(){return{init:function(b){b=e(b);b.data("contentexpander",new g(b,"contentexpander",".md-contentexpander"))},
teardown:function(b){e(b).data("contentexpander").destroy();e.removeData(b,"contentexpander")}}}()})(window,mini.digital.$,mini.digital.util);
(function(b,e,k){mini.digital.comp.disclaimer=function(){function b(a){var b=e(a.overlayContent),c=b.find(d.heading).first()||b.find(d.headerTitle),f=b.parents(d.overlayWrapper).find(d.overlayTitle);a.requester.is(".md-js-lightbox.md-disclaimer-btn")&&(a=b.find(".parsys-column"),a.length&&a.removeClass("md-colctrl").removeClass(function(a,b){return(b.match(/\bmd-colctrl-\S+/g)||[]).join(" ")}),c.length&&(f.empty().append(c.clone().text()),c.remove()))}function c(a){a=k.getContentUrl(a,"disclaimer");
f.toggleClass("md-is-loading",!0);k.request.get(a,"html").then(function(a){k.teardown(f);f.empty().append(a);k.initialise(f)}).always(function(){f.toggleClass("md-is-loading",!1)})}var a=[],d={name:".md-disclaimer",heading:'[class^\x3d"md-heading-"]',headerTitle:".md-custom-overlay-header-title:first",overlayWrapper:".md-custom-overlay-wrapper",overlayTitle:".md-custom-overlay-title"},f;return{init:function(){f=f||e(d.name);a.push(e.subscribe("md:content:updated",c));a.push(e.subscribe("md:disclaimer:button:click",
function(a,b){"footer"===a&&b.hash&&(a=f.find(b.hash).closest(".md-component").data("contentexpander"))&&a.toggle(!0)}));a.push(e.subscribe("md:contentexpander:toggle",function(a){f[0]&&e.contains(f[0],a.$el[0])&&e.publish("md:disclaimer:items:toggle",[a])}));a.push(e.subscribe("md:overlay:opened",b))},teardown:function(){for(;a.length;)e.unsubscribe(a.pop())}}}()})(window,mini.digital.$,mini.digital.util);mini.digital.comp.standardContentPageIntro=mini.digital.comp.standardContentPageIntro||{};
(function(){mini.digital.comp.standardContentPageIntro.common={selector:{heading:".heading",colText:".parbase",genericList:".genericlist",pageIntroInner:".md-pageintro-inner",pageIntroTabContent:".md-pageintro-tab-content"},cssClass:{typeH:"md-pageintro-type",active:"md-active"},events:{resize:"md:resize",toggleInit:"md:toggle:init",toggleUpdate:"md:toggle:update"}}})();
(function(b,e,k,g){k.typeh=function(){var c=k.common.selector,a=k.common.cssClass,d=k.common.events,f={},e={},g={},m=function(a){this.$elem=b(a);this.$pageIntroInner={};this.$pageIntroTabContent={};this.subToggleInit=[];this.subToggleUpdate=[];this.init.apply(this)};m.prototype={bind:function(a,b){return function(){return a[b].apply(a,arguments)}},onToggleUpdate:function(c){b.contains(this.$elem[0],c.toggle)&&this.$pageIntroTabContent.removeClass(a.active).filter("[data-pageintro-tab-id\x3d"+c.value+
"]").addClass(a.active)},initListeners:function(){this.subToggleInit=b.subscribe(d.toggleInit,this.bind(this,"onToggleUpdate"));this.subToggleUpdate=b.subscribe(d.toggleUpdate,this.bind(this,"onToggleUpdate"))},setInternals:function(){this.$pageIntroInner=this.$elem.find(c.pageIntroInner);this.$pageIntroTabContent=this.$elem.find(c.pageIntroTabContent)},teardown:function(){b.unsubscribe(this.subToggleInit);b.unsubscribe(this.subToggleUpdate)},init:function(){this.setInternals();this.initListeners()}};
e=function(c){f=b(c);f.hasClass(a.typeH)&&f.data("basicIntro",new m(f))};g=function(a){(a=b(a).data("basicIntro"))&&a.teardown()};return{init:e,teardown:g}}()})(mini.digital.$,mini.digital.util.matchmedia,mini.digital.comp.standardContentPageIntro);
(function(b){b.init=function(e,k){for(var g in b)b.hasOwnProperty(g)&&b[g].hasOwnProperty("init")&&"function"===typeof b[g].init&&b[g].init(e,k)};b.teardown=function(e){for(var k in b)b.hasOwnProperty(k)&&b[k].hasOwnProperty("teardown")&&"function"===typeof b[k].teardown&&b[k].teardown(e)}})(mini.digital.comp.standardContentPageIntro=mini.digital.comp.standardContentPageIntro||{});mini.digital.comp.columns=mini.digital.comp.columns||{};
(function(){mini.digital.comp.columns.common={selector:{cols:".md-columns-columns .parsys_column:gt(0)",heading:".heading",colText:".parbase",colsHeaders:".md-columns-col-header",genericList:".genericlist"},cssClass:{typeTriple:"md-columns-type-triple",active:"md-active"},events:{resize:"md:resize",toggleInit:"md:toggle:init",toggleUpdate:"md:toggle:update"}}})();
(function(b,e,k,g){k.typeTriple=function(){var c=k.common.selector,a=k.common.cssClass,d=k.common.events,f={},g={},n={},m=function(a){this.isNarrow=!1;this.$elem=b(a);this.$cols={};this.$colsHeaders={};this.subResize=[];this.init.apply(this)};m.prototype={createWrapper:function(){this.$cols.each(function(a,d){a=b(d).find(c.genericList);b(a.prevAll().get().reverse()).wrapAll('\x3cdiv class\x3d"'+c.colsHeaders.substr(1)+'"\x3e\x3c/div\x3e')});this.$colsHeaders=this.$elem.find(c.colsHeaders)},manageLayout:function(){var a=
-1;this.isNarrow=!e.wide.matches;this.$colsHeaders.css("height","");this.isNarrow||this.$colsHeaders.each(function(c,d){a=Math.max(a,b(d).outerHeight(!0))}).css("height",a)},initListeners:function(){this.subResize=b.subscribe(d.resize,this.manageLayout.bind(this))},setInternals:function(){this.$cols=this.$elem.find(c.cols)},teardown:function(){this.$colsHeaders.css("height","");b.unsubscribe(this.subResize)},init:function(){this.setInternals();this.createWrapper();this.manageLayout();this.initListeners()}};
f=function(c){n=b(c);n.hasClass(a.typeTriple)&&n.data("tripleColumn",new m(n))};g=function(a){(a=b(a).data("tripleColumn"))&&a.teardown()};return{init:f,teardown:g}}()})(mini.digital.$,mini.digital.util.matchmedia,mini.digital.comp.columns);
(function(b){b.init=function(e,k){for(var g in b)b.hasOwnProperty(g)&&b[g].hasOwnProperty("init")&&"function"===typeof b[g].init&&b[g].init(e,k)};b.teardown=function(e){for(var k in b)b.hasOwnProperty(k)&&b[k].hasOwnProperty("teardown")&&"function"===typeof b[k].teardown&&b[k].teardown(e)}})(mini.digital.comp.columns=mini.digital.comp.columns||{});
(function(b){mini.digital.comp.grid=function(){function e(e,g){e=e.value;b("."+e).length&&(g.find(".md-contenttile").hide(),g.find("."+e).parent().show())}return{init:function(k){var g=b(k),c=g.find(".md-grid-show-more-btn"),a=g.find(".md-grid-show-less-btn");b.subscribe("md:toggle:init",function(a){e(a,g)});b.subscribe("md:toggle:update",function(a){e(a,g)});c.click(function(c){var d=b(c.target).closest(".md-grid").find(".md-grid-row:not(.md-grid-row-visible)");d.first().addClass("md-grid-row-visible");
a.removeClass("md-grid-hide-btn");2>d.length&&b(c.target).addClass("md-grid-hide-btn")});a.click(function(a){var d=b(a.target).closest(".md-grid").find(".md-grid-row.md-grid-row-visible");d.last().removeClass("md-grid-row-visible");c.removeClass("md-grid-hide-btn");2===d.length&&b(a.target).addClass("md-grid-hide-btn")})}}}()})(mini.digital.$);
(function(){mini.digital.comp.share=function(b,e,k,g){var c={},a=void 0,d={},f={},h="",n=void 0,m={},q={eventInfo:{},category:{},attributes:{}},l=function(f,e){var g=window.location,h=g.search||"",l="";f="string"===typeof f?f:"";e=null!=e?e:!1;if(""!==k.currentModel.history().url||f&&(f.startsWith("#")||f.startsWith("configurationID"))||e)1<h.length&&""!==f&&(h+="\x26"),h.startsWith("?configCode")&&f.startsWith("configurationID")&&(h=""),0!==h.length||""===f||f.startsWith("#")||(f="?"+f),l=g.origin+
g.pathname+h+f,d.data("url",l).each(function(a,c){c.hasOwnProperty("shariff")&&(b(c).empty(),delete c.shariff,c.shariff=new Shariff(c))}),c.destroy(),c=null,c=b.mdOverlay({deepClone:!0,style:"share",source:".md-share:last"},null,a),y(),""!==f&&c.openOverlay()},t=function(){var a=b.subscribe("h5vco.vehicleAnonSaved",function(c){c&&l("configurationID\x3d"+c);b.unsubscribe(a)});b.publish("h5vco.saveVehicleAnon")},r=function(a){b.publish("md:video:do:pause");d.data("url",window.location.href).each(function(a,
c){c.hasOwnProperty("shariff")&&(b(c).empty(),delete c.shariff,c.shariff=new Shariff(c))});var k=b(a.currentTarget);a=k.data("anchorId");k=k.data("getParams");a&&(l("#"+a,!0),n=a);k&&l(k,!0);e&&e.isRunning()?t():c.openOverlay();g.share.init(f,h);q.attributes.relatedComponentID=h;q.attributes.relatedComponentPrimaryCategory="share";q.category.subCategory01="navigation";q.eventInfo.cause="default";q.eventInfo.eventName="open share";q.eventInfo.eventAction="click";q.eventInfo.effect="user opens a share";
a=v(void 0);g.share.updateTracking(h,a);g.share.setCurrentEvent(q);u();m=b.subscribe("md:overlay:closing",x)},v=function(a){return{shareItemName:n?n:document.title,shareUrl:window.location.href+(n?"#"+n:""),shareService:a?a.closest(".shariff-button").attr("class").split(" ")[1]:"",shareType:n?"item":e&&e.isRunning()?"configuration":"page"}},w=function(a){var c=b(a.currentTarget);c=v(c);g.share.updateTracking(h,c);q.category.subCategory01="success";"mail"!==c.shareService?(a.preventDefault(),q.eventInfo.eventName=
"share via social network",q.eventInfo.effect="user starts sharing with a social network "+c.shareService):(q.eventInfo.eventName="share via email",q.eventInfo.effect="user starts sharing via email");g.share.setCurrentEvent(q)},x=function(){q.attributes.relatedComponentPrimaryCategory="share";q.category.subCategory01="navigation";q.eventInfo.eventName="close share";q.eventInfo.effect="user closes a share overlay";g.share.setCurrentEvent(q);b.unsubscribe(m)},u=function(){y();var c=b(".md-site-wide-share-action");
a&&(c=b(".md-site-wide-share-action",a));c.each(function(a,c){a=b(c);a.data("shareListenerAdded")||a.on("click",r).data({shareListenerAdded:!0})})},y=function(){var c=b(".md-share").find("li");a&&(c=b(".md-share",a).find("li"));b(c).each(function(a){a=b(c[a]);if(!a.data("shareListenerAdded"))a.data({shareListenerAdded:!0}).find("a").on("click",w)})};return{init:function(b,e,g,k){b=g(b);f=k;k=window.location.href;d=b.find(".md-shariff-placeholder");d.data("url",k);h=b.data("componentId");d.each(function(a,
b){b.hasOwnProperty("shariff")||(b.shariff=new Shariff(b))});k=d.parents();a;for(b=0;b<k.length;b++)g(k[b]).hasClass("md-external-share")&&(a=g(k[b]));c=g.mdOverlay({deepClone:!0,style:"share",source:".md-share:last"},null,a);u("$element");g.subscribe("md:currentModel:changed",l);g.subscribe("md:configurator:unload",l)},bindEvents:u}}(mini.digital.$,mini.digital.comp.configurator,mini.digital.util,mini.digital.tracking)})();
(function(){mini.digital.tracking.share=function(){function b(b){return"undefined"!==typeof b&&"function"===typeof b?!0:!1}var e,k={},g={eventInfo:{eventName:"share via social network",eventAction:"click",timeStamp:Date.now(),eventPoints:"0",cause:"default",effect:"user starts sharing with a social network"},category:{primaryCategory:"share",subCategory01:"navigation"},attributes:{relatedComponentID:"",relatedComponentName:"ShareComponent",relatedComponentPrimaryCategory:"share"}};return{init:function(c,
a){if((e=c)&&(b(e.getCurrentPageIndex)||b(e.getPageObject)||b(e.initComponentTracking))){c=e.getCurrentPageIndex();var d=e.getPageObject(c);c=void 0;if(d){d=d.component;for(var f=0;f<d.length;f++)if(d[f]&&d[f].componentInfo&&d[f].componentInfo.componentId==a){c=d[f];break}}k=void 0===c?e.initComponentTracking({componentInfo:{componentId:a,componentName:"ShareComponent"},category:{primaryCategory:"share",subCategory01:""},attributes:{shareItemName:"",shareUrl:"",shareType:"",shareService:""}},0):c}},
updateTracking:function(c,a){e&&b(e.updateComponentTracking)&&e.updateComponentTracking(k.componentIndex,{componentInfo:{componentId:c},attributes:a},k.pageId)},setCurrentEvent:function(c){e&&b(e.addEventTracking)&&(c.eventInfo.timeStamp=Date.now(),e.addEventTracking(g,c,k.pageId))}}}()})();
(function(b,e){var k=function(g,c,a){function d(a){a.preventDefault();a=b(a.currentTarget);var c=a.parent().index();if(w!==c||!v){w=c;r&&r.abort();v&&clearTimeout(v);c=a.attr("href");var d=t.$content.children().eq(w);var e=b.trim(d.html());k(a,t.$tabs);k(d,t.$content);e||f(d,c);b.publish(C.tabChanged,a)}}function f(a,c){v=setTimeout(function(){r&&r.abort()},6E4);h(c).then(function(c){c=b(c).html();clearTimeout(v);v=0;r=null;a.removeClass(z.loader);a.html(c);e.initialise(a[0]);b.publish(C.tabContentLoaded,
a)})}function h(a){a=e.getContentUrl(a);return r=e.request.get(a,"html")}function k(a,b){b.find("."+z.active).removeClass(z.active);a.addClass(z.active)}function m(){t.scroller.tabviewWidth=t.$el.width();t.scroller.tabsWidth=t.$tabs.outerWidth();t.scroller.tabviewWidth<t.scroller.tabsWidth?t.scroller.hasArrows||(t.$el.addClass(z.hasArrows),t.scroller.hasArrows=!0):t.scroller.hasArrows&&(t.$el.removeClass(z.hasArrows),t.scroller.hasArrows=!1,t.scroller.showing=0,q())}function q(){t.$tabs.animate({left:-1*
t.scroller.$tabItems.eq(t.scroller.showing).position().left},300)}function l(a){var b=-1===a.data.dir;0===t.scroller.showing&&b||t.scroller.showing===t.scroller.totalTabs&&!b||(t.scroller.showing+=a.data.dir,q())}var t=this,r,v,w=-1,x=a+"-active",u=a+"-tabs",y=a+"-content-wrap",B=a+"-tab-btn",z={active:"md-tv-active",loader:"md-tv-loader",hasArrows:"md-tv-has-arrows",tabItem:"md-tv-tab-btn"},C={tabContentLoaded:"md:tabview:tabContentLoaded",tabChanged:"md:tabview:tabChanged"};(function(){t.$el=g;
t.$name=c;t.$tabs=g.find(u);t.$content=g.find(y);var a=b('\x3cbutton class\x3d"md-tv-arrow md-tv-back"\x3e\x3c/button\x3e'),f=b('\x3cbutton class\x3d"md-tv-arrow md-tv-forward"\x3e\x3c/button\x3e'),e=t.$tabs.children(".md-tv-tab-item");t.$el.append(a);t.$el.append(f);a.on("click",{dir:-1},l);f.on("click",{dir:1},l);t.scroller={tabsWidth:0,tabviewWidth:0,hasArrows:!1,showing:0,$tabItems:e,totalTabs:e.length-1};m();b.subscribe("md:resize",m);t.$tabs.data("staticLinks")||(g.on("click."+c,B,d),a=t.$tabs.find(x),
a.length||(a=t.$tabs.children().first().find("a")),a.trigger("click."+c),g.data(c,t))})()};k.prototype={destroy:function(){this.$el.off("."+this.name);this.$el.data(this.name,"")}};mini.digital.comp.tabview=function(){return{init:function(e){e=b(e);return new k(e,"tabview",".md-js-tabview")},teardown:function(e){(e=b(e).data("tabview"))&&e.destroy()}}}()})(mini.digital.$,mini.digital.util);
(function(){mini.digital.tracking.transmissiondriveselector=function(b){function e(b){console.log("updateTrackingProduct",b);b&&(f.productInfo.productName=b.modelRangeName,f.productInfo.description=b.modelName,f.productInfo.productID=b.modelCode,f.category.subCategory01=b.modelRangeLongName||b.modelRangeName,f.attributes.bodyName=b.modelRangeLongName||b.modelRangeName,b.modelRangeCode&&(f.attributes.bodyType=b.modelRangeCode),f.attributes.bodyName=b.modelRangeLongName||b.modelRangeName,b.modelCode&&
(f.attributes.modelCode=b.modelCode),b.modelName&&(f.attributes.modelName=b.modelName),b.price&&(f.attributes.sellingPriceTotal=b.price),a&&k.updateProductTracking(a.productIndex,f,a.pageId))}var k,g,c=-1,a=void 0,d="",f={};return{init:function(a,c){k=a;g=c;d=b(c).attr("id");b(c).data("component-name")},initProduct:function(c){b.extend(f,{productInfo:{description:"",manufacturer:"MINI",productID:"",productImage:"",productName:"",productThumbnail:"",productURL:""},category:{primaryCategory:"New car",
subCategory01:""},attributes:{bodyName:"",bodyType:"",modelName:"",modelCode:"",relatedComponentID:d,relatedComponentName:"vco pre steps",relatedComponentPrimaryCategory:"",sellingPriceTotal:""}});f.productInfo.productID=""+(new Date).getTime().toString();a=k.initProductTracking(f,k.getCurrentPageIndex());c&&e(c)},updateTrackProduct:e,addCurrentEvent:function(a,f){if(!k||!k.isTrackingDisabled())if(k&&(c=k.getCurrentPageIndex()),0>c&&(c=b(g).data("tracking-page-index")),-1<c){var e={};var h={eventInfo:{eventName:"",
eventAction:"click",timeStamp:"",cause:"default",effect:"layer closed",eventPoints:""},category:{primaryCategory:"layers model selection",subCategory01:""},attributes:{relatedComponentID:"",relatedComponentName:"",relatedComponentPrimaryCategory:""}};b.extend(e,h);e.attributes.relatedComponentName=a.componentName;e.attributes.relatedComponentPrimaryCategory=a.relatedComponentPrimaryCategory;e.attributes.relatedComponentID=d;e.eventInfo.timeStamp=Date.now();e.eventInfo.eventName=a.name;e.eventInfo.effect=
a.effect;f&&b.extend(e.attributes,f);k.addEventTracking(h,e,c)}},addVirtualPage:function(a){var c=k.getPageObject(k.getCurrentPageIndex()),d={pageInfo:{breadCrumbs:[],pageName:a.name,pageInstanceId:c.page.pageInfo.pageName+"_"+a.name,devEnv:"",geoRegion:"",language:""},category:{primaryCategory:"layers model selection",subCategory01:a.subCategory},attributes:{underlyingPage:"",virtualPage:"true"}};c&&c.page&&c.page.pageInfo&&(d.attributes.underlyingPage=c.page.pageInfo.pageName,d.pageInfo.devEnv=
c.page.pageInfo.devEnv,d.pageInfo.geoRegion=c.page.pageInfo.geoRegion,d.pageInfo.language=c.page.pageInfo.language,b.extend(d.pageInfo.breadCrumbs,c.page.pageInfo.breadCrumbs));d.pageInfo.breadCrumbs.push(a.name);k.addVirtualPage({page:d,component:[],event:[],product:[]},null,null)},closeCurrentVirtualPage:function(){k.closeVirtualPage(k.getCurrentPageIndex())},constants:{CHOOSE_TRANSMISSION:{name:"choose transmission type",subCategory:"transmission type"},CLOSE_LAYER_CHOOSE_TRANSMISSION:{name:"close layer choose transmission",
componentName:"vco pre steps",relatedComponentPrimaryCategory:"process",effect:"layer closes"}}}}(mini.digital.$)})();mini.digital.comp.transmissiondriveselector=mini.digital.comp.transmissiondriveselector||{};
(function(){mini.digital.comp.transmissiondriveselector.overlayManager=function(b,e){var k={},g=[],c="",a={},d=function(d,f){k&&k.destroy&&"function"===typeof k.destroy&&k.destroy();d=a.transmissionDrive||c+"/home/standard-selector/transmission-drive";var e=mini.digital.util.currentModel.get();k=b.mdOverlay({source:d+"/_jcr_content/main/par/tdselector.html"+e.url+"?wcmmode\x3ddisabled",ajax:!0,titleFromContent:!0,titleSelector:".md-sds-component-title",style:"transmissions"},b('\x3cdiv class\x3d"md-sds-toggle"\x3e\x3c/div\x3e'));
k.openOverlay();b.isFunction(f)&&f()},f=function(){h();g.push(b.subscribe("md:transmissiondriveselector:transmission",d));g.push(b.subscribe("md:overlay:closed",function(){e.addCurrentEvent(e.constants.CLOSE_LAYER_CHOOSE_TRANSMISSION,{})}))},h=function(){b.each(g,function(a,c){b.unsubscribe(c)});g=[]};return{initialize:function(){var d=window.location.pathname.split("/");c=-1!==d[1].indexOf("content")?d.slice(0,6).join("/"):d.slice(0,2).join("/");d=b(".md-standard-selector:first");a.transmissionDrive=
d.data("transmissiondrivePath");f()},setOverlayTransmission:d,closeTransmissionOverlay:function(){k.closeOverlay&&"function"===typeof k.closeOverlay&&k.closeOverlay();e.addCurrentEvent(e.constants.CLOSE_LAYER_CHOOSE_TRANSMISSION,{})},openSelectorOverlay:function(){b.publish("md:configurator:model:changed")}}}(mini.digital.$,mini.digital.tracking.transmissiondriveselector)})();
(function(){mini.digital.comp.transmissiondriveselector.base=function(b,e,k,g,c){var a={},d={},f={},h=!1,n=function(a){g.closeTransmissionOverlay();b.publish("md:customselector:loading:add",["md:configurator:loading"]);b.publish("md:configurator:initialise",[a,function(){b.publish("md:customselector:loading:remove",["md:configurator:loading"]);e.setInAppAction()}])},m=function(a){var d=b(a.currentTarget);a=d.attr("data-sds-item-features");d=d.attr("data-sds-item-code");var f={};f.modelCode=d;a.startsWith("Default,")&&
(a=a.substring(8));void 0!==a&&"Default"!==a&&(f.features=a);mini.digital.util.currentModel.update("transmission",a);h&&n(f);a=mini.digital.util.currentModel.get();c.updateTrackProduct({modelRangeCode:a.modelRangeCode,modelRangeName:a.modelRangeName,modelCode:a.modelCode,modelName:a.modelName})},q=function(){g.openSelectorOverlay()};return{init:function(e,g,k){a=b(e);c.init(k,a);c.addVirtualPage(c.constants.CHOOSE_TRANSMISSION);e=mini.digital.util.currentModel.get();c.initProduct({modelRangeCode:e.modelRangeCode,
modelRangeName:e.modelRangeName,modelCode:e.modelCode,modelName:e.modelName});h=!!b(".md-configurator").length;d=a.find(".md-sds-btn-configure");f=a.find(".md-sds-btn-choose");d.on("click",m);f.on("click",q)}}}(mini.digital.$,mini.digital.util.historyManager,mini.digital.comp.configurator,mini.digital.comp.transmissiondriveselector.overlayManager,mini.digital.tracking.transmissiondriveselector)})();
(function(){mini.digital.comp.transmissiondriveselector.init=function(b,k,g,c){g=mini.digital.comp.transmissiondriveselector;for(var a in g)g.hasOwnProperty(a)&&g[a].hasOwnProperty("init")&&"function"===typeof g[a].init&&g[a].init(b,k,c)};mini.digital.comp.transmissiondriveselector.teardown=function(b){var e=mini.digital.comp.transmissiondriveselector,g;for(g in e)e.hasOwnProperty(g)&&e[g].hasOwnProperty("teardown")&&"function"===typeof e[g].teardown&&e[g].teardown(b)};var b=mini.digital.comp.transmissiondriveselector;
b.hasOwnProperty("overlayManager")&&b.overlayManager.hasOwnProperty("initialize")&&"function"===typeof b.overlayManager.initialize&&b.overlayManager.initialize()})();
(function(b,e,k){mini.digital.comp.favouritemodel=function(){var g=b([]),c,a=[],d=[],f,h=function(a){var d=0,f={};a.addClass("md-fm-notification-active");d=a.offset().left+a.outerWidth(!0);f=a.closest(".md-hmcresults-wrapper").length?b(".md-hmcresults-wrapper"):c;d>f.width()&&a.addClass("md-fm-notification-overlap");a.addClass("md-notification-display");k.setTimeout(function(){Modernizr.csstransitions?a.on(e.transitionEndEvent,function(){a.removeClass("md-fm-notification-active md-fm-notification-overlap").off(e.transitionEndEvent)}).removeClass("md-notification-display"):
a.removeClass("md-notification-display md-fm-notification-active md-fm-notification-overlap")},3E3)},n=function(a){var b=g.filter(".md-favourite-toggle"),c={};b.each(function(d){d=b.eq(d);d.data("fmModelCode")===a&&(c=d.find(".md-fm-notification"),h(c))})},m=function(a){a&&a.modelCode&&n(a.modelCode)},q=function(a){var c=b(".md-fv-group-wrapper").filter(".md-ss-hmc");c.each(function(b){b=c.eq(b);var f=b.find(".md-standard-selector-layer"),e=b.find(".md-favourite-group");e.removeClass("md-fm-active").find(".md-fm-group-items").empty();
d.length&&f.each(function(b){var c=f.eq(b);b=c.find(".md-favourite-item");c=c.data("ssItemCode");a[c]&&l({code:c,filtered:a[c],group:e,items:b})})})},l=function(a){var c=[],f=!1;if(a&&a.code&&a.group&&a.items&&(c=[],a.items.each(function(e){e=a.items.eq(e);var g=e.data("fmModelCode");a.filtered?-1!==b.inArray(g,a.filtered)&&-1!==b.inArray(g,d)&&-1===b.inArray(g,c)&&c.push(g):(f=!!e.closest(".md-ss-models-brochure-disabled").length)||-1===b.inArray(g,d)||-1!==b.inArray(g,c)||c.push(g)}),c.length)){var e=
a.group.filter("[data-fm-range-code \x3d "+a.code+"]");e.addClass("md-fm-active");1<c.length&&e.find(".md-fm-group-items").text(c.length)}},t=function(){var a=b(".md-fv-group-wrapper");a.each(function(b){var c=a.eq(b),f=c.find(".md-standard-selector-layer"),e=c.find(".md-favourite-group"),g=c.hasClass("md-ss-hmc");e.removeClass("md-fm-active").find(".md-fm-group-items").empty();d.length&&f.each(function(a){var b=f.eq(a);a=b.find(".md-favourite-item");var d=b.data("ssItemCode"),h=!1;if(g){if(b=c.find(".md-ss-range-link").filter("[data-ss-item-code\x3d"+
d+"]"),b.length&&b.data("ssHmcFilterModels")){var k=b.data("ssHmcFilterModels");h=!0}}else h=!0;h&&l({code:d,filtered:k,group:e,items:a})})})},r=function(){var a=g.filter(":not(.md-favourite-group)");d=e.favouriteModel.getItemsModelCodes();a.removeClass("md-fm-active").each(function(c){var f=a.eq(c);d.length&&b.each(d,function(a,b){if(f.data("fmModelCode")===b)return f.addClass("md-fm-active"),!1})})},v=function(){r();t()},w=function(a){a=b(a.target).closest(".md-favourite-model");a={sourceRangeCode:a.data("fmSourceRangeCode"),
rangeCode:a.data("fmRangeCode"),modelCode:a.data("fmModelCode")};-1===b.inArray(a.modelCode,d)?e.favouriteModel.setItem(a):e.favouriteModel.removeItem(a)},x=function(){a.push(b.subscribe("md:favouritemodel:updated",v));a.push(b.subscribe("md:favouritemodel:start",m));a.push(b.subscribe("md:customselector:layout:change",v));a.push(b.subscribe("md:formgcdm:rfi:listingrendered",v));a.push(b.subscribe("md:hmc:filteredData",q));a.push(b.subscribe("md:formgcdm:newStepLoaded",function(a){a&&a.stepHasStandardSelector&&
v()}))},u=function(){void 0!==f&&k.clearTimeout(f);f=k.setTimeout(function(){e.favouriteModel.isCookieAllowed()?(c=c||b("body"),e.favouriteModel.init(),v(),x(),g.removeClass("md-fm-disabled")):g.addClass("md-fm-disabled")},300)},y=function(){g.length&&(e.unsubArray(a),u())};e.cookiecontroller.registerOnConsentChange(y);e.cookiecontroller.registerOnInitialized(y);return{init:function(a){a=b(a);g=g.add(a);a.on("click.favouriteModel",".md-fm-btn",w);u()},teardown:function(c){b(c).off(".favouriteModel");
g=g.not(c);g.length||e.unsubArray(a)}}}()})(mini.digital.$,mini.digital.util,window);mini.digital.comp.selectormanager=mini.digital.comp.selectormanager||{};
(function(){mini.digital.comp.selectormanager.overlayManager=function(b,e,k,g,c){var a={},d=[],f=function(d){var f=k.get(),l=k.isModelRangePage(),m=k.isModelPage();l?b.publish("md:configurator:model:changed"):m?a&&a.modelCode&&a.modelCode===f.modelCode?b.publish("md:configurator:model:changed"):f.multipleTransmissions&&"1"===f.multipleTransmissions?b.publish("md:transmissiondriveselector:transmission"):(b.publish("md:customselector:loading:add",["md:configurator:loading"]),g.manageConfiguratorLoaded({modelCode:f.modelCode},
function(){c.loadingRemove("md:configurator:loading");e.setInAppAction()}),h(d)):b.publish("md:configurator:model:changed")},h=function(a){if(digital&&digital.tracking){var b=digital.tracking.getInstance(window.dataLayer);b.isTrackingDisabled()||(a.trackedEvent.eventInfo.effect="start of configuration process",a.trackedEvent.eventInfo.name="configurator start",b.addEventTracking(a.trackedEvent,a.trackedEvent,a.pageIndex))}},n=function(b){a=b};return{initialize:function(){d.push(b.subscribe("md:selectormanager:render",
f));d.push(b.subscribe("h5vco.configurationChanged",n))},teardown:function(){b.each(d,function(a,c){b.unsubscribe(c)});d=[]}}}(mini.digital.$,mini.digital.util.historyManager,mini.digital.util.currentModel,mini.digital.comp.configurator,mini.digital.comp.customselector.loadingIndicator)})();
(function(){mini.digital.comp.selectormanager.teardown=function(b){var e=mini.digital.comp.transmissiondriveselector,g;for(g in e)e.hasOwnProperty(g)&&e[g].hasOwnProperty("teardown")&&"function"===typeof e[g].teardown&&e[g].teardown(b)};var b=mini.digital.comp.selectormanager;b.hasOwnProperty("overlayManager")&&b.overlayManager.hasOwnProperty("initialize")&&"function"===typeof b.overlayManager.initialize&&b.overlayManager.initialize()})();
(function(){mini.digital.comp.quicklinks=function(b,e){return{init:function(k){k=b(k).find(".md-quicklinks-child-item").find("a[data-overlay]");e.ctaOverlay(k);k.on("click",function(e){e.preventDefault();b(".md-pagesplit-veil").hasClass("md-visible")&&b.publish("md:pagesplit:close:noscroll")})}}}(mini.digital.$,mini.digital.comp.ctas)})();
(function(){var b=function(b){function e(){a.scroller.tabviewWidth=a.$el.width();a.scroller.tabsWidth=a.$tabs.outerWidth();a.scroller.tabviewWidth<a.scroller.tabsWidth?a.scroller.hasArrows||(a.$tabContainer.addClass(d.hasArrows),a.scroller.hasArrows=!0):a.scroller.hasArrows&&(a.$tabContainer.removeClass(d.hasArrows),a.scroller.hasArrows=!1,a.scroller.showing=0,g())}function g(){a.$tabs.animate({left:-1*a.scroller.$tabItems.eq(a.scroller.showing).position().left},300)}function c(b){var c=-1===b.data.dir;
0===a.scroller.showing&&c||a.scroller.showing===a.scroller.totalTabs&&!c||(a.scroller.showing+=b.data.dir,g())}var a=this,d={active:"md-tp-tab-name-active",hasArrows:"md-tp-tablist-has-arrows",tabVisible:"md-tp-tab-visible"};a.$el=b;a.$tabContainer=a.$el.find(".md-tp-tab-tabs");a.$tabs=a.$el.find(".md-tp-tab-tabs-container");a.$tabItems=a.$el.find(".md-tp-tab-tab");a.$tabToggles=a.$el.find(".md-tp-tab-name");a.$tabContents=a.$el.find(".md-tp-tab-list");(function(){a.$tabToggles.each(function(b,c){var f=
$(c);f.click(function(){var b=f.data("tabbedparsystabId");a.$tabToggles.removeClass(d.active);a.$tabItems.removeClass(d.tabVisible);a.$tabItems.eq(b).addClass(d.tabVisible);f.addClass(d.active)})})})();(function(){var b=a.$tabContainer.find(".md-tp-tab-list-back"),d=a.$tabContainer.find(".md-tp-tab-list-forward"),g=a.$tabs.find(".md-tp-tab-name");b.on("click",{dir:-1},c);d.on("click",{dir:1},c);a.scroller={tabsWidth:0,tabviewWidth:0,hasArrows:!1,showing:0,$tabItems:g,totalTabs:g.length-1};e();$.subscribe("md:resize",
e)})()};mini.digital.comp.tabbedparsystabs=function(e){return{init:function(k){k=e(k);return new b(k)}}}(mini.digital.$)})();
(function(){mini.digital.comp.dealerSummary=function(b,e){function k(){var a=e.cookiecontroller.getPersistence("gcdm-preferredDealer");null!==a&&(l=JSON.parse(a),l.hasOwnProperty("MINI")&&(m=parseInt(l.MINI.distributionPartnerId,10),q=parseInt(l.MINI.outletId,10)),m===f&&q===h?t.addClass("md-dealer-icon-visible"):t.removeClass("md-dealer-icon-visible"))}function g(){var a=d.data("domain");d.data("dealerUrl");var b="",c="";f&&h&&(c=f+"_"+h+"|"+encodeURI(n));void 0!==a&&-1==a.indexOf("localhost")&&
(a="."+a);if(r){var e=new Date;e.setTime(+e+864E5*v.EXPIRY_DAYS);b+=v.LAST_VISITED_DEALER_COOKIE+"\x3d"+c+";";b+="expires\x3d"+e.toGMTString()+";";document.cookie=b+"path\x3d/;"+("domain\x3d"+a+";")}}function c(a){a.on("click",function(a){a.preventDefault();b(this).parent().next("div.md-ds-address-list").slideToggle();b(this).toggleClass("closed")})}function a(){var a=d.find(".md-ds-directions").parent();a.addClass("wide-only");a=a.clone();a.removeClass("wide-only").addClass("narrow-only cloned");
d.find(".md-ds-addressinfo-openinghours").parent().after(a);a=d.find(".md-ds-addressinfo-social");a.addClass("wide-only");a=a.clone();a.removeClass("wide-only").addClass("narrow-only cloned");d.find(".md-ds-preview").after(a);a.wrap('\x3cdiv class\x3d"md-ds-addressinfo" /\x3e');a.wrap('\x3cdiv class\x3d"md-ds-addressinfo-content-container" /\x3e');a.wrap('\x3cdiv class\x3d"md-ds-addressinfo-column" /\x3e')}var d,f,h,n,m,q,l,t,r,v={EXPIRY_DAYS:31,LAST_VISITED_DEALER_COOKIE:"cc_last_visited_dealer"};
return{init:function(l){d=b(l);t=d.find(".md-dealer-saved");e.cookiecontroller.checkPresentAndInit().done(function(){r=e.cookiecontroller.isUsageAllowed(v.LAST_VISITED_DEALER_COOKIE)});f=d.data("mdDistributionId");h=d.data("mdOutletId");n=d.data("mdDealerName");g();k();d.hasClass("md-dealersummary-v2")&&(c(d.find(".md-toggle-address \x3e a")),a())},getLastVisitedCookieName:function(){return v.LAST_VISITED_DEALER_COOKIE}}}(mini.digital.$,mini.digital.util)})();
(function(){mini.digital.comp.addresses=function(b){function e(){n.each(function(a,c){var d=b(c);d.click(function(){var a=d.data("addressId");n.removeClass(l.active);h.removeClass(l.addressVisible);q.find('[data-address-id\x3d"'+a+'"]').addClass(l.addressVisible);d.addClass(l.active)})})}function k(){m.tabviewWidth=a.width();m.tabsWidth=f.outerWidth();m.tabviewWidth<m.tabsWidth?m.hasArrows||(d.addClass(l.hasArrows),m.hasArrows=!0):m.hasArrows&&(d.removeClass(l.hasArrows),m.hasArrows=!1,m.showing=
0,g())}function g(){f.animate({left:-1*m.$tabItems.eq(m.showing).position().left},300)}function c(a){var b=-1===a.data.dir;0===m.showing&&b||m.showing===m.totalTabs&&!b||(m.showing+=a.data.dir,g())}var a,d,f,h,n,m,q,l={active:"md-ds-address-name-active",hasArrows:"md-ds-addresslist-has-arrows",addressVisible:"md-ds-address-visible"};return{init:function(g){a=b(g);d=a.find(".md-ds-address-tabs");f=a.find(".md-ds-address-tabs-container");h=a.find(".md-ds-address-tab");n=a.find(".md-ds-address-name");
q=a.find(".md-ds-address-list");e();g=d.find(".md-address-list-back");var l=d.find(".md-address-list-forward"),t=f.find(".md-ds-address-name");g.on("click",{dir:-1},c);l.on("click",{dir:1},c);m={tabsWidth:0,tabviewWidth:0,hasArrows:!1,showing:0,$tabItems:t,totalTabs:t.length-1};k();b.subscribe("md:resize",k)}}}(mini.digital.$)})();
(function(){mini.digital.comp.addressinfo=function(b){var e=[],k=function(){function c(){g.change(function(){a()})}function a(){f.each(function(a,c){b(c).removeClass("md-ds-address-hours-visible")});e.find('[data-department-name\x3d"'+g.val()+'"]').addClass("md-ds-address-hours-visible")}var d,f,e,g;return{init:function(a){d=b(a);f=d.find(".md-ds-address-hours-set");e=d.find(".md-ds-address-hours-sets");g=d.find("select");c()}}},g=function(){function c(){var a=require("core/Messagebus"),b={topic:"GetViewOnlyDealer",
headers:{preserveOne:!0}};a.channel("business-dealerlocator").subscribe("DealerLoaded",function(a){O=!0;t.setData(a)});O||a.channel("business-dealerlocator").publish(b)}function a(){v.click(function(){x.hasClass("md-ds-addressinfo-services-visible")?(x.removeClass("md-ds-addressinfo-services-visible"),w.removeClass("md-icn-angle-up").addClass("md-icn-angle-down")):(x.addClass("md-ds-addressinfo-services-visible"),w.removeClass("md-icn-angle-down").addClass("md-icn-angle-up"))})}function d(a){return(a=
a.data("address-sequence"))?b.map(a.match(/[^\{\}]+/g),function(a){return b.trim(a)}):""}function f(a){var c="";b(S).each(function(b,d){"br"===d?c+="\x3cbr/\x3e":"space"===d?c+=" ":a[d]&&(c+='\x3cspan data-field\x3d"'+d+'"\x3e'+a[d]+"\x3c/span\x3e")});u.html("");u.append(b(c));J=!0}function e(a){if(a.key.length){b.trim(B.html());void 0===J&&f(a);H.attr("href","http://maps.google.com/maps?q\x3d"+a.lat+","+a.lng+"\x26ll\x3d"+a.lat+","+a.lng+"z\x3d17");a.attributes.hasOwnProperty("phone")?y.attr("href",
"tel://"+a.attributes.phone.replace(/\D/g,"")).text(a.attributes.phone):y.parent().css("display","none");a.attributes.hasOwnProperty("mail")?B.attr("href","mailto:"+a.attributes.mail).text(a.attributes.mail):B.parent().css("display","none");var c=void 0!==D.attr("href");c||(a.attributes.hasOwnProperty("facebookPlace")&&""===a.attributes.facebookPlace?D.parent().remove():(D.attr("href",a.attributes.facebookPlace),c=!0));c&&R.find(".md-ds-addressinfo-social").removeClass("md-ds-addressinfo-hidden");
g(m(a,"F"),G);g(m(a,"G"),K);g(m(a,"T"),I);c=F.data("reviews");void 0!==c&&c.setDealerData(a.attributes.distributionPartnerId,a.attributes.outletId)}}function g(a,b){b.find(".md-icn-check").toggleClass("md-icn-service-visible",a);b.find(".md-icn-close").toggleClass("md-icn-service-visible",!a)}function m(a,b){return a&&a.attributes&&a.attributes.distributionBranches?-1<a.attributes.distributionBranches.indexOf(b):!1}function q(a){var b=a.find("a[data-return-url]");b.length&&b.each(function(a){a=b.eq(a);
if(void 0!==a){var c=a.attr("href");if(c)var d=c.replace(/.html$/gi,"")+".html#returnURL\x3d"+window.location.href;a.attr("href",d)}})}var l,t=this,r=[],v,w,x,u,y,B,z,C,A,D,H,F,G,K,I,S,J,L=[],R,O=!1;return{init:function(f){l=b(f);v=l.find(".md-ds-addressinfo-services-toggle");x=l.find(".md-ds-addressinfo-services");w=v.find(".md-ds-addressinfo-services-toggle-icn");l.find(".md-ds-addressinfo-address");u=l.find(".md-ds-addressinfo-gcdm-address-wrapper");y=l.find(".md-ds-addressinfo-gcdm-phone");B=
l.find(".md-ds-addressinfo-gcdm-email");z=l.find(".md-ds-addressinfo-mail");C=l.find(".md-ds-addressinfo-mail-two");A=l.find(".md-ds-addressinfo-social");D=A.find(".md-ds-addressinfo-facebook-cta");A.find(".md-ds-addressinfo-twitter-cta");A.find(".md-ds-addressinfo-google-cta");A.find(".md-ds-addressinfo-instagram-cta");A.find(".md-ds-addressinfo-pinterest-cta");H=l.find(".md-ds-addressinfo-directions");G=l.find(".md-ds-addressinfo-service-cat-f");K=l.find(".md-ds-addressinfo-service-cat-g");I=l.find(".md-ds-addressinfo-service-cat-t");
F=l.find(".md-ds-reviews");L=l.attr("data-address-data");if((L=L.split(","))&&0<L.length){for(f=0;f<L.length;f++)L[f]=atob(L[f]);L[0]&&0<L[0].length&&z.attr("href","mailto:"+L[0]).text(L[0]);1<L.length&&L[1]&&0<L[1].length&&C.attr("href","mailto:"+L[1]).text(L[1])}R=b('[data-address-id\x3d"0"]');S=d(l);q(l);t.setData=function(a){"true"!==l.attr("data-ds-addressinfo-ignore-gcdm-data")&&(S||(S=d(l)),e(a))};l.data("addressInfo",t);a();l.find(".md-ds-addressinfo-openinghours").each(function(a,b){a=new k;
a.init(b);r.push(a)});O=!1;c()},setData:e}};return{init:function(b){var a=new g;a.init(b);e.push(a)}}}(mini.digital.$)})();
(function(){mini.digital.comp.dealerReviews=function(b){function e(a){var c=a.target,f=a.roundedRatingValue,e=a.ratingValue-f;a=Math.ceil(a.totalValue);for(var g,k=1;k<=a;k++){g=k<=f?"md-icnpost-star-full":0<e&&k===f+1?"md-icn-star-half":"md-icnpost-star-full md-icn-star-blank";var q=b("\x3cspan\x3e");"md-icn-star-half"==g?q.append("\x3cdiv class\x3d'md-icn-star-half' style\x3d'font-size:20px'\x3e\x3cspan class\x3d'md-icn-alt'\x3estar-half\x3c/span\x3e\x3c/div\x3e"):q.addClass(g);c.append(q)}}var k=
[],g=function(){function a(){l.click(function(a){var c=b(a.currentTarget),d=c.closest(".md-ds-reviews");y=c.data("mdReviewFilter");c.overlay({title:m.data("mdOverlayTitle"),source:d.find(".md-ds-review-overlay-content"),style:"lrg"});x=b.subscribe("md:overlay:opened",k);c.data("overlay").toggleOverlay(a)})}function c(){w.each(function(a,c){b(c).click(function(a){a=b(a.currentTarget).data("mdReviewFilter");f(a)})})}function f(a){w.removeClass("md-ds-tab-selected");v.find('[data-md-review-filter\x3d"'+
a+'"]').addClass("md-ds-tab-selected");"sales"===a?(t.removeClass("md-ds-review-hidden"),r.addClass("md-ds-review-hidden")):(t.addClass("md-ds-review-hidden"),r.removeClass("md-ds-review-hidden"))}function g(a,c){var d=b('\x3cdiv class\x3d"md-ds-review-indv-review"\x3e'),f=b('\x3cdiv class\x3d"md-ds-review-indv-visual"\x3e'),g=b('\x3cspan class\x3d"md-ds-review-indv-rating"\x3e'),h=b('\x3cspan class\x3d"md-ds-review-indv-average-rating"\x3e'),k=b('\x3cspan class\x3d"md-ds-review-indv-comment"\x3e');
e({target:g,ratingValue:c.ratingValue,roundedRatingValue:Math.floor(c.ratingValue),totalValue:c.ratingStars});k.html(c.userComment);h.html(c.ratingValue);f.append(g);f.append(h);d.append(f);d.append(k);a.append(d)}function k(a){if(!b(a.requester).is(".md-ds-review-overlay-toggle"))return!1;b.unsubscribe(x);q=b(a.overlayContent);q.parent().find(".md-ds-review-overlay-content").removeClass("md-ds-review-overlay-content-hidden");w=q.find(".md-ds-review-tab");v=q.find(".md-ds-review-indv-tabs");t=q.find(".md-ds-reviews-sales-indv");
r=q.find(".md-ds-reviews-servicing-indv");f(y);c()}var m,q,l,t,r,v,w,x,u,y;return{init:function(b){m=b;l=m.parent().find(".md-ds-review-overlay-toggle");t=m.find(".md-ds-reviews-sales-indv");r=m.find(".md-ds-reviews-servicing-indv");w=m.find(".md-ds-review-tab");v=m.find(".md-ds-review-indv-tabs");a()},setData:function(a){u=a;var b;if(null!==u.salesData){var c=0;for(b=u.salesData.comments.length;c<b;c++)a=u.salesData.comments[c],g(t,a)}if(null!==u.serviceData)for(c=0,b=u.serviceData.comments.length;c<
b;c++)a=u.serviceData.comments[c],g(r,a)}}},c=function(){function a(a,b){C||(u=a+"_"+b,c())}function c(){if("undefined"!==typeof z&&""!==z){var a=-1<z.indexOf("?")?"\x26":"?";b.ajax({dataType:"jsonp",url:z+a+"dealer_id\x3d"+u,crossDomain:"true",jsonp:"jsonp_callback"}).done(function(a){if(a&&(a.salesData||a.serviceData)){y=a;B&&B.setData(y);C=!0;a=[];if(null!==y.salesData){var b=parseFloat(y.salesData.overallRatingValue);v.html("\x3cp\x3e"+b.toFixed(1)+"\x3c/p\x3e");a.push({target:w,ratingValue:y.salesData.overallRatingValue,
roundedRatingValue:Math.floor(y.salesData.overallRatingValue),totalValue:y.salesData.overallRatingStars})}else t.hide(),r.addClass("md-ds-review-hidden");null!==y.serviceData?(b=parseFloat(y.serviceData.overallRatingValue),q.html("\x3cp\x3e"+b.toFixed(1)+"\x3c/p\x3e"),a.push({target:l,ratingValue:y.serviceData.overallRatingValue,roundedRatingValue:Math.floor(y.serviceData.overallRatingValue),totalValue:y.serviceData.overallRatingStars})):(k.hide(),m.addClass("md-ds-review-hidden"));for(var c=0,d=
a.length;c<d;++c)b=a[c],e(b)}else r.addClass("md-ds-review-hidden"),m.addClass("md-ds-review-hidden")})}}var f,h,k,m,q,l,t,r,v,w,x,u,y,B,z,C=!1;return{init:function(c){f=b(c);k=f.find('.md-ds-review-tab[data-md-review-filter\x3d"service"]');m=f.find(".md-ds-reviews-servicing");q=m.find(".md-ds-rating-average");l=m.find(".md-ds-rating-visuals");m.find(".md-ds-review-overlay-toggle");t=f.find('.md-ds-review-tab[data-md-review-filter\x3d"sales"]');r=f.find(".md-ds-reviews-sales");v=r.find(".md-ds-rating-average");
w=r.find(".md-ds-rating-visuals");r.find(".md-ds-review-overlay-toggle");x=f.find(".md-ds-review-overlay-content");f.hasClass("md-ds-reviews-overlay-enabled")&&(B=new g(x),B.init(x));z=f.data("mdReviewsEndpoint");a(f.data("mdDistributionId"),f.data("mdOutletId"));h={setDealerData:a};f.data("reviews",h);f.find(".md-ds-reviews-sales .md-ds-rating-average");f.find(".md-ds-reviews-servicing .md-ds-rating-average")},populateStarRating:e}};return{init:function(a){var b=new c;b.init(a);k.push(b)}}}(mini.digital.$)})();
(function(){function b(b,e){function c(b){var c=b*f.itemWidth;Modernizr.csstransforms3d?d.galleryListElem.style[a.cssTransform]="translate3d(-"+c+"px, 0,  0)":e(d.galleryListElem).animate({left:"-"+c},f.transitionSpeed);f.currentIndex=b}var a={cssTransform:Modernizr.prefixed("transform")},d={$el:e(b),galleryListElem:b.querySelector(".md-accy-gallery-images"),caroItems:b.querySelectorAll(".md-accy-gallery-images \x3e .md-accy-gallery-item"),$thumbTemplateScript:e(b).find(".md-accy-gallery-thumb-item-template")};
if(!(1>=d.caroItems.length)){var f={itemWidth:d.caroItems[0].scrollWidth,currentIndex:0,itemsInCaro:d.caroItems.length,transitionSpeed:500};(function(){for(var a=d.$thumbTemplateScript.html().trim(),b="",c=0;c<f.itemsInCaro;c++){var g=c===f.currentIndex?" md-accy-gallery-link-active":"";b+=a.replace("{{ index }}",c).replace("{{ active-class }}",g)}d.$thumbItems=e(b);d.$thumbLinkCollection=d.$thumbItems.find(".md-accy-gallery-link");d.$thumbTemplateScript.replaceWith(d.$thumbItems)})();(function(){e.subscribe("md:resize",
function(){f.itemWidth=d.caroItems[0].scrollWidth;c&&c(f.currentIndex)});d.$thumbLinkCollection.each(function(a){d.$thumbLinkCollection.eq(a).on("click.accessoryGallery",function(a){a.preventDefault();a=e(a.currentTarget);var b=a.data("index");if(b===f.currentIndex)return!1;d.$thumbLinkCollection.removeClass("md-accy-gallery-link-active");a.addClass("md-accy-gallery-link-active");c(b)})})})()}}function e(b,e){function c(){if(g.$currentOverlay){var a=g.$currentOverlay.data();e.publish(f.gcdmAccessoryRequest,
[{id:""+a.rfaId,name:a.rfaName,description:a.rfaDesc,price:a.rfaPrice,pictures:a.rfaPictures?[a.rfaPictures]:[]}])}e.unsubscribe(k)}function a(a){g.$currentOverlay=null;a.overlayContent.empty();e.unsubscribe(m)}function d(b){var d=e(b.currentTarget),h=d.data();b.preventDefault();g.$currentOverlay=d;k=e.subscribe(f.gcdmLoaded,c);m=e.subscribe(f.overlayClosed,a);h.overlay.openOverlay()}var f={gcdmLoaded:"md:formgcdm:loaded",overlayClosed:"md:overlay:closed",gcdmAccessoryRequest:"md:accessory:gcdmRequest"},
g={$dealerCta:e(b),$currentOverlay:null},k,m;(function(){g.$dealerCta.each(function(a,b){a=e(b);b=a.attr("href").replace(/.html$/gi,"")+"/jcr:content/main.html"+window.location.search;a.overlay({source:b,ajax:!0,titleFromContent:!0,titleSelector:".md-custom-overlay-header-title",style:"steps",veilZIndex:1030,initialiseSource:!0});a.on("click.accessoryGallery",d)})})()}mini.digital.comp.accessory=function(k){function g(a){a=a.target;c.trackClickSpecificCTA(k(a).text().trim(),k(a).data("rfa-name"),
a.href)}var c;return{init:function(a){var d=k(a);d.find(".md-accy-gallery").each(function(a,c){return new b(c,k)});d.find("[data-rfa-overlay]").each(function(a,b){return new e(b,k)});require(["apps/business/accessories/components/accessories/clientlib/scripts/tracking/Tracking"],function(a){c=a;a=k.find(".md-acc-banner .md-heading");c.init(d.data("component-tracking-id"),a&&0<a.length?k(a[0]).text().trim():"")});d.on("click",".md-cta-btn",g)}}}(mini.digital.$)})();
mini.digital.comp.iepop=function(b,e,k){function g(){d.find(".md-icn-close").on("click",function(){d.addClass(c.hidepopup)})}var c={hidepopup:"md-pop-hide"},a=!1,d;return{init:function(f,h){d=e(f);b.cookiecontroller.checkPresentAndInit().done(function(){a=b.cookiecontroller.isUsageAllowed("cc_ie_popup");g();if(b.browser.isIE){var f=b.cookiecontroller.getPersistence("cc_ie_popup");a&&"true"!=f?(d.removeClass(c.hidepopup),b.cookiecontroller.setPersistence("cc_ie_popup","true")):d.hasClass(c.hidepopup)||
d.addClass(c.hidepopup)}})}}}(mini.digital.util,mini.digital.$,window);
(function(){mini.digital.comp.faq=function(b,e){function k(a){!0!==b("body").data("md-wcmmode")&&(q?a.find(r.answerTrigger).addClass(t.overlay):(a.find(r.sectionItem).first().click(),1===a.find(r.sectionItem).length&&(a.find(r.sections).addClass(t.hide),a.find(r.questionsData).addClass(t.fullwidth))))}function g(a){a=b(a.currentTarget);var c=a.data("sections"),d=a.closest(r.faq);d.find(r.questions).find(r.answer).removeClass(t.selected).siblings("."+t.expanded).removeClass(t.expanded);d.find(r.sectionItemBtn).removeClass(t.selected);
a.children(r.sectionBtn).addClass(t.selected);var f=d.find(r.questionsData).addClass(t.selected);d.find(r.questions).find(r.questionsItem).removeClass(t.selected).filter('[data-sections\x3d"'+c+'"]').addClass(t.selected);q&&(d.find(r.backButtonText).text(a.find(r.sectionText).text()),e.overlay.disableScrollBehindBase(f),b(r.body).addClass(t.disableEvents))}function c(a){a=b(a.currentTarget).closest(r.faq).find(r.questionsData).removeClass(t.selected);q&&(e.overlay.enableScrollBehindBase(a),b(r.body).removeClass(t.disableEvents))}
function a(a){if(!b(a.requester).is(r.answerTrigger))return!1;b.unsubscribe(n);m=b.subscribe("md:overlay:closed",d)}function d(){b.unsubscribe(m);l=void 0}function f(c){var d=b(c.currentTarget);d.closest(r.questionsItem).siblings().find("."+t.expanded).removeClass(t.expanded).siblings(r.answer).removeClass(t.selected);!d.hasClass(t.expandable)&&!q||q?(d=b(c.currentTarget),l=d.overlay({open:!1,ajax:!1,title:d.siblings(r.questionText).text(),source:d.siblings(r.answer).clone(),style:"lrg"}),n=b.subscribe("md:overlay:opened",
a),d=l.data("overlay"),d.openOverlay(c),d.$overlayContent.scrollTop(0)):(d.toggleClass(t.expanded),d.siblings(r.answer).toggleClass(t.selected),c=b(r.questionText).height(),c=d.offset().top-c,e.scrollTo.position(c,500),e.lazyLoadImage.checkImages())}function h(a){q||void 0===l.data||l.data("overlay").closeOverlay(a)}var n,m,q,l={},t={disableEvents:"md-faq-disable-background",expanded:"md-faq-is-expanded",expandable:"md-faq-is-expandable",fullwidth:"md-faq-data-fullwidth",hide:"md-faq-hide",selected:"md-is-selected",
overlay:"md-faq-is-overlay"},r={answer:".md-faq-answer",answerTrigger:".md-faq-answer-trigger",backButton:".md-faq-back",backButtonText:".md-back-btn-text",body:".md-body",expandable:".md-faq-is-expandable",faq:".md-faq",faqOverlayVeil:".md-custom-overlay",sections:".md-faq-sections",sectionBtn:".md-faq-sections-btn",sectionText:".md-faq-sections-text",sectionItem:".md-faq-sections-item",sectionItemBtn:".md-faq-sections-item .md-faq-sections-btn",questions:".md-faq-data .md-faq-questions",questionsTrigger:".md-faq-questions",
questionsItem:".md-faq-questions-item",questionsData:".md-faq-data",questionText:".md-faq-questions-text"};return{init:function(a){var d=b(a);a=d.find(r.sectionItem);var l=d.find(r.questionsData),m=d.find(r.questionsTrigger),n=b(r.faqOverlayVeil);q=!e.matchmedia.wide.matches;a.on("click",g);l.on("click",r.backButton,c);m.on("click",r.answerTrigger,f);n.on("click",h);e.matchmedia.wide.addListener(function(a){(q=!a.matches)?d.find(r.questionsData).removeClass(t.selected):d.find(r.expandable).removeClass(t.overlay);
k(d)});k(d)}}}(mini.digital.$,mini.digital.util)})();
(function(b,e,k){var g=b([]),c=null,a={},d=function(a){this.$elem=b(a);this.$dropdowncta;this.$dropdownctaSelect;this.listeners=[];this.isNarrow=!1;this.overlayOpenedHandle;this.overlayClosingHandle;this.overlayClosedHandle;this.gcdmLoadedHandle;this.vehicleData;this.instanceOverlay;this.isGcdmLoaded=!1;this.init.apply(this)},f=function(a){var c=b(a);c.data("dropdownctas",new d(a));g=g.add(c)},h=function(a){var c=b(a),d=c.data("dropdownctas");d&&d.destroy&&(d.destroy(),c.removeData("dropdownctas"),
g=g.not(a))};d.prototype={destroyOverlay:function(){this.instanceOverlay&&this.instanceOverlay.destroy&&"function"===typeof this.instanceOverlay.destroy&&this.instanceOverlay.destroy()},onOverlayOpened:function(){this.isGcdmLoaded?this.sendVehicle(c.data("configured-vehicle")):this.gcdmLoadedHandle=b.subscribe("md:formgcdm:loaded",this.onGCDMLoaded.bind(this));b.unsubscribe(this.overlayOpenedHandle)},onOverlayClosing:function(){b.unsubscribe(this.overlayClosingHandle);b.unsubscribe(this.overlayOpenedHandle);
this.gcdmLoadedHandle&&b.unsubscribe(this.gcdmLoadedHandle);c=null},onOverlayClosed:function(a){a.overlayContent.empty();b.unsubscribe(this.overlayClosedHandle)},onGCDMLoaded:function(){c&&this.sendVehicle(c.data("configured-vehicle"));this.isGcdmLoaded=!0;b.unsubscribe(this.gcdmLoadedHandle)},sendVehicle:function(){var a=k.currentModel.get(),d=b(".md-custom-selector .md-cs-accordion-active .md-cs-carousel-item-active[data-bodytype-code]").find(".md-cs-image-front .md-rimage"),f=b(d).find("img");
d=f.data("cosySrcset");f=f.data("cosySrcset");var g=e.configurator.getCosyImages();c.data("md-current-modelcode")&&(d=c.data("md-currentSrcwide"),f=c.data("md-currentSrcwide"));this.vehicleData?(this.vehicleData.bodyName=a.modelRangeName,this.vehicleData.vehicleName=a.modelName,this.vehicleData.cosyImageInfos=[{},{},{urlString:g.exteriorImageUrl}],b.publish("md:configurator:gcdmRequest",[this.vehicleData])):a.modelCode&&b.publish("md:configurator:gcdmRequest",[{modelRange:a.modelRangeCode,bodyName:a.modelRangeName,
vehicleName:a.modelName,modelCode:a.modelCode,cosyImageInfos:[{},{},{urlString:this.isNarrow?d:f}]}])},updateCtas:function(a){(function(a,c){window.requestAnimationFrame(function(){k.teardown(a);h(a);a.html(b(c).html());k.initialise(a);f(a);e.share&&e.share.bindEvents&&e.share.bindEvents()})})(this.$elem,a)},onPageChanged:function(b){var c=this,d=k.getContentUrl(b.url,"dropdownctas"),f=b.modelCode,e=b.modelRangeCode,g=k.currentModel.history().modelCode,h=k.currentModel.history().modelRangeCode;""===
b.url||""===k.currentModel.history().url||f===g&&e===h||(a[d]=a[d]||k.request.get(d,"html"),a[d].then(function(a){c.updateCtas(a)}))},onClickDropdownCta:function(a){a.preventDefault();a=b(a.currentTarget);var d=a.attr("href").replace(/.html$/gi,"")+"/jcr:content/main.html"+window.location.search;this.destroyOverlay();this.instanceOverlay=b.mdOverlay({source:d,ajax:!0,titleFromContent:!0,titleSelector:".md-custom-overlay-header-title",style:"steps",veilZIndex:1030,initialiseSource:!0},a);c=a;a=a.data();
a.mdCurrentModelcode&&k.currentModel.set({modelRangeCode:a.mdCurrentModelrangecode,modelRangeName:a.mdCurrentModelrangename,modelCode:a.mdCurrentModelcode,modelName:a.mdCurrentModelname,cosyImages:a.mdCurrentsrcwide});"rfo"!==a.formType||a.configuredVehicle?"configurator"===a.formType?b.publish("md:selectormanager:render"):(this.overlayOpenedHandle=b.subscribe("md:overlay:opened",this.onOverlayOpened.bind(this)),this.overlayClosingHandle=b.subscribe("md:overlay:closing",this.onOverlayClosing.bind(this)),
this.overlayClosedHandle=b.subscribe("md:overlay:closed",this.onOverlayClosed.bind(this)),this.instanceOverlay.openOverlay()):b.publish("md:cta:rfo:unconfigured")},onChangeDropdown:function(){var a=this.$dropdownctaSelect.find("option:selected"),b=a.data("dropdownctaPath");a=a.data("formType");this.$dropdowncta.attr("href",b).data("formType",a)},dropdownctaOverlay:function(){var a=this;this.isNarrow=!k.matchmedia.wide.matches;this.listeners.push(b.subscribe("h5vco.configurationChanged",function(b){a.vehicleData=
b}));this.$dropdowncta.on("click.dropdownctas",this.onClickDropdownCta.bind(this))},prepareDropdowncta:function(){this.$dropdownctaSelect.on("change.dropdownctas",this.onChangeDropdown.bind(this));this.dropdownctaOverlay()},setInternals:function(){this.$dropdowncta=this.$elem.find(".md-dropdowncta-link");this.$dropdownctaSelect=this.$elem.find(".md-dropdownctas-options")},init:function(){this.setInternals();this.prepareDropdowncta();this.listeners.push(b.subscribe("md:currentModel:changed",this.onPageChanged.bind(this)))},
destroy:function(){k.unsubArray(this.listeners);this.$dropdownctaSelect.off("change.dropdownctas");this.$dropdowncta.off("click.dropdownctas")}};e.dropdownctas={init:f,teardown:h,getCurrentOverlay:function(){var a=null;c&&c.length&&c.data("overlay")&&(a=c.data("overlay"));return a}}})(mini.digital.$,mini.digital.comp,mini.digital.util,mini.digital.util.matchmedia);
mini.digital.comp.versioninfo=function(b,e){function k(a){a.find(".md-versioninfo-healthcheck-gcdm-ucp-btn").click(function(a){a.preventDefault();var b=e(a.target).closest(".md-versioninfo-healthcheck-container");a=b.find(".md-versioninfo-healthcheck-tenant").text();var d=b.find(".md-versioninfo-healthcheck-loading");d.css("display","block");g(b);a&&""!==a&&e.get("/bin/public/business/healthcheck."+a+".json?q\x3dgcdm_integrity").done(function(a){a?c(a,b):c({success:!1,message:"No result received from test"},
b)}).fail(function(a){c({success:!1,message:a.status+". "+a.statusText},b)}).always(function(){d.css("display","none")})})}function g(a){var b=a.find(".md-versioninfo-healthcheck-result-type");a=a.find(".md-versioninfo-healthcheck-result-message");b.text("");a.text("")}function c(a,b){g(b);var c=b.find(".md-versioninfo-healthcheck-result-type");b=b.find(".md-versioninfo-healthcheck-result-message");c.removeClass("md-versioninfo-healthcheck-result-error");c.removeClass("md-versioninfo-healthcheck-result-success");
c.addClass(a.success?"md-versioninfo-healthcheck-result-success":"md-versioninfo-healthcheck-result-error");c.text(a.success?"SUCCESS":"FAILED");b.text(a.message)}var a=void 0,d=void 0,f=void 0;return{init:function(b,c){b=e(b);a=e(c).find(".md-component.md-logo");a.click(function(a){a.altKey&&a.shiftKey&&(a.preventDefault(),a.stopPropagation(),f.openOverlay(a))});d=b.overlay({open:!1,ajax:!1,title:b.find(".md-versioninfo-overlay-title").text(),source:b.find(".md-versioninfo-overlay-body"),style:"med"});
f=d.data("overlay");e.subscribe("md:overlay:opened",function(a){k(a.overlayContent)})},teardown:function(a){}}}(mini.digital.util,mini.digital.$);
mini.digital.comp.anchor=function(b,e,k){var g=b.anchorButton.MD_ANCHOR_NAME;return{init:function(c,a){function d(){b.anchorButton.scrollToAnchor(f.find("[data-"+g+"]"))}var f=e(c);c=f.find("[data-"+g+"]").data(g);var h=k.location.hash.substring(1);c==h&&((c=e("body").find(".md-video-player"))&&0<c.length&&e.subscribe("md:videoplayer:ready",function(){d()}),setTimeout(function(){d()},1E3),e(a).ready(function(){d()}))},teardown:function(b){},scroll:function(b){b=b.offset();e("html, body").animate({scrollTop:b.top,
scrollLeft:b.left})}}}(mini.digital.util,mini.digital.$,window);
mini.digital.util.experian=function(b,e,k){var g=b.ContactDataServices=b.ContactDataServices||{};g.addressTemplates={"default":'\x3cdiv class\x3d"toggle"\x3e{addressLine1}\x3c/div\x3e\x3cdiv class\x3d"toggle"\x3e{addressLine2}\x3c/div\x3e\x3cdiv class\x3d"toggle"\x3e{addressLine3}\x3c/div\x3e\x3cdiv class\x3d"toggle"\x3e{locality}\x3c/div\x3e\x3cdiv class\x3d"toggle"\x3e{province}\x3c/div\x3e\x3cdiv class\x3d"toggle"\x3e{postalCode}\x3c/div\x3e\x3cdiv class\x3d"toggle"\x3e{country}\x3c/div\x3e',aus:'\x3cdiv class\x3d"toggle"\x3e{addressLine1}\x3c/div\x3e\x3cdiv class\x3d"toggle"\x3e{addressLine2}\x3c/div\x3e\x3cdiv class\x3d"toggle"\x3e{addressLine3}\x3c/div\x3e\x3cdiv class\x3d"toggle"\x3e{locality} {provinceCode} {postalCode}\x3c/div\x3e\x3cdiv class\x3d"toggle"\x3e{country}\x3c/div\x3e',
fra:'\x3cdiv class\x3d"toggle"\x3e{addressLine1}\x3c/div\x3e\x3cdiv class\x3d"toggle"\x3e{addressLine2}\x3c/div\x3e\x3cdiv class\x3d"toggle"\x3e{addressLine3}\x3c/div\x3e\x3cdiv class\x3d"toggle"\x3e{postalCode} {locality}\x3c/div\x3e\x3cdiv class\x3d"toggle"\x3e{country}\x3c/div\x3e',gbr:'\x3cdiv class\x3d"toggle"\x3e{addressLine1}\x3c/div\x3e\x3cdiv class\x3d"toggle"\x3e{addressLine2}\x3c/div\x3e\x3cdiv class\x3d"toggle"\x3e{addressLine3}\x3c/div\x3e\x3cdiv class\x3d"toggle"\x3e{locality}\x3c/div\x3e\x3cdiv class\x3d"toggle"\x3e{province}\x3c/div\x3e\x3cdiv class\x3d"toggle"\x3e{postalCode}\x3c/div\x3e\x3cdiv class\x3d"toggle"\x3e{country}\x3c/div\x3e',
nzl:'\x3cdiv class\x3d"toggle"\x3e{addressLine1}\x3c/div\x3e\x3cdiv class\x3d"toggle"\x3e{addressLine2}\x3c/div\x3e\x3cdiv class\x3d"toggle"\x3e{addressLine3}\x3c/div\x3e\x3cdiv class\x3d"toggle"\x3e{locality} {postalCode}\x3c/div\x3e\x3cdiv class\x3d"toggle"\x3e{country}\x3c/div\x3e',usa:'\x3cdiv class\x3d"toggle"\x3e{addressLine1}\x3c/div\x3e\x3cdiv class\x3d"toggle"\x3e{addressLine2}\x3c/div\x3e\x3cdiv class\x3d"toggle"\x3e{addressLine3}\x3c/div\x3e\x3cdiv class\x3d"toggle"\x3e{locality} {province} {postalCode}\x3c/div\x3e\x3cdiv class\x3d"toggle"\x3e{country}\x3c/div\x3e'};
g.defaults={input:{placeholderText:"Start typing an address ..."},formattedAddress:{showHeading:!1,headingType:"h3",validatedHeadingText:"Validated address",manualHeadingText:"Manual address entered"},editAddressText:"Edit address",searchAgainText:"Search again",useAddressEnteredText:"\x3cem\x3eEnter address manually\x3c/em\x3e",useSpinner:!1,language:"en",addressLineLabels:"addressLine1 addressLine2 addressLine3 locality province postalCode country".split(" ")};g.eventFactory=function(){var b={collection:{},
on:function(a,c){b.collection[a]=b.collection[a]||[];b.collection[a].push(c)},trigger:function(a,c){if(b.collection[a])for(var d=0;d<b.collection[a].length;d++){for(var e=[c],g=2;g<arguments.length;g++)e.push(arguments[g]);b.collection[a][d].apply(b.collection,e)}}};return b};g.translations={en:{gbr:{locality:"Town/City",province:"County",postalCode:"Post code"},usa:{locality:"City",province:"State",postalCode:"Zip code"}}};g.ua={banner:{show:function(b){var a=e.querySelector(".ua-banner");if(!a){var c=
e.querySelector("body").firstChild;a=e.createElement("div");a.classList.add("ua-banner");c.parentNode.insertBefore(a,c.nextSibling)}a.innerHTML=b},hide:function(){var b=e.querySelector(".ua-banner");b&&b.parentNode.removeChild(b)}}};g.urls={construct:{address:{search:function(b){var a=b.endpoint;a+="?query\x3d"+encodeURIComponent(b.currentSearchTerm);a+="\x26country\x3d"+b.currentCountryCode;a+="\x26take\x3d"+(b.maxSize||b.picklist.maxSize);return a+="\x26auth-token\x3d"+b.token},format:function(b,
a){return b+"\x26auth-token\x3d"+a.token}}},getToken:function(b){b.token||(b.token=g.urls.getParameter("token"))},getParameter:function(b){b=b.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");b=(new RegExp("[\\?\x26]"+b+"\x3d([^\x26#]*)")).exec(location.search);return null===b?"":decodeURIComponent(b[1].replace(/\+/g," "))}};g.address=function(c){var a=c||{};a.enabled=!0;a.language=a.language||g.defaults.language;a.useSpinner=a.useSpinner||g.defaults.useSpinner;a.lastSearchTerm="";a.currentSearchTerm=
"";a.lastCountryCode="";a.currentCountryCode="";a.currentSearchUrl="";a.currentFormatUrl="";a.placeholderText=a.placeholderText||g.defaults.input.placeholderText;a.editAddressText=a.editAddressText||g.defaults.editAddressText;a.searchAgainText=a.searchAgainText||g.defaults.searchAgainText;a.formattedAddress=a.formattedAddress||g.defaults.formattedAddress;a.elements=a.elements||{};a.events=new g.eventFactory;a.init=function(){a.setCountryList();a.elements.input&&(a.input=a.elements.input,a.input.addEventListener("keyup",
a.search),a.input.addEventListener("keydown",a.checkTab),a.input.setAttribute("placeholder",a.placeholderText),a.input.parentNode.setAttribute("autocomplete","off"),a.input.parentNode.addEventListener("submit",function(a){a.preventDefault()}))};a.search=function(c){c=c||b.event;c=c.which||c.keyCode;38===c||40===c||13===c?a.picklist.keyup(c):(a.currentSearchTerm=a.input.value,a.currentCountryCode=a.countryList.value,a.canSearch()?(a.request.currentRequest&&a.request.currentRequest.abort(),a.events.trigger("pre-search",
a.currentSearchTerm),c=g.urls.construct.address.search(a),a.lastSearchTerm=a.currentSearchTerm,a.result.hide(),a.searchSpinner.hide(),a.searchSpinner.show(),a.request.get(c,a.picklist.show)):a.lastSearchTerm!==a.currentSearchTerm&&a.picklist.hide())};a.setCountryList=function(){a.countryList=a.elements.countryList;a.countryList||a.createCountryDropdown()};a.canSearch=function(){return a.enabled&&""!==a.currentSearchTerm&&a.lastSearchTerm!==a.currentSearchTerm&&a.countryList.value!==k&&""!==a.countryList.value};
a.checkTab=function(c){c=c||b.event;c=c.which||c.keyCode;9===c&&a.picklist.keyup(c)};a.createCountryDropdown=function(){a.countryList={}};a.format=function(b){a.events.trigger("pre-formatting-search",b);a.searchSpinner.hide();a.currentFormatUrl=g.urls.construct.address.format(b,a);a.request.get(a.currentFormatUrl,a.result.show)};a.picklist={size:0,maxSize:25,show:function(b){a.picklist.items=b.results;a.picklist.currentItem=null;a.picklist.size=a.picklist.items.length;a.picklist.container=a.picklist.container||
a.picklist.createList();a.picklist.container.innerHTML="";a.picklist.resetTabCount();a.searchSpinner.hide();0<a.picklist.size&&(a.events.trigger("pre-picklist-create",a.picklist.items),a.picklist.items.forEach(function(b){b=a.picklist.createListItem(b);a.picklist.container.appendChild(b);a.picklist.listen(b)}),a.events.trigger("post-picklist-create"))},hide:function(){a.picklist.currentItem=null;a.picklist.container&&(a.input.parentNode.removeChild(a.picklist.container),a.picklist.container=k)},useAddressEntered:{create:function(){var b=
a.picklist.createListItem({suggestion:g.defaults.useAddressEnteredText,format:""});b.classList.add("use-address-entered");a.picklist.container.parentNode.insertBefore(b,a.picklist.container.nextSibling);b.addEventListener("click",a.picklist.useAddressEntered.click);return b},destroy:function(){a.picklist.useAddressEntered.element&&(a.picklist.container.parentNode.removeChild(a.picklist.useAddressEntered.element),a.picklist.useAddressEntered.element=k)},click:function(){var b={address:[]};if(a.currentSearchTerm){var c=
a.currentSearchTerm.split(",");if(0<c.length)for(var e=0;e<c.length;e++)b.address.push(a.picklist.useAddressEntered.formatManualAddressLine(c,e));c=7-c.length;if(0<c)for(c=7-c;7>c;c++)b.address.push(a.picklist.useAddressEntered.formatManualAddressLine([],c))}a.result.show(b);a.result.editAddressManually()},formatManualAddressLine:function(a,b){var c={};c[g.defaults.addressLineLabels[b]]=a[b]||"";return c}},createList:function(){var b=e.createElement("div");b.classList.add("address-picklist");a.input.parentNode.insertBefore(b,
a.input.nextSibling);b.addEventListener("keydown",a.picklist.enter);return b},createListItem:function(b){var c=e.createElement("div");c.innerHTML=a.picklist.addMatchingEmphasis(b);c.setAttribute("format",b.format);return c},tabCount:-1,resetTabCount:function(){a.picklist.tabCount=-1},keyup:function(b){if(a.picklist.container)if(13===b||9===b)a.picklist.checkEnter();else{var c=a.picklist.container.querySelectorAll("div");if(0!==c.length){38===b?a.picklist.tabCount--:a.picklist.tabCount++;if(0>a.picklist.tabCount){a.picklist.tabCount=
c.length-1;var d=!0}if(a.picklist.tabCount>c.length-1){a.picklist.tabCount=0;var e=!0}b=c[a.picklist.tabCount];(c=a.picklist.container.querySelector(".selected"))&&c.classList.remove("selected");b.classList.add("selected");a.picklist.currentItem=b;c=a.picklist.container.offsetTop;var g=a.picklist.container.offsetTop+a.picklist.container.offsetHeight,k=a.picklist.container.scrollTop,l=b.offsetTop,t=b.offsetTop+b.offsetHeight;b=b.offsetHeight;e?a.picklist.container.scrollTop=0:d?a.picklist.container.scrollTop=
999:t+b>g?a.picklist.container.scrollTop=k+b:l-b-c<k&&(a.picklist.container.scrollTop=k-b)}}},addMatchingEmphasis:function(a){var b=a.matched||[];a=a.suggestion;for(var c=0;c<b.length;c++){var d="\x3cb\x3e"+a.substring(b[c][0],b[c][1])+"\x3c/b\x3e";a=a.substring(0,b[c][0])+d+a.substring(b[c][1])}return a},listen:function(b){b.addEventListener("click",a.picklist.pick.bind(null,b))},checkEnter:function(){if(1===a.picklist.size)var b=a.picklist.container.querySelectorAll("div")[0];else a.picklist.currentItem&&
(b=a.picklist.currentItem);b&&a.picklist.pick(b)},pick:function(b){a.events.trigger("post-picklist-selection",b);a.format(b.getAttribute("format"))}};a.result={show:function(b){a.searchSpinner.hide();a.picklist.hide();a.input.value="";if(0<b.address.length){a.events.trigger("post-formatting-search",b);a.result.formattedAddress=a.elements.formattedAddress||a.result.createFormattedAddressContainer();var c=g.addressTemplates.hasOwnProperty(a.currentCountryCode)?a.currentCountryCode:"default";c=g.addressTemplates[c];
for(var d=0;d<b.address.length;d++){var e=b.address[d],k;for(k in e)e.hasOwnProperty(k)&&(c=c.replace("{"+k+"}",e[k]))}c=c.replace(/{.*}/,"");a.result.formattedAddress.innerHTML+=c;a.result.renderInputList([])}},hide:function(){a.result.formattedAddress&&(e.querySelector(".formatted-address-container").removeChild(a.result.formattedAddress),a.result.formattedAddress=k)},createFormattedAddressContainer:function(){var b=e.createElement("div");b.classList.add("formatted-address");if(a.formattedAddress.showHeading){var c=
e.createElement(a.formattedAddress.headingType);c.innerHTML=a.formattedAddress.validatedHeadingText;b.appendChild(c)}e.querySelector(".formatted-address-container").appendChild(b);return b},createAddressLine:{input:function(a,b){var c=e.createElement("div");c.classList.add("hidden");c.classList.add("address-line-input");var d=e.createElement("label");d.innerHTML=a.replace(/([A-Z])/g," $1").replace(/([0-9])/g," $1").replace(/^./,function(a){return a.toUpperCase()});c.appendChild(d);d=e.createElement("input");
d.setAttribute("type","text");d.setAttribute("name",a);d.setAttribute("value",b);c.appendChild(d);return c},row:function(a){var b=e.createElement("div");b.classList.add("toggle");b.innerHTML=a;return b},label:function(b){var c=b,d=a.language,e=a.currentCountryCode,k=g.translations;if(k)try{var q=k[d][e][b];q&&(c=q)}catch(l){}return c}},createEditAddressLink:function(){var b=e.createElement("a");b.setAttribute("href","#");b.classList.add("edit-address-link");b.innerHTML=a.editAddressText;a.result.formattedAddress.appendChild(b);
b.addEventListener("click",a.result.editAddressManually)},createSearchAgainLink:function(){var b=e.createElement("a");b.setAttribute("href","#");b.classList.add("search-again-link");b.innerHTML=a.searchAgainText;a.result.formattedAddress.appendChild(b);b.addEventListener("click",a.reset)},editAddressManually:function(b){b&&b.preventDefault();a.formattedAddress.showHeading&&(a.result.formattedAddress.querySelector(a.formattedAddress.headingType).innerHTML=a.formattedAddress.manualHeadingText);a.result.formattedAddress.querySelector(".edit-address-link").classList.add("hidden");
a.toggleVisibility(a.result.formattedAddress);b=a.result.formattedAddress.querySelectorAll(".address-line-input");for(var c=0;c<b.length;c++)b[c].classList.remove("hidden")},renderInputList:function(b){if(0<b.length)for(var c=0;c<b.length;c++)a.result.formattedAddress.appendChild(b[c])}};a.toggleVisibility=function(a){a=a||e;a=a.querySelectorAll(".toggle");for(var b=0;b<a.length;b++)a[b].classList.contains("hidden")?a[b].classList.remove("hidden"):a[b].classList.add("hidden")};a.searchSpinner={show:function(){if(a.useSpinner){var b=
e.createElement("div");b.classList.add("loader");b.classList.add("loader-inline");var c=e.createElement("div");c.classList.add("spinner");b.appendChild(c);a.input.parentNode.insertBefore(b,a.input.nextSibling)}},hide:function(){if(a.useSpinner){var b=a.input.parentNode.querySelector(".loader-inline");b&&a.input.parentNode.removeChild(b)}}};a.reset=function(b){b&&b.preventDefault();a.enabled=!0;a.result.hide();a.toggleVisibility(a.input.parentNode);a.input.focus();a.events.trigger("post-reset")};a.handleError=
{badRequest:function(b){a.enabled=!1;a.handleError.showSubmitButton();a.events.trigger("request-error-400",b)},unauthorized:function(b){a.enabled=!1;a.handleError.showSubmitButton();a.events.trigger("request-error-401",b)},forbidden:function(b){a.enabled=!1;a.handleError.showSubmitButton();a.events.trigger("request-error-403",b)},notFound:function(b){a.enabled=!1;a.handleError.showSubmitButton();a.events.trigger("request-error-404",b)},showSubmitButton:function(){var b=e.createElement("button");b.innerText=
"Submit";a.input.parentNode.insertBefore(b,a.input.nextSibling);b.addEventListener("click",function(){a.picklist.useAddressEntered.click();a.input.parentNode.removeChild(b)})}};a.request={currentRequest:null,get:function(b,c){a.request.currentRequest=new XMLHttpRequest;a.request.currentRequest.open("GET",b,!0);a.request.currentRequest.timeout=5E3;a.request.currentRequest.onload=function(b){200<=a.request.currentRequest.status&&400>a.request.currentRequest.status?(b=JSON.parse(a.request.currentRequest.responseText),
c(b)):(a.searchSpinner.hide(),a.events.trigger("request-error",b),400===a.request.currentRequest.status?a.handleError.badRequest(b):401===a.request.currentRequest.status?a.handleError.unauthorized(b):403===a.request.currentRequest.status?a.handleError.forbidden(b):404===a.request.currentRequest.status&&a.handleError.notFound(b))};a.request.currentRequest.onerror=function(b){a.searchSpinner.hide();a.events.trigger("request-error",b)};a.request.currentRequest.ontimeout=function(b){a.searchSpinner.hide();
a.events.trigger("request-timeout",b)};a.request.currentRequest.send()}};a.init();return a};return g}(window,window.document||{});
(function(b){var e=mini.digital.comp.navigation||{};e.setReworkStyles=function(e){var g=b("body");g&&0<g.length&&b(g).addClass("md-navigation-rework");b(e).addClass("md-next");g=b("li.md-ss-range-item",e);1>g.length&&(g=b("[data-ss-component-integration\x3d'navigation'] li.md-ss-range-item"));g.each(function(){b(this).find(".md-ss-range-image-wrapper").insertBefore(b(this).find(".md-ss-range-info"));if(b(this).find("[data-ss-item-code\x3d'JCW']").length){var a=b('\x3cdiv class\x3d"md-ss-range-info"\x3e\x3cdiv class\x3d"md-ss-jwc-logo"\x3e\x3c/div\x3e\x3c/div\x3e');
b(this).find(".md-ss-range-info").before(a)}b(this).find("[data-ss-item-is-electric\x3d'true']").length?(a=b('\x3cdiv class\x3d"md-ss-range-info"\x3e\x3cdiv class\x3d"md-ss-elt-logo"\x3e\x3c/div\x3e\x3c/div\x3e'),b(this).find(".md-ss-range-info").before(a)):(b(this).find("[data-ss-item-code\x3d'ELECTRIC']").length&&(a=b('\x3cdiv class\x3d"md-ss-range-info"\x3e\x3cdiv class\x3d"md-ss-elt-logo"\x3e\x3c/div\x3e\x3c/div\x3e'),b(this).find(".md-ss-range-info").before(a)),b(this).find("[data-ss-item-code\x3d'Mini Electric']").length&&
(a=b('\x3cdiv class\x3d"md-ss-range-info"\x3e\x3cdiv class\x3d"md-ss-elt-logo"\x3e\x3c/div\x3e\x3c/div\x3e'),b(this).find(".md-ss-range-info").before(a)))});g=b(".md-shelf-close-btn-label");var c=g.text();g.remove();var a=b(' \x3cdiv class\x3d"md-nav-close"\x3e\x3ca href\x3d"javascript:void(0);" class\x3d"md-icnpost-close"\x3e\x3cspan class\x3d"md-hidden-accessibility"\x3e'+c+"\x3c/span\x3e\x3c/a\x3e\x3c/div\x3e");b(".md-nav-item-level1 \x3e .md-nav-shelf",e).each(function(){b(this).append(a.clone())});
b(".md-nav-close a",e).on("click",function(){var a=b(".md-custom-overlay-veil");if(a.length)b.publish("md:veil:click",[{id:a.attr("data-id")}]);else for(var c=e.parents(),d=0;d<c.length;d++)a=b(".md-custom-overlay-veil",b(c[d])),a.length&&b.publish("md:veil:click",[{id:a.attr("data-id")}]);e.find(".md-nav-show").prop("checked",!1);e.trigger("md-nav-statechange")});b(".md-ss-navigation[data-component-name\x3d'standardselector']").find(".md-ss-shelf-ctas-container a.md-inpagecta").removeClass().addClass("btn btn-secondary");
g=b("h6.md-ss-shelf-title",e).text().trim();var d=b("\x3ch2 class\x3d'h2 md-flex-container-nopadding md-navigation-models-title'\x3e"+g+"\x3c/h2\x3e");b(".md-ss-shelf-title",e).parents(".md-nav-shelf").prepend(d);b(".md-ss-shelf-title",e).remove();b("[data-component-name\x3d'standardshelf']").each(function(){var a=b(this).find("h2").text().trim();d=b("\x3ch2 class\x3d'h2'\x3e"+a+"\x3c/h2\x3e");b(this).parent(".md-nav-shelf-component").after(d).remove()});g=b('\x3cli class\x3d"md-ss-range-item"\x3e\x3c/li\x3e');
for(c=0;5>c;c++)b("[data-component-name\x3d'standardselector'] [data-ss-component-integration\x3d'navigation'] ul.md-ss-range-list",e).append(g.clone());var f=[];b(".md-nav-item-level2 \x3e ul",e).each(function(a,c){f.push(b(c).parent());b(c).hide()});f.forEach(function(a,c,d){b(a).children("a.md-nav-item-link").on("click",function(a){var c=b(a.currentTarget);c.hasClass("subnav-visible")?a.preventDefault():(a.preventDefault(),d.forEach(function(a){b(a).children("ul").hide();b(a).children("a.md-nav-item-link").removeClass("subnav-visible")}),
c.addClass("subnav-visible"),c.next("ul").show())})});b(".md-nav-shelf .md-standard-selector .md-ss-model-range .md-ss-range-link",e).each(function(a,c){b(c).off("click.standardselector");b(c).attr("onclick","mini.digital.comp.navigation.modelClick(this);")})};e.modelClick=function(e){b(e).off("click.standardselector")}})(mini.digital.$);
(function(b){var e=mini.digital.comp.navigation||{},k=function(e){this.$element=b(e);this.$links=this.$element.find(".md-nav-item-link, .md-ss-range-link");this.$modelShelf=this.$element.find(".md-model-shelf");this.$modelShelfTabs=this.$modelShelf.find(".tab-navigation__wrapper");this.$modelShelfPanels=this.$modelShelf.find(".md-model-shelf__panels");this.$modelShelfButtons=this.$modelShelf.find(".md-model-shelf__panel .btn");this.$modelShelfSubButtons=this.$modelShelf.find(".md-model-shelf__panel .entry-body");
this.trackingInstance={};digital&&digital.tracking&&(this.trackingInstance=digital.tracking.getInstance());this.settings=b.extend({debug:!1},this.$element.data());this.delayInstance=null;this.init()};k.prototype={defaultEvent:{eventInfo:{eventName:"",eventAction:"",cause:"",effect:""},category:{primaryCategory:"overview",subCategory01:"na"},attributes:{relatedComponentID:"",relatedComponentName:"navigation",relatedComponentPrimaryCategory:"overview"}},init:function(){this.updateTrackingDefaults();
this.$links.on("click tap",this.trackButtonClick.bind(this));this.$links.map(function(e,c){e=b(c);0!==e.siblings().length&&e.data("subnav",!1)});this.$modelShelf&&(this.$modelShelfTabs.on("click tap",this.trackModelShelfEvents.bind(this)),this.$modelShelfButtons.off("click tap").on("click tap",this.trackModelShelfEvents.bind(this)),this.$modelShelfSubButtons.on("click tap",this.trackModelShelfEvents.bind(this)))},updateTrackingDefaults:function(){if("undefined"!==typeof this.settings.trackingComponent){var b=
this.settings.trackingComponent,c=this.defaultEvent;c.category.primaryCategory=b.category.primaryCategory;c.attributes.relatedComponentID=b.componentInfo.componentId;c.attributes.relatedComponentName=b.componentInfo.componentName;c.attributes.relatedComponentPrimaryCategory=b.category.primaryCategory}},trackButtonClick:function(e){var c=b(e.currentTarget),a="LABEL"===c[0].tagName,d=c.is(".md-ss-range-link"),f="undefined"!==typeof c.data("subnav");(a=a||f&&c.is(".subnav-visible"))?c.data("subnav",
c.is(".subnav-visible")):e.preventDefault();a||(f=this.openLink.bind(this,e,c),this.delayInstance=setTimeout(f,500),b(window).one("digital:tracking:addEventTracking:finished",f));this.trackEvent(e,c,a,d)},trackEvent:function(b,c,a,d){var e=d?2:this.parseNavigationLevel(c);b={eventInfo:{eventName:"navigation item click",eventAction:b.type,timeStamp:Date.now().toString(),cause:a?"open submenu":"open link",effect:[e,"level"].join(" ")},attributes:{navigationItemWording:d?this.getRangeItemText(c):this.getLinkText(c)}};
try{this.trackingInstance.addEventTracking(this.defaultEvent,b,0)}catch(h){}},parseNavigationLevel:function(b){var c=/md-nav-item-level([1-3])$/;return b.parent('[class*\x3d"md-nav-item-level"]')[0].className.split(/\s+/).filter(function(a){return c.test(a)})[0].match(c)[1]||"na"},getRangeItemText:function(b){return b.data("ss-model-range-longname").trim().toLowerCase()},getLinkText:function(b){return b.text().trim().toLowerCase()},openLink:function(b,c){null!==this.delayInstance&&(clearTimeout(this.delayInstance),
this.delayInstance=null);var a=c.attr("href")||"#";c=c.attr("target");window.open(a,b.ctrlKey||b.metaKey||"_blank"==c?"_blank":"_self")},trackModelShelfEvents:function(b){b={eventInfo:{eventName:"navigation item click",eventAction:b.type,timeStamp:Date.now().toString(),cause:this.modelShelfInfo(b).cause,effect:this.modelShelfInfo(b).effect},attributes:{navigationItemWording:this.modelShelfInfo(b).navigationItemWording}};try{this.trackingInstance.addEventTracking(this.defaultEvent,b,0)}catch(c){}},
modelShelfInfo:function(e){var c=b(e.target).closest("a");e=this.$modelShelfPanels.find(".md-model-shelf__panel.active .md-fixedtext").text().toLowerCase().trim();if(c.hasClass("tab-navigation__heading"))return{effect:"2 level",cause:"open submenu",navigationItemWording:"models \x3e "+e};if(c.hasClass("btn")||c.hasClass("entry-body"))return c=c.find(".btn-title").text().toLowerCase().trim()||c.find(".text p").text().toLowerCase().trim(),{effect:"3 level",cause:"open link",navigationItemWording:"models \x3e "+
e+" \x3e "+c}}};e.Tracking=k})(mini.digital.$);mini=mini||{};mini.digital=mini.digital||{};mini.digital.util=mini.digital.util||{};mini.digital.comp=mini.digital.comp||{};mini.digital.$=$;
(function(b,e){var k=!1;b.initLegacyApp=function(b){var c=document;null!=b&&void 0!=b&&(c=b);if(k)console.warn("Warning: app can be initialised only once");else{if(null==b||void 0==b)k=!0;e.scrollTo.init();e.initialise(c);e.form.init();e.tracking.init();e.resize.init();window.dataLayer&&window.dataLayer.pages&&window.dataLayer.pages.length&&window.dataLayer.pages[0].product&&window.dataLayer.pages[0].product.length&&window.dataLayer.pages[0].product[0].attributes&&(b=window.dataLayer.pages[0].product[0].attributes,
c=window.dataLayer.pages[0].product[0].productInfo,mini.digital.util.currentModel.set({modelRangeCode:void 0!==b.mmdr?b.mmdr:b.bodyType,modelRangeName:"na"===b.bodyName||void 0===b.bodyName||void 0!==c?c.productName:b.bodyName}))}}})(mini.digital,mini.digital.util);
var UCPDataService=function(b,e){function k(){var a=g();if(!selfUcpService.configurationSettings.pdhUrl||!selfUcpService.configurationSettings.mandator)return console.log("Missing PDH url and the mandator to get the UCP settings"),a;if(selfUcpService.configurationSettings&&selfUcpService.configurationSettings.ucpV3BaseUrl&&-1<selfUcpService.configurationSettings.ucpV3BaseUrl.indexOf("%")){for(var b=decodeURIComponent(selfUcpService.configurationSettings.ucpV3BaseUrl),c=0;-1<b.indexOf("%")&&10>c;)b=
decodeURIComponent(b),c+=1,console.log("Decoded url: ",b);selfUcpService.configurationSettings.ucpV3BaseUrl=b}W(selfUcpService.configurationSettings.pdhUrl+selfUcpService.configurationSettings.PDH_SETTING_ENDPOINT+"/"+selfUcpService.configurationSettings.mandator,"GET",null,null).then(function(b){if(b){selfUcpService.configurationSettings.ucpservices.configs=b;selfUcpService.configurationSettings.ucpservices.configs.context.brand=b.context.brands[0];selfUcpService.configurationSettings.ucpservices.configs.context.brands=
b.context.brands;if(b&&(selfUcpService.configurationSettings.ucpV3BaseUrl||(selfUcpService.configurationSettings.ucpV3BaseUrl=b.endpoint),!selfUcpService.configurationSettings.apiKey)){var c=selfUcpService.configurationSettings;a:{if(b.apikeys){b=b.apikeys;for(var d=0;d<b.length;d++){var e=b[d];if(e.endpoint===selfUcpService.configurationSettings.ucpV3BaseUrl){b=e.apikey;break a}}}else if(b.apikey){b=b.apikey;break a}b=void 0}c.apiKey=b}selfUcpService.isInitialized=!0}a.resolve(selfUcpService.configurationSettings)},
function(b){a.reject(b)});return a}function g(){return b.Deferred()}function c(){return{"x-api-key":selfUcpService.configurationSettings.apiKey,"Content-type":"application/json"}}function a(a){a=selfUcpService.configurationSettings.ucpservices.GET_SAVED_VEHICLE_BY_CONFIGURL.replace(selfUcpService.CONST.CONFIGURL_PARAM,a);return selfUcpService.configurationSettings.ucpV3BaseUrl+a}function d(){var a=v(),b=selfUcpService.configurationSettings.ucpservices.configs.context;a=selfUcpService.configurationSettings.ucpservices.GET_SERIES_NAME.replace(selfUcpService.CONST.SOURCE_PARAM,
b.source).replace(selfUcpService.CONST.BRAND_PARAM,b.brand).replace(selfUcpService.CONST.COUNTRY_PARAM,b.country).replace(selfUcpService.CONST.EFFECT_DATE_PARAM,a).replace(selfUcpService.CONST.APPLICATION_PARAM,b.application).replace(selfUcpService.CONST.LANGUAGE_PARAM,b.language).replace(selfUcpService.CONST.CLUSTER_PARAM,b.cluster).replace(selfUcpService.CONST.GFSPOLICY_PARAM,b.gfsPolicy);return selfUcpService.configurationSettings.ucpV3BaseUrl+a}function f(a){var b=g(),c=d();Q(c).then(function(c){c[a]&&
c[a].phrases&&c[a].phrases.longDescription&&(selfUcpService.vehicle.seriesName=c[a].phrases.longDescription);b.resolve(c)},function(a){b.resolve(a)});return b}function h(a,b){var c=selfUcpService.configurationSettings.ucpservices.configs.context;a=selfUcpService.configurationSettings.ucpservices.GET_COSY_IMAGES.replace(selfUcpService.CONST.APPLICATION_PARAM,c.application).replace(selfUcpService.CONST.APPSHORT_PARAM,c.appShort?c.appShort:"h5-bmw").replace(selfUcpService.CONST.BRAND_PARAM,c.brand).replace(selfUcpService.CONST.MODEL_CODE_PARAM,
a).replace(selfUcpService.CONST.OPTIONS_PARAM,b);return selfUcpService.configurationSettings.ucpV3BaseUrl+a}function n(a){var b=g(),c=h(a.modelCode,a.options.join(","));a.cosyImageUrls={};a.cosyImageUrls[selfUcpService.CONST.FRONTSIDE_VIEW]="";a.cosyImageUrls[selfUcpService.CONST.SMALL_VEHICLE_34_VIEW]="";Q(c).then(function(c){var d=c[selfUcpService.CONST.VEHICLE];d&&(d&&d[selfUcpService.CONST.FRONTSIDE_VIEW]&&(a.cosyImageUrls[selfUcpService.CONST.FRONTSIDE_VIEW]=d[selfUcpService.CONST.FRONTSIDE_VIEW].imageUrl),
d&&d[selfUcpService.CONST.SMALL_VEHICLE_34_VIEW]&&(a.cosyImageUrls[selfUcpService.CONST.SMALL_VEHICLE_34_VIEW]=d[selfUcpService.CONST.SMALL_VEHICLE_34_VIEW].imageUrl));b.resolve(c)},function(a){b.resolve(a)});return b}function m(a,b,c){var d=selfUcpService.configurationSettings.ucpservices.configs.context,e=d.brand;c&&(e=c);a=selfUcpService.configurationSettings.ucpservices.GET_COSY_GARAGE_IMAGES.replace(selfUcpService.CONST.APPLICATION_PARAM,d.application).replace(selfUcpService.CONST.APPSHORT_PARAM,
d.appShort?d.appShort:"h5-bmw").replace(selfUcpService.CONST.BRAND_PARAM,e).replace(selfUcpService.CONST.MODEL_CODE_PARAM,a).replace(selfUcpService.CONST.OPTIONS_PARAM,b);return selfUcpService.configurationSettings.ucpV3BaseUrl+a}function q(a){if(a.mandator&&a.mandator.brand)var b=a.mandator.brand;var c=g();b=m(a.modelCode,a.options.join(","),b);a.cosyImageUrls={};a.cosyImageUrls[selfUcpService.CONST.FRONTSIDE_VIEW]="";a.cosyImageUrls[selfUcpService.CONST.SMALL_VEHICLE_34_VIEW]="";Q(b).then(function(b){if(b){var d=
b[selfUcpService.CONST.GARAGE];d&&(d&&d[selfUcpService.CONST.DT_GARGE]&&(a.cosyImageUrls[selfUcpService.CONST.FRONTSIDE_VIEW]=d[selfUcpService.CONST.DT_GARGE].imageUrl),d&&d[selfUcpService.CONST.SMALL_VEHICLE_34_VIEW]&&(a.cosyImageUrls[selfUcpService.CONST.SMALL_VEHICLE_34_VIEW]=d[selfUcpService.CONST.P_GARGE].imageUrl))}c.resolve(b)},function(a){c.resolve(a)});return c}function l(b){if(b&&selfUcpService.configurationSettings.apiKey){var c=g();b=a(b);Q(b).then(function(a){if(a){selfUcpService.vehicle.modelCode=
a.configuration.modelCode;selfUcpService.vehicle.modelBaseCode=a.configuration.modelCode;selfUcpService.vehicle.configId=a.configId;selfUcpService.vehicle.options=a.configuration.options.sort();selfUcpService.vehicle.configUrl=selfUcpService.configurationSettings.conBaseUrl+selfUcpService.configurationSettings.CON_OPEN_CONFIGURATION_ENDPOINT.replace(selfUcpService.CONST.CONFIGURL_PARAM,a.configId);selfUcpService.vehicle.optionalEquipments=[];for(var b=0;b<selfUcpService.vehicle.options.length;b++)selfUcpService.vehicle.optionalEquipments.push({code:selfUcpService.vehicle.options[b],
name:"",netPrice:"",grossPrice:"",displayFlag:!0,standard:""})}a.mandator&&a.mandator.brand&&(selfUcpService.configurationSettings.ucpservices.configs.context.brand=a.mandator.brand);selfUcpService.vehicle&&selfUcpService.vehicle.modelCode?G(selfUcpService.vehicle.modelCode).then(function(){c.resolve(a)},function(){c.resolve(a)}):c.resolve(a)},function(a){c.reject(a)});return c}}function t(a,b){selfUcpService.vehicle.modelCode=a;selfUcpService.vehicle.modelBaseCode=a;selfUcpService.vehicle.options=
b.sort();selfUcpService.vehicle.optionalEquipments=[];for(a=0;a<selfUcpService.vehicle.options.length;a++)selfUcpService.vehicle.optionalEquipments.push({code:selfUcpService.vehicle.options[a],name:"",netPrice:"",grossPrice:"",displayFlag:!0,standard:""})}function r(a,b){if(null!=a){if(a&&a.category===b)return a;if((a=a.subNodes)&&0<a.length){var c=a.length-1,d=r(a[c],b);if(null!=d)return d;for(;null==d&&-1<c;)if(--c,d=r(a[c],b),null!=d)return d}}return null}function v(a){var b=new Date,c=w(b);if(a&&
selfUcpService.configurationDates[a]){var d=Date.parse(selfUcpService.configurationDates[a].earliestEffectDate);d>b&&(c=selfUcpService.configurationDates[a].earliestEffectDate)}return c}function w(a){var b=new Date,c=b.getUTCFullYear(),d=b.getMonth()+1,e=b.getDate();a&&(c=a.getUTCFullYear(),d=b.getMonth()+1,e=b.getDate());return""+c+"-"+(10>d?"0"+d:d)+"-"+(10>e?"0"+e:e)}function x(a){var b=g(),c=selfUcpService.configurationSettings.ucpservices.configs,d=c.context.brand;a.mandator&&a.mandator.brand&&
(d=a.mandator.brand);var e=v(a.modelCode);c={settings:{priceTree:c.priceTree?c.priceTree:"DEFAULT",ignoreInvalidOptionCodes:!0,ignoreInvalidOaIds:!0},validityDates:{effectDate:e,taxDate:w()},vehicleDatasource:{source:c.context.source,brand:d,gfsPolicy:c.context.gfsPolicy,cluster:c.context.cluster},configuration:{model:a.modelCode,selectedOptions:a.options}};d=selfUcpService.configurationSettings.ucpV3BaseUrl+selfUcpService.configurationSettings.ucpservices.POST_PRICE_CALCULATION.replace(selfUcpService.CONST.COUNTRY_PARAM,
selfUcpService.configurationSettings.ucpservices.configs.context.country);T(d,JSON.stringify(c)).then(function(c){if(c){var d=r(c.priceTreeNode,selfUcpService.CONST.MODEL_AND_OPTION_TOTAL),e=r(c.priceTreeNode,selfUcpService.CONST.MODEL_TOTAL);c=r(c.priceTreeNode,selfUcpService.CONST.OPTION_TOTAL);d&&d.effectivePrice&&(d=d.effectivePrice,a.totalNetPrice=""+d.netPrice,a.totalGrossPrice=""+d.grossPrice,a.grossPrice=""+d.grossPrice);e&&e.effectivePrice&&(e=e.effectivePrice,a.modelNetPrice=""+e.netPrice,
a.modelGrossPrice=""+e.grossPrice);if(c){if(e=c.effectivePrice)a.equipmentNetPrice=""+e.netPrice,a.equipmentGrossPrice=""+e.grossPrice;e=c.subNodes;a.optionalEquipments&&u(e,a.optionalEquipments)}b.resolve(a)}},function(a){b.resolve(a)});return b}function u(a,b){if(b&&0<a.length)for(var c=0;c<a.length;c++){var d=a[c];"OPTION"!=d.category&&0<d.subNodes.length&&u(d.subNodes,b);if("OPTION"==d.category)for(var e=0;e<b.length;e++){var f=b[e];if(f.code==d.key&&d.effectivePrice){f.netPrice=""+d.effectivePrice.netPrice;
f.grossPrice=""+d.effectivePrice.grossPrice;break}}}}function y(a,b,c){var d=selfUcpService.configurationSettings.ucpservices.configs.context,e=d.brand;c&&(e=c);c=selfUcpService.configurationSettings.ucpservices.GET_OPTIONS_INFORMATIONS;var f=v(a);b=b.sort().join(",");c=c.replace(selfUcpService.CONST.BRAND_PARAM,e).replace(selfUcpService.CONST.SOURCE_PARAM,d.source).replace(selfUcpService.CONST.COUNTRY_PARAM,d.country).replace(selfUcpService.CONST.EFFECT_DATE_PARAM,f).replace(selfUcpService.CONST.ORDER_DATE_PARAM,
f).replace(selfUcpService.CONST.APPLICATION_PARAM,d.application).replace(selfUcpService.CONST.MODEL_CODE_PARAM,a).replace(selfUcpService.CONST.LANGUAGE_PARAM,d.language).replace(selfUcpService.CONST.OPTIONS_PARAM,b);return selfUcpService.configurationSettings.ucpV3BaseUrl+c}function B(a){if(a.mandator&&a.mandator.brand)var b=a.mandator.brand;b=y(a.modelCode,a.options,b);var c=g();Q(b).then(function(b){for(var d=0;d<a.optionalEquipments.length;d++){var e=a.optionalEquipments[d],f=b[e.code];f&&(f.phrases&&
(e.name=f.phrases.longDescription),e.displayFlag=1==f.displayTypeId,e.standard=""+f.std,e.type=f.type,e.isPaint="paint"==f.optionType,e.isFabric="fabric"==f.optionType);e.isPaint&&(a.paint=e);e.isFabric&&(a.fabric=e)}c.resolve(b)},function(a){c.resolve(a)});return c}function z(a,b){var c=selfUcpService.configurationSettings.ucpservices.configs.context,d=c.brand;b&&(d=b);b=v(a);a=selfUcpService.configurationSettings.ucpservices.GET_RANGE_CODE.replace(selfUcpService.CONST.SOURCE_PARAM,c.source).replace(selfUcpService.CONST.BRAND_PARAM,
d).replace(selfUcpService.CONST.COUNTRY_PARAM,c.country).replace(selfUcpService.CONST.EFFECT_DATE_PARAM,b).replace(selfUcpService.CONST.ORDER_DATE_PARAM,b).replace(selfUcpService.CONST.MODEL_CODE_PARAM,a);return selfUcpService.configurationSettings.ucpV3BaseUrl+a}function C(a){if(a.mandator&&a.mandator.brand)var b=a.mandator.brand;b=z(a.modelCode,b);var c=g();Q(b).then(function(b){a.modelRange=b.modelRange;a.agModelCode=b.agModelCode;a.series=b.series;a.bodyStyle=b.bodyStyle;a.baseModelCode=b.agModelCode;
f(b.series).then(function(a){c.resolve(a)},function(a){c.resolve(a)})},function(a){c.resolve(a)});return c}function A(a,b){var c=selfUcpService.configurationSettings.ucpservices.configs.context,d=c.brand;b&&(d=b);b=v(a);a=selfUcpService.configurationSettings.ucpservices.GET_MODEL_NAME.replace(selfUcpService.CONST.SOURCE_PARAM,c.source).replace(selfUcpService.CONST.BRAND_PARAM,d).replace(selfUcpService.CONST.COUNTRY_PARAM,c.country).replace(selfUcpService.CONST.EFFECT_DATE_PARAM,b).replace(selfUcpService.CONST.APPLICATION_PARAM,
c.application).replace(selfUcpService.CONST.LANGUAGE_PARAM,c.language).replace(selfUcpService.CONST.MODEL_CODE_PARAM,a);return selfUcpService.configurationSettings.ucpV3BaseUrl+a}function D(a,c,d){a=A(a,d);var e=g();Q(a).then(function(a){b.extend(selfUcpService.modelsNames,a);c&&c(a);e.resolve(a)},function(a){e.resolve(a)});return e}function H(a,b){b=g();for(var c=[],d=0;d<a.length;d++){var e=a[d],f=e.modelCode;var h=void 0,k=new Date(selfUcpService.configurationSettings.ucpservices.configs.context.effectDate);
selfUcpService.configurationDates[f]&&(h=new Date(selfUcpService.configurationDates[f].latestEffectDate));f=h&&k instanceof Date&&!isNaN(k)&&h instanceof Date&&!isNaN(h)&&k>h?!1:!0;f&&c.push(e)}b.resolve(c);return b}function F(a,b){var c=selfUcpService.configurationSettings.ucpservices.configs.context,d=c.brand;b&&(console.log("model codes belong to brand",b),d=b);a=selfUcpService.configurationSettings.ucpservices.MODELS.replace(selfUcpService.CONST.SOURCE_PARAM,c.source).replace(selfUcpService.CONST.BRAND_PARAM,
d).replace(selfUcpService.CONST.COUNTRY_PARAM,c.country).replace(selfUcpService.CONST.MODEL_CODE_PARAM,a);a=selfUcpService.configurationSettings.ucpV3BaseUrl+a;var e=g();Q(a).then(function(a){e.resolve(a)},function(a){e.reject(a)});return e}function G(a,c){var d=g();F(a,c).then(function(a){b.each(a,function(a,b){!selfUcpService.configurationDates[a]&&b&&(selfUcpService.configurationDates[a]=b.configurationDates)});d.resolve(a)},function(a){d.resolve(a)});return d}function K(a){var b=selfUcpService.configurationSettings.ucpservices.configs.context,
c=[];if(0<b.brands.length)for(var d=0;d<b.brands.length;d++){var e=selfUcpService.configurationSettings.ucpservices.GCDM_OWNER_CONFIGURATIONS.replace(selfUcpService.CONST.APPLICATION_PARAM,b.application).replace(selfUcpService.CONST.BRAND_PARAM,b.brands[d]).replace(selfUcpService.CONST.COUNTRY_PARAM,b.country).replace(selfUcpService.CONST.GCDM_TOKEN,a);selfUcpService.configurationSettings.gcdmBackendUrl&&0<selfUcpService.configurationSettings.gcdmBackendUrl.length&&(e=e+"?gcdm-environment\x3d"+selfUcpService.configurationSettings.gcdmBackendUrl);
c.push(selfUcpService.configurationSettings.ucpV3BaseUrl+e)}return c}function I(a){a=K(a);for(var c=g(),d=[],e=[],f=0;f<a.length;f++)e.push(S(a[f],d).promise());b.when.apply(b,e).then(function(){c.resolve(d)},function(){c.resolve(d)});return c}function S(a,b){var c=g();Q(a).then(function(a){if(a){var d=[],e="",f="",g;for(g in a){var h=a[g].configuration.modelCode;garageEntry={configUrl:a[g].configId,modelCode:h,created:a[g].metadata.creationDate,lastUpdate:a[g].metadata.lastModified,note:a[g].note1||
a[g].note2,options:a[g].configuration.options.sort(),optionalEquipments:[],mandator:a[g].mandator};for(var k=0;k<garageEntry.options.length;k++)garageEntry.optionalEquipments.push({code:garageEntry.options[k]});-1==d.indexOf(h)&&d.push(a[g].configuration.modelCode);e=garageEntry.mandator.brand;b.push(garageEntry)}0<d.length&&(f=d.sort().join(","));G(d,e).then(function(){H(b).then(function(a){b=a;D(f,null,e).then(function(){J(b).then(function(){c.resolve(b)},function(){c.resolve(b)})},function(){J(b).then(function(){c.resolve(b)},
function(){c.resolve(b)})})})},function(){J(b).then(function(){c.resolve(b)},function(){c.resolve(b)})})}});return c}function J(a){for(var c=[],d=g(),e=0;e<a.length;e++){var f=a[e];c.push(x(f).promise());c.push(C(f).promise());c.push(q(f).promise());c.push(B(f).promise())}b.when.apply(b,c).done(function(){for(var b=0;b<a.length;b++){var c=a[b].modelCode;selfUcpService.modelsNames&&selfUcpService.modelsNames[c]&&selfUcpService.modelsNames[c].phrases&&(a[b].vehicleName=selfUcpService.modelsNames[c].phrases.longDescription,
a[b].note||(a[b].note=selfUcpService.modelsNames[c].phrases.longDescription))}d.resolve()},function(){d.resolve()});return d}function L(a,b){var c=selfUcpService.configurationSettings.ucpservices.configs.context;b||(b=c.brand);a=selfUcpService.configurationSettings.ucpservices.GCDM_OWNER_CONFIGURATIONS.replace(selfUcpService.CONST.APPLICATION_PARAM,c.application).replace(selfUcpService.CONST.BRAND_PARAM,b).replace(selfUcpService.CONST.COUNTRY_PARAM,c.country).replace(selfUcpService.CONST.GCDM_TOKEN,
a);return selfUcpService.configurationSettings.ucpV3BaseUrl+a}function R(a,b){a=L(a,b.brand);var c=g();T(a,JSON.stringify({configuration:{modelCode:b.modelCode,options:b.selectedFeatures},note1:b.note})).then(function(a){a&&c.resolve({baseConfigUrl:a.configId})},function(a){c.reject(a)});return c}function O(a,b){var c=selfUcpService.configurationSettings.ucpservices.configs.context;a=selfUcpService.configurationSettings.ucpservices.UPDATE_GARAGE_VEHICLE.replace(selfUcpService.CONST.APPLICATION_PARAM,
c.application).replace(selfUcpService.CONST.BRAND_PARAM,c.brand).replace(selfUcpService.CONST.COUNTRY_PARAM,c.country).replace(selfUcpService.CONST.GCDM_TOKEN,a).replace(selfUcpService.CONST.CONFIG_ID,b);return selfUcpService.configurationSettings.ucpV3BaseUrl+a}function U(a,b){var d=g();a=O(a,b);W(a,selfUcpService.CONST.DELETE,null,c()).then(function(){d.resolve({status:"OK"})},function(){d.reject()});return d}function N(a,b){var c=g(),d=O(a,b.configUrl),e={configuration:{modelCode:b.modelCode.value,
options:b.options},note1:b.note};Q(d).then(function(a){a&&!e.note1&&(e.note1=a.note1);da(d,JSON.stringify(e)).then(function(a){c.resolve({configUrl:b.configUrl,modelCode:b.modelCode.value,options:b.options,note:e.note1,created:a.creationDate,lastUpdate:a.lastUpdate})},function(a){c.reject(a)})},function(a){c.reject(a)});return c}function T(a,b){return W(a,selfUcpService.CONST.POST,b,c())}function Q(a){return W(a,selfUcpService.CONST.GET,null,c())}function da(a,b){return W(a,selfUcpService.CONST.PUT,
b,c())}function W(a,c,d,e){var f=g(),h="json";-1<selfUcpService.CONST.DELETE.indexOf(c)&&(h="text");b.ajax({url:a,type:c,data:d,dataType:h,headers:e}).done(function(a){f.resolve(a)}).fail(function(a,b,c){console.log("call failed",b);f.reject(b)});return f}function ca(){var a=g(),c=[];c.push(x(selfUcpService.vehicle).promise());c.push(B(selfUcpService.vehicle).promise());c.push(C(selfUcpService.vehicle).promise());c.push(D(selfUcpService.vehicle.modelCode,null).promise());c.push(n(selfUcpService.vehicle).promise());
b.when.apply(b,c).done(function(){selfUcpService.modelsNames[selfUcpService.vehicle.modelCode]&&selfUcpService.modelsNames[selfUcpService.vehicle.modelCode].phrases&&(selfUcpService.vehicle.modelName=selfUcpService.modelsNames[selfUcpService.vehicle.modelCode].phrases.longDescription);a.resolve(selfUcpService.vehicle)},function(){a.resolve(selfUcpService.vehicle)});return a}function Y(){var a=selfUcpService.configurationSettings.ucpservices.configs.context;a=selfUcpService.configurationSettings.ucpservices.GARAGE_SAVE_ANONYMOUS.replace(selfUcpService.CONST.APPLICATION_PARAM,
a.application).replace(selfUcpService.CONST.BRAND_PARAM,a.brand).replace(selfUcpService.CONST.COUNTRY_PARAM,a.country);return selfUcpService.configurationSettings.ucpV3BaseUrl+a}this.configurationSettings={ucpservices:{GET_SAVED_VEHICLE_BY_CONFIGURL:"/garage/public-configurations/{configUrl}",GET_OPTIONS_INFORMATIONS:"/localisations/overridden-vehicle-data/sources/{source}/brands/{brand}/countries/{country}/effect-dates/{effectDate}/order-dates/{orderDate}/applications/{application}/models/{modelCode}/options/languages/{language}?option-list\x3d{options}",
GET_MODEL_NAME:"/localisations/merged-phrases/sources/{source}/brands/{brand}/countries/{country}/effect-dates/{effectDate}/applications/{application}/models/languages/{language}?model-list\x3d{modelCode}",GET_RANGE_CODE:"/vehicles/sources/{source}/brands/{brand}/countries/{country}/effect-dates/{effectDate}/order-dates/{orderDate}/models/{modelCode}",POST_PRICE_CALCULATION:"/pricing/calculation/public-calculation/countries/{country}",GET_SERIES_NAME:"/localisations/merged-phrases/sources/{source}/brands/{brand}/countries/{country}/effect-dates/{effectDate}/applications/{application}/series/languages/{language}?cluster\x3d{cluster}\x26gfs-policy\x3d{gfsPolicy}",
GET_COSY_IMAGES:"/image-urls/applications/{application}/collections/VEHICLE/app-short/{appShort}/brands/{brand}/dynamic-images/models/{modelCode}?included-options\x3d{options}",GCDM_OWNER_CONFIGURATIONS:"/garage/applications/{application}/brands/{brand}/countries/{country}/gcdm-owners/{gcdmToken}/configurations",UPDATE_GARAGE_VEHICLE:"/garage/applications/{application}/brands/{brand}/countries/{country}/gcdm-owners/{gcdmToken}/configurations/{configId}",GET_COSY_GARAGE_IMAGES:"/image-urls/applications/{application}/collections/GARAGE/app-short/{appShort}/brands/{brand}/dynamic-images/models/{modelCode}?included-options\x3d{options}",
GARAGE_SAVE_ANONYMOUS:"/garage/applications/{application}/brands/{brand}/countries/{country}/anon-configurations",MODELS:"/vehicles/sources/{source}/brands/{brand}/countries/{country}/models?vg-model-codes\x3d{modelCode}"},ucpV3BaseUrl:void 0,CON_OPEN_CONFIGURATION_ENDPOINT:"/configid/{configUrl}",PDH_SETTING_ENDPOINT:"/pdh/settings/v1.0/ucpv3"};b.extend(this.configurationSettings,e);this.CONST={CONFIGURL_PARAM:"{configUrl}",BRAND_PARAM:"{brand}",COUNTRY_PARAM:"{country}",EFFECT_DATE_PARAM:"{effectDate}",
ORDER_DATE_PARAM:"{orderDate}",APPLICATION_PARAM:"{application}",MODEL_CODE_PARAM:"{modelCode}",LANGUAGE_PARAM:"{language}",LOCALE_PARAM:"{locale}",OPTIONS_PARAM:"{options}",SOURCE_PARAM:"{source}",CLUSTER_PARAM:"{cluster}",GFSPOLICY_PARAM:"{gfsPolicy}",APPSHORT_PARAM:"{appShort}",GCDM_TOKEN:"{gcdmToken}",CONFIG_ID:"{configId}",GET:"GET",POST:"POST",PUT:"PUT",DELETE:"DELETE",MODEL_AND_OPTION_TOTAL:"MODEL_AND_OPTION_TOTAL",MODEL_TOTAL:"MODEL_TOTAL",OPTION_TOTAL:"OPTION_TOTAL",SMALL_VEHICLE_34_VIEW:"SMALL_VEHICLE_34_VIEW",
FRONTSIDE_VIEW:"FRONTSIDE_VIEW",VEHICLE:"VEHICLE",GARAGE:"GARAGE",DT_GARGE:"DT_GARAGE",P_GARGE:"P_GARAGE"};this.vehicle={};this.modelsNames={};this.configurationDates={};selfUcpService=this;this.getVehicleByModelCodeAndOptions=function(a,b){var c=g(),d;if(a&&b&&0!=b.length)return this.configurationSettings.ucpservices.configs||(d=k()),d?d.then(function(){t(a,b);ca(a,b).then(function(a){c.resolve(a)})}):(t(a,b),ca(a,b).then(function(a){c.resolve(a)})),c};this.getVehicle=function(a){var b=g(),c;this.configurationSettings.ucpservices.configs||
(c=k());c?c.then(function(){l(a).then(function(){ca().then(function(a){b.resolve(a)})})}):l(a).then(function(){ca().then(function(a){b.resolve(a)})});return b};this.listVehicles=function(a){var b=g(),c;this.configurationSettings.ucpservices.configs||(c=k());c?c.then(function(){I(a).then(function(a){b.resolve(a)})}):I(a).then(function(a){b.resolve(a)});return b};this.createVehicle=function(a,b){var c=g(),d;this.configurationSettings.ucpservices.configs||(d=k());d?d.then(function(){R(a,b).then(function(a){c.resolve(a)},
function(a){c.reject(a)})}):R(a,b).then(function(a){c.resolve(a)},function(a){c.reject(a)});return c};this.updateVehicle=function(a,b){var c=g(),d;this.configurationSettings.ucpservices.configs||(d=k());d?d.then(function(){N(a,b).then(function(a){c.resolve(a)},function(a){c.reject(a)})}):N(a,b).then(function(a){c.resolve(a)},function(a){c.reject(a)});return c};this.deleteVehicle=function(a,b){var c=g(),d;this.configurationSettings.ucpservices.configs||(d=k());d?d.then(function(){U(a,b).then(function(a){c.resolve(a)},
function(a){c.reject(a)})}):U(a,b).then(function(a){c.resolve(a)},function(a){c.reject(a)});return c};this.getModelNameForModelCode=function(a){var b=g(),c;this.configurationSettings.ucpservices.configs||(c=k());c&&c.then(function(){D(a,function(c){c[a]&&c[a].phrases&&b.resolve(c[a].phrases.longDescription)})});return b};this.saveAnonymousConfig=function(a,b){var c=g();this.initialize().then(function(){var d=Y();T(d,JSON.stringify({configuration:{modelCode:a,options:b}})).then(function(a){a&&c.resolve({configId:a.configId})},
function(a){c.reject(a)})});return c};this.isModelAvailable=function(a){var b=g();this.initialize().then(function(){F(a).then(function(c){c?b.resolve(!!c[a]):b.resolve(!1)},function(a){b.reject(a)})});return b};this.initialize=function(){var a=g();this.configurationSettings.ucpservices.configs?a.resolve():k().then(function(){a.resolve()});return a}};
define("apps/business/accessories/components/accessories/clientlib/scripts/tracking/Tracking",["business/commons/TrackingAdapter"],function(b){var e={componentInfo:{componentID:"",componentName:"ZSO_accessories",componentHeadline:"na"},category:{primaryCatergory:"overview",subCategory01:""},attributes:{visible:"false",variant:"1 column"}},k=b.getTrackingDefaults(e);return{init:function(g,c){e.componentInfo.componentID=g;e.componentInfo.componentHeadline=c?c.trim():"";e.attributes.visible="true";b.initComponentTracking(e)},
setVisibility:function(b){e.attributes.visible=(b||!1).toString()},createEventObject:function(b,c,a,d,f,h,k){return{eventInfo:{eventName:b,eventAction:c,eventPoints:"na",target:f?f:"na",cause:d?d:"",effect:a?a:"",element:h?h:"Other"},category:{eventType:k?k:"triggered"},attributes:{relatedComponent:{componentInfo:e.componentInfo,category:e.category,attributes:e.attributes}}}},trackSelectSeries:function(b,c){this._trackEvent(this.createEventObject("ZSO Select series","select series",b,c))},trackSelectModelRange:function(b,
c){this._trackEvent(this.createEventObject("ZSO Select Modell range","select model range",b,c))},trackSelectCategories:function(b,c){this._trackEvent(this.createEventObject("ZSO Select Categories","select categories",b,c))},trackSelectProduct:function(b,c){this._trackEvent(this.createEventObject("ZSO Select Product","select product",b,c))},trackClickSpecificAccesory:function(b,c,a,d){this._trackEvent(this.createEventObject("ZSO Specific accessory click","accessory click",b,c,a,this._getElemType(d),
"delayed"))},trackClickRecommendedAccesory:function(b,c,a,d){this._trackEvent(this.createEventObject("ZSO recommended accessory click","accessory click",b,c,a,this._getElemType(d),"delayed"))},trackClickSpecificCTA:function(b,c,a){this._trackEvent(this.createEventObject("ZSO CTA click","cta click",b,c,a,"Button","delayed"))},_trackEvent:function(e){b.trackEvent(e,k,b.buildOptions("zso_interaction"))},_getElemType:function(b){return b?"Image":"Text link"}}});
define("business/commons/components/epaas-notavailable-banner",["jquery"],function(b){var e=function(e){var c=this;c.$element=b(e);c.closeButton=c.$element.find(".close-button")[0];!0===window.epaasNotAvailable&&c._showBanner(c.$element);(window.epaas&&window.epaas.api||window).addEventListener("consentcontroller.api.notavailable",function(){c._showBanner(c.$element)});b(this.closeButton).click(function(){c._hideBanner(c.$element)})},k=e.prototype;k._showBanner=function(b){b.addClass("show-banner")};
k._hideBanner=function(b){b.removeClass("show-banner")};return e});